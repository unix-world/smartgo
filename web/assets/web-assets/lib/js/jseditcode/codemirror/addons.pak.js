// JS-Script (UM): addons.pak.js @ 2025-01-07 23:40:22 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(d){"use strict";d.defineSimpleMode=function(e,t){d.defineMode(e,function(e){return d.simpleMode(e,t)})};d.simpleMode=function(e,t){h(t,"start");var n={},r=t.meta||{},i=false;for(var o in t){if(o!=r&&t.hasOwnProperty(o)){var a=n[o]=[],f=t[o];for(var l=0;l<f.length;l++){var s=f[l];a.push(new p(s,t));if(s.indent||s.dedent){i=true}}}}var c={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:i?[]:null}},copyState:function(e){var t={state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&&e.indent.slice(0)};if(e.localState){t.localState=d.copyState(e.local.mode,e.localState)}if(e.stack){t.stack=e.stack.slice(0)}for(var n=e.persistentStates;n;n=n.next){t.persistentStates={mode:n.mode,spec:n.spec,state:n.state==e.localState?t.localState:d.copyState(n.mode,n.state),next:t.persistentStates}}return t},token:g(n,e),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:v(n,r)};if(r){for(var u in r){if(r.hasOwnProperty(u)){c[u]=r[u]}}}return c};function h(e,t){if(!e.hasOwnProperty(t)){throw new Error("Undefined state "+t+" in simple mode")}}function l(e,t){if(!e){return/(?:)/}var n="";if(e instanceof RegExp){if(e.ignoreCase){n="i"}if(e.unicode){n+="u"}e=e.source}else{e=String(e)}return new RegExp((t===false?"":"^")+"(?:"+e+")",n)}function n(e){if(!e){return null}if(e.apply){return e}if(typeof e=="string"){return e.replace(/\./g," ")}var t=[];for(var n=0;n<e.length;n++){t.push(e[n]&&e[n].replace(/\./g," "))}return t}function p(e,t){if(e.next||e.push){h(t,e.next||e.push)}this.regex=l(e.regex);this.token=n(e.token);this.data=e}function g(u,d){return function(e,t){if(t.pending){var n=t.pending.shift();if(t.pending.length==0){t.pending=null}e.pos+=n.text.length;return n.token}if(t.local){if(t.local.end&&e.match(t.local.end)){var r=t.local.endToken||null;t.local=t.localState=null;return r}else{var r=t.local.mode.token(e,t.localState),i;if(t.local.endScan&&(i=t.local.endScan.exec(e.current()))){e.pos=e.start+i.index}return r}}var o=u[t.state];for(var a=0;a<o.length;a++){var f=o[a];var l=(!f.data.sol||e.sol())&&e.match(f.regex);if(l){if(f.data.next){t.state=f.data.next}else if(f.data.push){(t.stack||(t.stack=[])).push(t.state);t.state=f.data.push}else if(f.data.pop&&t.stack&&t.stack.length){t.state=t.stack.pop()}if(f.data.mode){m(d,t,f.data.mode,f.token)}if(f.data.indent){t.indent.push(e.indentation()+d.indentUnit)}if(f.data.dedent){t.indent.pop()}var s=f.token;if(s&&s.apply){s=s(l)}if(l.length>2&&f.token&&typeof f.token!="string"){for(var c=2;c<l.length;c++){if(l[c]){(t.pending||(t.pending=[])).push({text:l[c],token:f.token[c-1]})}}e.backUp(l[0].length-(l[1]?l[1].length:0));return s[0]}else if(s&&s.join){return s[0]}else{return s}}}e.next();return null}}function s(e,t){if(e===t){return true}if(!e||typeof e!="object"||!t||typeof t!="object"){return false}var n=0;for(var r in e){if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!s(e[r],t[r])){return false}n++}}for(var r in t){if(t.hasOwnProperty(r)){n--}}return n==0}function m(e,t,n,r){var i;if(n.persistent){for(var o=t.persistentStates;o&&!i;o=o.next){if(n.spec?s(n.spec,o.spec):n.mode==o.mode){i=o}}}var a=i?i.mode:n.mode||d.getMode(e,n.spec);var f=i?i.state:d.startState(a);if(n.persistent&&!i){t.persistentStates={mode:a,spec:n.spec,state:f,next:t.persistentStates}}t.localState=f;t.local={mode:a,end:n.end&&l(n.end),endScan:n.end&&n.forceEnd!==false&&l(n.end,false),endToken:r&&r.join?r[r.length-1]:r}}function c(e,t){for(var n=0;n<t.length;n++){if(t[n]===e){return true}}}function v(l,s){return function(e,t,n){if(e.local&&e.local.mode.indent){return e.local.mode.indent(e.localState,t,n)}if(e.indent==null||e.local||s.dontIndentStates&&c(e.state,s.dontIndentStates)>-1){return d.Pass}var r=e.indent.length-1,i=l[e.state];e:for(;;){for(var o=0;o<i.length;o++){var a=i[o];if(a.data.dedent&&a.data.dedentIfLineStart!==false){var f=a.regex.exec(t);if(f&&f[0]){r--;if(a.next||a.push){i=l[a.next||a.push]}t=t.slice(f[0].length);continue e}}}break}return r<0?0:e.indent[r]}}});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(c){"use strict";function i(i,o,e,a){if(e&&e.call){var f=e;e=null}else{var f=d(i,e,"rangeFinder")}if(typeof o=="number"){o=c.Pos(o,0)}var l=d(i,e,"minFoldSize");function t(e){var t=f(i,o);if(!t||t.to.line-t.from.line<l){return null}if(a==="fold"){return t}var n=i.findMarksAt(t.from);for(var r=0;r<n.length;++r){if(n[r].__isFold){if(!e){return null}t.cleared=true;n[r].clear()}}return t}var n=t(true);if(d(i,e,"scanUp")){while(!n&&o.line>i.firstLine()){o=c.Pos(o.line-1,0);n=t(false)}}if(!n||n.cleared||a==="unfold"){return}var r=u(i,e,n);c.on(r,"mousedown",function(e){s.clear();c.e_preventDefault(e)});var s=i.markText(n.from,n.to,{replacedWith:r,clearOnEnter:d(i,e,"clearOnEnter"),__isFold:true});s.on("clear",function(e,t){c.signal(i,"unfold",i,e,t)});c.signal(i,"fold",i,n.from,n.to)}function u(e,t,n){var r=d(e,t,"widget");if(typeof r=="function"){r=r(n.from,n.to)}if(typeof r=="string"){var i=document.createTextNode(r);r=document.createElement("span");r.appendChild(i);r.className="CodeMirror-foldmarker"}else if(r){r=r.cloneNode(true)}return r}c.newFoldFunction=function(n,r){return function(e,t){i(e,t,{rangeFinder:n,widget:r})}};c.defineExtension("foldCode",function(e,t,n){i(this,e,t,n)});c.defineExtension("isFolded",function(e){var t=this.findMarksAt(e);for(var n=0;n<t.length;++n){if(t[n].__isFold){return true}}});c.commands.toggleFold=function(e){e.foldCode(e.getCursor())};c.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")};c.commands.unfold=function(e){e.foldCode(e.getCursor(),{scanUp:false},"unfold")};c.commands.foldAll=function(n){n.operation(function(){for(var e=n.firstLine(),t=n.lastLine();e<=t;e++){n.foldCode(c.Pos(e,0),{scanUp:false},"fold")}})};c.commands.unfoldAll=function(n){n.operation(function(){for(var e=n.firstLine(),t=n.lastLine();e<=t;e++){n.foldCode(c.Pos(e,0),{scanUp:false},"unfold")}})};c.registerHelper("fold","combine",function(){var i=Array.prototype.slice.call(arguments,0);return function(e,t){for(var n=0;n<i.length;++n){var r=i[n](e,t);if(r){return r}}}});c.registerHelper("fold","auto",function(e,t){var n=e.getHelpers(t,"fold");for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i){return i}}});var o={rangeFinder:c.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:false,clearOnEnter:true};c.defineOption("foldOptions",null);function d(e,t,n){if(t&&t[n]!==undefined){return t[n]}var r=e.options.foldOptions;if(r&&r[n]!==undefined){return r[n]}return o[n]}c.defineExtension("foldOption",function(e,t){return d(this,e,t)})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"),require("./foldcode"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./foldcode"],e)}else{e(CodeMirror)}})(function(r){"use strict";r.defineOption("foldGutter",false,function(e,t,n){if(n&&n!=r.Init){e.clearGutter(e.state.foldGutter.options.gutter);e.state.foldGutter=null;e.off("gutterClick",l);e.off("changes",c);e.off("viewportChange",u);e.off("fold",g);e.off("unfold",g);e.off("swapDoc",c);e.off("optionChange",s)}if(t){e.state.foldGutter=new i(o(t));f(e);e.on("gutterClick",l);e.on("changes",c);e.on("viewportChange",u);e.on("fold",g);e.on("unfold",g);e.on("swapDoc",c);e.on("optionChange",s)}});var d=r.Pos;function i(e){this.options=e;this.from=this.to=0}function o(e){if(e===true){e={}}if(e.gutter==null){e.gutter="CodeMirror-foldgutter"}if(e.indicatorOpen==null){e.indicatorOpen="CodeMirror-foldgutter-open"}if(e.indicatorFolded==null){e.indicatorFolded="CodeMirror-foldgutter-folded"}return e}function h(e,t){var n=e.findMarks(d(t,0),d(t+1,0));for(var r=0;r<n.length;++r){if(n[r].__isFold){var i=n[r].find(-1);if(i&&i.line===t){return n[r]}}}}function p(e){if(typeof e=="string"){var t=document.createElement("div");t.className=e+" CodeMirror-guttermarker-subtle";return t}else{return e.cloneNode(true)}}function a(o,e,t){var a=o.state.foldGutter.options,f=e-1;var l=o.foldOption(a,"minFoldSize");var s=o.foldOption(a,"rangeFinder");var c=typeof a.indicatorFolded=="string"&&n(a.indicatorFolded);var u=typeof a.indicatorOpen=="string"&&n(a.indicatorOpen);o.eachLine(e,t,function(e){++f;var t=null;var n=e.gutterMarkers;if(n){n=n[a.gutter]}if(h(o,f)){if(c&&n&&c.test(n.className)){return}t=p(a.indicatorFolded)}else{var r=d(f,0);var i=s&&s(o,r);if(i&&i.to.line-i.from.line>=l){if(u&&n&&u.test(n.className)){return}t=p(a.indicatorOpen)}}if(!t&&!n){return}o.setGutterMarker(e,a.gutter,t)})}function n(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function f(e){var t=e.getViewport(),n=e.state.foldGutter;if(!n){return}e.operation(function(){a(e,t.from,t.to)});n.from=t.from;n.to=t.to}function l(e,t,n){var r=e.state.foldGutter;if(!r){return}var i=r.options;if(n!=i.gutter){return}var o=h(e,t);if(o){o.clear()}else{e.foldCode(d(t,0),i)}}function s(e,t){if(t=="mode"){c(e)}}function c(e){var t=e.state.foldGutter;if(!t){return}var n=t.options;t.from=t.to=0;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){f(e)},n.foldOnChangeTimeSpan||600)}function u(t){var n=t.state.foldGutter;if(!n){return}var e=n.options;clearTimeout(n.changeUpdate);n.changeUpdate=setTimeout(function(){var e=t.getViewport();if(n.from==n.to||e.from-n.to>20||n.from-e.to>20){f(t)}else{t.operation(function(){if(e.from<n.from){a(t,e.from,n.from);n.from=e.from}if(e.to>n.to){a(t,n.to,e.to);n.to=e.to}})}},e.updateViewportTimeSpan||400)}function g(e,t){var n=e.state.foldGutter;if(!n){return}var r=t.line;if(r>=n.from&&r<n.to){a(e,r,r+1)}}});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(h){"use strict";function e(l){return function(u,o){var d=o.line,a=u.getLine(d);function e(e){var t;for(var n=o.ch,r=0;;){var i=n<=0?-1:a.lastIndexOf(e[0],n-1);if(i==-1){if(r==1){break}r=1;n=a.length;continue}if(r==1&&i<o.ch){break}t=u.getTokenTypeAt(h.Pos(d,i+1));if(!/^(comment|string)/.test(t)){return{ch:i+1,tokenType:t,pair:e}}n=i-1}}function t(e){var t=1,n=u.lastLine(),r,i=e.ch,o;e:for(var a=d;a<=n;++a){var f=u.getLine(a),l=a==d?i:0;for(;;){var s=f.indexOf(e.pair[0],l),c=f.indexOf(e.pair[1],l);if(s<0){s=f.length}if(c<0){c=f.length}l=Math.min(s,c);if(l==f.length){break}if(u.getTokenTypeAt(h.Pos(a,l+1))==e.tokenType){if(l==s){++t}else if(!--t){r=a;o=l;break e}}++l}}if(r==null||d==r){return null}return{from:h.Pos(d,i),to:h.Pos(r,o)}}var n=[];for(var r=0;r<l.length;r++){var i=e(l[r]);if(i){n.push(i)}}n.sort(function(e,t){return e.ch-t.ch});for(var r=0;r<n.length;r++){var f=t(n[r]);if(f){return f}}return null}}h.registerHelper("fold","brace",e([["{","}"],["[","]"]]));h.registerHelper("fold","brace-paren",e([["{","}"],["[","]"],["(",")"]]));h.registerHelper("fold","import",function(a,e){function t(e){if(e<a.firstLine()||e>a.lastLine()){return null}var t=a.getTokenAt(h.Pos(e,1));if(!/\S/.test(t.string)){t=a.getTokenAt(h.Pos(e,t.end+1))}if(t.type!="keyword"||t.string!="import"){return null}for(var n=e,r=Math.min(a.lastLine(),e+10);n<=r;++n){var i=a.getLine(n),o=i.indexOf(";");if(o!=-1){return{startCh:t.end,end:h.Pos(n,o)}}}}var n=e.line,r=t(n),i;if(!r||t(n-1)||(i=t(n-2))&&i.end.line==n-1){return null}for(var o=r.end;;){var f=t(o.line+1);if(f==null){break}o=f.end}return{from:a.clipPos(h.Pos(n,r.startCh+1)),to:o}});h.registerHelper("fold","include",function(n,e){function t(e){if(e<n.firstLine()||e>n.lastLine()){return null}var t=n.getTokenAt(h.Pos(e,1));if(!/\S/.test(t.string)){t=n.getTokenAt(h.Pos(e,t.end+1))}if(t.type=="meta"&&t.string.slice(0,8)=="#include"){return t.start+8}}var r=e.line,i=t(r);if(i==null||t(r-1)!=null){return null}for(var o=r;;){var a=t(o+1);if(a==null){break}++o}return{from:h.Pos(r,i+1),to:n.clipPos(h.Pos(o))}})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(f){"use strict";function l(e,t){var n=e.getLine(t);var r=n.search(/\S/);if(r==-1||/\bcomment\b/.test(e.getTokenTypeAt(f.Pos(t,r+1)))){return-1}return f.countColumn(n,null,e.getOption("tabSize"))}f.registerHelper("fold","indent",function(e,t){var n=l(e,t.line);if(n<0){return}var r=null;for(var i=t.line+1,o=e.lastLine();i<=o;++i){var a=l(e,i);if(a==-1){}else if(a>n){r=i}else{break}}if(r){return{from:f.Pos(t.line,e.getLine(t.line).length),to:f.Pos(r,e.getLine(r).length)}}})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(b){"use strict";b.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(e,t){var n=e.getModeAt(t),r=n.blockCommentStart,i=n.blockCommentEnd;if(!r||!i){return}var o=t.line,a=e.getLine(o);var f;for(var l=t.ch,s=0;;){var c=l<=0?-1:a.lastIndexOf(r,l-1);if(c==-1){if(s==1){return}s=1;l=a.length;continue}if(s==1&&c<t.ch){return}if(/comment/.test(e.getTokenTypeAt(b.Pos(o,c+1)))&&(c==0||a.slice(c-i.length,c)==i||!/comment/.test(e.getTokenTypeAt(b.Pos(o,c))))){f=c+r.length;break}l=c-1}var u=1,d=e.lastLine(),h,p;e:for(var g=o;g<=d;++g){var m=e.getLine(g),v=g==o?f:0;for(;;){var y=m.indexOf(r,v),x=m.indexOf(i,v);if(y<0){y=m.length}if(x<0){x=m.length}v=Math.min(y,x);if(v==m.length){break}if(v==y){++u}else if(!--u){h=g;p=v;break e}++v}}if(h==null||o==h&&p==f){return}return{from:b.Pos(o,f),to:b.Pos(h,p)}})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(u){"use strict";u.registerHelper("fold","markdown",function(n,e){var i=100;function o(e){var t=n.getTokenTypeAt(u.Pos(e,0));return t&&/\bheader\b/.test(t)}function t(e,t,n){var r=t&&t.match(/^#+/);if(r&&o(e)){return r[0].length}r=n&&n.match(/^[=\-]+\s*$/);if(r&&o(e+1)){return n[0]=="="?1:2}return i}var r=n.getLine(e.line),a=n.getLine(e.line+1);var f=t(e.line,r,a);if(f===i){return undefined}var l=n.lastLine();var s=e.line,c=n.getLine(s+2);while(s<l){if(t(s+1,a,c)<=f){break}++s;a=c;c=n.getLine(s+2)}return{from:u.Pos(e.line,r.length),to:u.Pos(s,n.getLine(s).length)}})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(e){"use strict";var l=e.Pos;function s(e,t){return e.line-t.line||e.ch-t.ch}var t="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var n=t+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var r=new RegExp("<(/?)(["+t+"]["+n+"]*)","g");function c(e,t,n,r){this.line=t;this.ch=n;this.cm=e;this.text=e.getLine(t);this.min=r?Math.max(r.from,e.firstLine()):e.firstLine();this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function i(e,t){var n=e.cm.getTokenTypeAt(l(e.line,t));return n&&/\btag\b/.test(n)}function o(e){if(e.line>=e.max){return}e.ch=0;e.text=e.cm.getLine(++e.line);return true}function a(e){if(e.line<=e.min){return}e.text=e.cm.getLine(--e.line);e.ch=e.text.length;return true}function u(e){for(;;){var t=e.text.indexOf(">",e.ch);if(t==-1){if(o(e)){continue}else{return}}if(!i(e,t+1)){e.ch=t+1;continue}var n=e.text.lastIndexOf("/",t);var r=n>-1&&!/\S/.test(e.text.slice(n+1,t));e.ch=t+1;return r?"selfClose":"regular"}}function d(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(t==-1){if(a(e)){continue}else{return}}if(!i(e,t+1)){e.ch=t;continue}r.lastIndex=t;e.ch=t;var n=r.exec(e.text);if(n&&n.index==t){return n}}}function h(e){for(;;){r.lastIndex=e.ch;var t=r.exec(e.text);if(!t){if(o(e)){continue}else{return}}if(!i(e,t.index+1)){e.ch=t.index+1;continue}e.ch=t.index+t[0].length;return t}}function p(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(t==-1){if(a(e)){continue}else{return}}if(!i(e,t+1)){e.ch=t;continue}var n=e.text.lastIndexOf("/",t);var r=n>-1&&!/\S/.test(e.text.slice(n+1,t));e.ch=t+1;return r?"selfClose":"regular"}}function g(e,t){var n=[];for(;;){var r=h(e),i,o=e.line,a=e.ch-(r?r[0].length:0);if(!r||!(i=u(e))){return}if(i=="selfClose"){continue}if(r[1]){for(var f=n.length-1;f>=0;--f){if(n[f]==r[2]){n.length=f;break}}if(f<0&&(!t||t==r[2])){return{tag:r[2],from:l(o,a),to:l(e.line,e.ch)}}}else{n.push(r[2])}}}function m(e,t){var n=[];for(;;){var r=p(e);if(!r){return}if(r=="selfClose"){d(e);continue}var i=e.line,o=e.ch;var a=d(e);if(!a){return}if(a[1]){n.push(a[2])}else{for(var f=n.length-1;f>=0;--f){if(n[f]==a[2]){n.length=f;break}}if(f<0&&(!t||t==a[2])){return{tag:a[2],from:l(e.line,e.ch),to:l(i,o)}}}}}e.registerHelper("fold","xml",function(e,t){var n=new c(e,t.line,0);for(;;){var r=h(n);if(!r||n.line!=t.line){return}var i=u(n);if(!i){return}if(!r[1]&&i!="selfClose"){var o=l(n.line,n.ch);var a=g(n,r[2]);return a&&s(a.from,o)>0?{from:o,to:a.from}:null}}});e.findMatchingTag=function(e,t,n){var r=new c(e,t.line,t.ch,n);if(r.text.indexOf(">")==-1&&r.text.indexOf("<")==-1){return}var i=u(r),o=i&&l(r.line,r.ch);var a=i&&d(r);if(!i||!a||s(r,t)>0){return}var f={from:l(r.line,r.ch),to:o,tag:a[2]};if(i=="selfClose"){return{open:f,close:null,at:"open"}}if(a[1]){return{open:m(r,a[2]),close:f,at:"close"}}else{r=new c(e,o.line,o.ch,n);return{open:f,close:g(r,a[2]),at:"open"}}};e.findEnclosingTag=function(e,t,n,r){var i=new c(e,t.line,t.ch,n);for(;;){var o=m(i,r);if(!o){break}var a=new c(e,t.line,t.ch,n);var f=g(a,o.tag);if(f){return{open:o,close:f}}}};e.scanForClosingTag=function(e,t,n,r){var i=new c(e,t.line,t.ch,r?{from:0,to:r}:null);return g(i,n)}});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"),require("../fold/xml-fold"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../fold/xml-fold"],e)}else{e(CodeMirror)}})(function(a){"use strict";a.defineOption("matchTags",false,function(e,t,n){if(n&&n!=a.Init){e.off("cursorActivity",r);e.off("viewportChange",i);f(e)}if(t){e.state.matchBothTags=typeof t=="object"&&t.bothTags;e.on("cursorActivity",r);e.on("viewportChange",i);r(e)}});function f(e){if(e.state.tagHit){e.state.tagHit.clear()}if(e.state.tagOther){e.state.tagOther.clear()}e.state.tagHit=e.state.tagOther=null}function r(o){o.state.failedTagMatch=false;o.operation(function(){f(o);if(o.somethingSelected()){return}var e=o.getCursor(),t=o.getViewport();t.from=Math.min(t.from,e.line);t.to=Math.max(e.line+1,t.to);var n=a.findMatchingTag(o,e,t);if(!n){return}if(o.state.matchBothTags){var r=n.at=="open"?n.open:n.close;if(r){o.state.tagHit=o.markText(r.from,r.to,{className:"CodeMirror-matchingtag"})}}var i=n.at=="close"?n.open:n.close;if(i){o.state.tagOther=o.markText(i.from,i.to,{className:"CodeMirror-matchingtag"})}else{o.state.failedTagMatch=true}})}function i(e){if(e.state.failedTagMatch){r(e)}}a.commands.toMatchingTag=function(e){var t=a.findMatchingTag(e,e.getCursor());if(t){var n=t.at=="close"?t.open:t.close;if(n){e.extendSelection(n.to,n.from)}}}});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(r){var u=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var m=r.Pos;var v={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function y(e){return e&&e.bracketRegex||/[(){}[\]]/}function d(e,t,n){var r=e.getLineHandle(t.line),i=t.ch-1;var o=n&&n.afterCursor;if(o==null){o=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className)}var a=y(n);var f=!o&&i>=0&&a.test(r.text.charAt(i))&&v[r.text.charAt(i)]||a.test(r.text.charAt(i+1))&&v[r.text.charAt(++i)];if(!f){return null}var l=f.charAt(1)==">"?1:-1;if(n&&n.strict&&l>0!=(i==t.ch)){return null}var s=e.getTokenTypeAt(m(t.line,i+1));var c=h(e,m(t.line,i+(l>0?1:0)),l,s,n);if(c==null){return null}return{from:m(t.line,i),to:c&&c.pos,match:c&&c.ch==f.charAt(0),forward:l>0}}function h(e,t,n,r,i){var o=i&&i.maxScanLineLength||1e4;var a=i&&i.maxScanLines||1e3;var f=[];var l=y(i);var s=n>0?Math.min(t.line+a,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-a);for(var c=t.line;c!=s;c+=n){var u=e.getLine(c);if(!u){continue}var d=n>0?0:u.length-1,h=n>0?u.length:-1;if(u.length>o){continue}if(c==t.line){d=t.ch-(n<0?1:0)}for(;d!=h;d+=n){var p=u.charAt(d);if(l.test(p)&&(r===undefined||(e.getTokenTypeAt(m(c,d+1))||"")==(r||""))){var g=v[p];if(g&&g.charAt(1)==">"==n>0){f.push(p)}else if(!f.length){return{pos:m(c,d),ch:p}}else{f.pop()}}}}return c-n==(n>0?e.lastLine():e.firstLine())?false:null}function t(e,t,n){var r=e.state.matchBrackets.maxHighlightLineLength||1e3,i=n&&n.highlightNonMatching;var o=[],a=e.listSelections();for(var f=0;f<a.length;f++){var l=a[f].empty()&&d(e,a[f].head,n);if(l&&(l.match||i!==false)&&e.getLine(l.from.line).length<=r){var s=l.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";o.push(e.markText(l.from,m(l.from.line,l.from.ch+1),{className:s}));if(l.to&&e.getLine(l.to.line).length<=r){o.push(e.markText(l.to,m(l.to.line,l.to.ch+1),{className:s}))}}}if(o.length){if(u&&e.state.focused){e.focus()}var c=function(){e.operation(function(){for(var e=0;e<o.length;e++){o[e].clear()}})};if(t){setTimeout(c,800)}else{return c}}}function i(e){e.operation(function(){if(e.state.matchBrackets.currentlyHighlighted){e.state.matchBrackets.currentlyHighlighted();e.state.matchBrackets.currentlyHighlighted=null}e.state.matchBrackets.currentlyHighlighted=t(e,false,e.state.matchBrackets)})}function o(e){if(e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted){e.state.matchBrackets.currentlyHighlighted();e.state.matchBrackets.currentlyHighlighted=null}}r.defineOption("matchBrackets",false,function(e,t,n){if(n&&n!=r.Init){e.off("cursorActivity",i);e.off("focus",i);e.off("blur",o);o(e)}if(t){e.state.matchBrackets=typeof t=="object"?t:{};e.on("cursorActivity",i);e.on("focus",i);e.on("blur",o)}});r.defineExtension("matchBrackets",function(){t(this,true)});r.defineExtension("findMatchingBracket",function(e,t,n){if(n||typeof t=="boolean"){if(!n){t=t?{strict:true}:null}else{n.strict=t;t=n}}return d(this,e,t)});r.defineExtension("scanForBracket",function(e,t,n,r){return h(this,e,t,n,r)})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(r){r.defineOption("showTrailingSpace",false,function(e,t,n){if(n==r.Init){n=false}if(n&&!t){e.removeOverlay("trailingspace")}else if(!n&&t){e.addOverlay({token:function(e){for(var t=e.string.length,n=t;n&&/\s/.test(e.string.charAt(n-1));--n){}if(n>e.pos){e.pos=n;return null}e.pos=t;return"trailingspace"},name:"trailingspace"})}})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(u){function d(e,t,n){var r=e.getWrapperElement();var i;i=r.appendChild(document.createElement("div"));if(n){i.className="CodeMirror-dialog CodeMirror-dialog-bottom"}else{i.className="CodeMirror-dialog CodeMirror-dialog-top"}if(typeof t=="string"){i.innerHTML=t}else{i.appendChild(t)}u.addClass(r,"dialog-opened");return i}function h(e,t){if(e.state.currentNotificationClose){e.state.currentNotificationClose()}e.state.currentNotificationClose=t}u.defineExtension("openDialog",function(e,t,n){if(!n){n={}}h(this,null);var r=d(this,e,n.bottom);var i=false,o=this;function a(e){if(typeof e=="string"){f.value=e}else{if(i){return}i=true;u.rmClass(r.parentNode,"dialog-opened");r.parentNode.removeChild(r);o.focus();if(n.onClose){n.onClose(r)}}}var f=r.getElementsByTagName("input")[0],l;if(f){f.focus();if(n.value){f.value=n.value;if(n.selectValueOnOpen!==false){f.select()}}if(n.onInput){u.on(f,"input",function(e){n.onInput(e,f.value,a)})}if(n.onKeyUp){u.on(f,"keyup",function(e){n.onKeyUp(e,f.value,a)})}u.on(f,"keydown",function(e){if(n&&n.onKeyDown&&n.onKeyDown(e,f.value,a)){return}if(e.keyCode==27||n.closeOnEnter!==false&&e.keyCode==13){f.blur();u.e_stop(e);a()}if(e.keyCode==13){t(f.value,e)}});if(n.closeOnBlur!==false){u.on(r,"focusout",function(e){if(e.relatedTarget!==null){a()}})}}else if(l=r.getElementsByTagName("button")[0]){u.on(l,"click",function(){a();o.focus()});if(n.closeOnBlur!==false){u.on(l,"blur",a)}l.focus()}return a});u.defineExtension("openConfirm",function(e,t,n){h(this,null);var r=d(this,e,n&&n.bottom);var i=r.getElementsByTagName("button");var o=false,a=this,f=1;function l(){if(o){return}o=true;u.rmClass(r.parentNode,"dialog-opened");r.parentNode.removeChild(r);a.focus()}i[0].focus();for(var s=0;s<i.length;++s){var c=i[s];(function(t){u.on(c,"click",function(e){u.e_preventDefault(e);l();if(t){t(a)}})})(t[s]);u.on(c,"blur",function(){--f;setTimeout(function(){if(f<=0){l()}},200)});u.on(c,"focus",function(){++f})}});u.defineExtension("openNotification",function(e,t){h(this,a);var n=d(this,e,t&&t.bottom);var r=false,i;var o=t&&typeof t.duration!=="undefined"?t.duration:5e3;function a(){if(r){return}r=true;clearTimeout(i);u.rmClass(n.parentNode,"dialog-opened");n.parentNode.removeChild(n)}u.on(n,"click",function(e){u.e_preventDefault(e);a()});if(o){i=setTimeout(a,o)}return a})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(i){"use strict";var v=i.Pos;function o(e){var t=e.flags;return t!=null?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function g(e,t){var n=o(e),r=n;for(var i=0;i<t.length;i++){if(r.indexOf(t.charAt(i))==-1){r+=t.charAt(i)}}return n==r?e:new RegExp(e.source,r)}function m(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function p(e,t,n){t=g(t,"g");for(var r=n.line,i=n.ch,o=e.lastLine();r<=o;r++,i=0){t.lastIndex=i;var a=e.getLine(r),f=t.exec(a);if(f){return{from:v(r,f.index),to:v(r,f.index+f[0].length),match:f}}}}function a(e,t,n){if(!m(t)){return p(e,t,n)}t=g(t,"gm");var r,i=1;for(var o=n.line,a=e.lastLine();o<=a;){for(var f=0;f<i;f++){if(o>a){break}var l=e.getLine(o++);r=r==null?l:r+"\n"+l}i=i*2;t.lastIndex=n.ch;var s=t.exec(r);if(s){var c=r.slice(0,s.index).split("\n"),u=s[0].split("\n");var d=n.line+c.length-1,h=c[c.length-1].length;return{from:v(d,h),to:v(d+u.length-1,u.length==1?h+u[0].length:u[u.length-1].length),match:s}}}}function y(e,t,n){var r,i=0;while(i<=e.length){t.lastIndex=i;var o=t.exec(e);if(!o){break}var a=o.index+o[0].length;if(a>e.length-n){break}if(!r||a>r.index+r[0].length){r=o}i=o.index+1}return r}function x(e,t,n){t=g(t,"g");for(var r=n.line,i=n.ch,o=e.firstLine();r>=o;r--,i=-1){var a=e.getLine(r);var f=y(a,t,i<0?0:a.length-i);if(f){return{from:v(r,f.index),to:v(r,f.index+f[0].length),match:f}}}}function f(e,t,n){if(!m(t)){return x(e,t,n)}t=g(t,"gm");var r,i=1,o=e.getLine(n.line).length-n.ch;for(var a=n.line,f=e.firstLine();a>=f;){for(var l=0;l<i&&a>=f;l++){var s=e.getLine(a--);r=r==null?s:s+"\n"+r}i*=2;var c=y(r,t,o);if(c){var u=r.slice(0,c.index).split("\n"),d=c[0].split("\n");var h=a+u.length,p=u[u.length-1].length;return{from:v(h,p),to:v(h+d.length-1,d.length==1?p+d[0].length:d[d.length-1].length),match:c}}}}var b,C;if(String.prototype.normalize){b=function(e){return e.normalize("NFD").toLowerCase()};C=function(e){return e.normalize("NFD")}}else{b=function(e){return e.toLowerCase()};C=function(e){return e}}function k(e,t,n,r){if(e.length==t.length){return n}for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o){return i}var a=i+o>>1;var f=r(e.slice(0,a)).length;if(f==n){return a}else if(f>n){o=a}else{i=a+1}}}function l(e,t,n,r){if(!t.length){return null}var i=r?b:C;var o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,f=n.ch,l=e.lastLine()+1-o.length;a<=l;a++,f=0){var s=e.getLine(a).slice(f),c=i(s);if(o.length==1){var u=c.indexOf(o[0]);if(u==-1){continue e}var n=k(s,c,u,i)+f;return{from:v(a,k(s,c,u,i)+f),to:v(a,k(s,c,u+o[0].length,i)+f)}}else{var d=c.length-o[0].length;if(c.slice(d)!=o[0]){continue e}for(var h=1;h<o.length-1;h++){if(i(e.getLine(a+h))!=o[h]){continue e}}var p=e.getLine(a+o.length-1),g=i(p),m=o[o.length-1];if(g.slice(0,m.length)!=m){continue e}return{from:v(a,k(s,c,d,i)+f),to:v(a+o.length-1,k(p,g,m.length,i))}}}}function s(e,t,n,r){if(!t.length){return null}var i=r?b:C;var o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,f=n.ch,l=e.firstLine()-1+o.length;a>=l;a--,f=-1){var s=e.getLine(a);if(f>-1){s=s.slice(0,f)}var c=i(s);if(o.length==1){var u=c.lastIndexOf(o[0]);if(u==-1){continue e}return{from:v(a,k(s,c,u,i)),to:v(a,k(s,c,u+o[0].length,i))}}else{var d=o[o.length-1];if(c.slice(0,d.length)!=d){continue e}for(var h=1,n=a-o.length+1;h<o.length-1;h++){if(i(e.getLine(n+h))!=o[h]){continue e}}var p=e.getLine(a+1-o.length),g=i(p);if(g.slice(g.length-o[0].length)!=o[0]){continue e}return{from:v(a+1-o.length,k(p,g,p.length-o[0].length,i)),to:v(a,k(s,c,d.length,i))}}}}function r(n,r,e,t){this.atOccurrence=false;this.afterEmptyMatch=false;this.doc=n;e=e?n.clipPos(e):v(0,0);this.pos={from:e,to:e};var i;if(typeof t=="object"){i=t.caseFold}else{i=t;t=null}if(typeof r=="string"){if(i==null){i=false}this.matches=function(e,t){return(e?s:l)(n,r,t,i)}}else{r=g(r,"gm");if(!t||t.multiline!==false){this.matches=function(e,t){return(e?f:a)(n,r,t)}}else{this.matches=function(e,t){return(e?x:p)(n,r,t)}}}}r.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(e){var t=this.doc.clipPos(e?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence){t=v(t.line,t.ch);if(e){t.ch--;if(t.ch<0){t.line--;t.ch=(this.doc.getLine(t.line)||"").length}}else{t.ch++;if(t.ch>(this.doc.getLine(t.line)||"").length){t.ch=0;t.line++}}if(i.cmpPos(t,this.doc.clipPos(t))!=0){return this.atOccurrence=false}}var n=this.matches(e,t);this.afterEmptyMatch=n&&i.cmpPos(n.from,n.to)==0;if(n){this.pos=n;this.atOccurrence=true;return this.pos.match||true}else{var r=v(e?this.doc.firstLine():this.doc.lastLine()+1,0);this.pos={from:r,to:r};return this.atOccurrence=false}},from:function(){if(this.atOccurrence){return this.pos.from}},to:function(){if(this.atOccurrence){return this.pos.to}},replace:function(e,t){if(!this.atOccurrence){return}var n=i.splitLines(e);this.doc.replaceRange(n,this.pos.from,this.pos.to,t);this.pos.to=v(this.pos.from.line+n.length-1,n[n.length-1].length+(n.length==1?this.pos.from.ch:0))}};i.defineExtension("getSearchCursor",function(e,t,n){return new r(this.doc,e,t,n)});i.defineDocExtension("getSearchCursor",function(e,t,n){return new r(this,e,t,n)});i.defineExtension("selectMatches",function(e,t){var n=[];var r=this.getSearchCursor(e,this.getCursor("from"),t);while(r.findNext()){if(i.cmpPos(r.to(),this.getCursor("to"))>0){break}n.push({anchor:r.from(),head:r.to()})}if(n.length){this.setSelections(n,0)}})});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e)}else{e(CodeMirror)}})(function(l){"use strict";l.defineOption("search",{bottom:false});function r(n,e){if(typeof n=="string"){n=new RegExp(n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g")}else if(!n.global){n=new RegExp(n.source,n.ignoreCase?"gi":"g")}return{token:function(e){n.lastIndex=e.pos;var t=n.exec(e.string);if(t&&t.index==e.pos){e.pos+=t[0].length||1;return"searching"}else if(t){e.pos=t.index}else{e.skipToEnd()}}}}function t(){this.posFrom=this.posTo=this.lastQuery=this.query=null;this.overlay=null}function s(e){return e.state.search||(e.state.search=new t)}function i(e){return typeof e=="string"&&e==e.toLowerCase()}function c(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:true})}function u(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:true,closeOnEnter:false,onClose:function(){v(e)},onKeyDown:i,bottom:e.options.search.bottom})}function d(e,t,n,r,i){if(e.openDialog){e.openDialog(t,i,{value:r,selectValueOnOpen:true,bottom:e.options.search.bottom})}else{i(prompt(n,r))}}function h(e,t,n,r){if(e.openConfirm){e.openConfirm(t,r)}else if(confirm(n)){r[0]()}}function p(e){return e.replace(/\\([nrt\\])/g,function(e,t){if(t=="n"){return"\n"}if(t=="r"){return"\r"}if(t=="t"){return"\t"}if(t=="\\"){return"\\"}return e})}function o(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t){try{e=new RegExp(t[1],t[2].indexOf("i")==-1?"":"i")}catch(e){}}else{e=p(e)}if(typeof e=="string"?e=="":e.test("")){e=/x^/}return e}function g(e,t,n){t.queryText=n;t.query=o(n);e.removeOverlay(t.overlay,i(t.query));t.overlay=r(t.query,i(t.query));e.addOverlay(t.overlay);if(e.showMatchesOnScrollbar){if(t.annotate){t.annotate.clear();t.annotate=null}t.annotate=e.showMatchesOnScrollbar(t.query,i(t.query))}}function n(o,t,e,n){var r=s(o);if(r.query){return m(o,t)}var i=o.getSelection()||r.lastQuery;if(i instanceof RegExp&&i.source=="x^"){i=null}if(e&&o.openDialog){var a=null;var f=function(e,t){l.e_stop(t);if(!e){return}if(e!=r.queryText){g(o,r,e);r.posFrom=r.posTo=o.getCursor()}if(a){a.style.opacity=1}m(o,t.shiftKey,function(e,t){var n;if(t.line<3&&document.querySelector&&(n=o.display.wrapper.querySelector(".CodeMirror-dialog"))&&n.getBoundingClientRect().bottom-4>o.cursorCoords(t,"window").top){(a=n).style.opacity=.4}})};u(o,y(o),i,f,function(e,t){var n=l.keyName(e);var r=o.getOption("extraKeys"),i=r&&r[n]||l.keyMap[o.getOption("keyMap")][n];if(i=="findNext"||i=="findPrev"||i=="findPersistentNext"||i=="findPersistentPrev"){l.e_stop(e);g(o,s(o),t);o.execCommand(i)}else if(i=="find"||i=="findPersistent"){l.e_stop(e);f(t,e)}});if(n&&i){g(o,r,i);m(o,t)}}else{d(o,y(o),"Search for:",i,function(e){if(e&&!r.query){o.operation(function(){g(o,r,e);r.posFrom=r.posTo=o.getCursor();m(o,t)})}})}}function m(n,r,i){n.operation(function(){var e=s(n);var t=c(n,e.query,r?e.posFrom:e.posTo);if(!t.find(r)){t=c(n,e.query,r?l.Pos(n.lastLine()):l.Pos(n.firstLine(),0));if(!t.find(r)){return}}n.setSelection(t.from(),t.to());n.scrollIntoView({from:t.from(),to:t.to()},20);e.posFrom=t.from();e.posTo=t.to();if(i){i(t.from(),t.to())}})}function v(t){t.operation(function(){var e=s(t);e.lastQuery=e.query;if(!e.query){return}e.query=e.queryText=null;t.removeOverlay(e.overlay);if(e.annotate){e.annotate.clear();e.annotate=null}})}function a(e,t){var n=e?document.createElement(e):document.createDocumentFragment();for(var r in t){n[r]=t[r]}for(var i=2;i<arguments.length;i++){var o=arguments[i];n.appendChild(typeof o=="string"?document.createTextNode(o):o)}return n}function y(e){var t=a("label",{className:"CodeMirror-search-label"},e.phrase("Search:"),a("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field",id:"CodeMirror-search-field"}));t.setAttribute("for","CodeMirror-search-field");return a("",null,t," ",a("span",{style:"color: #666",className:"CodeMirror-search-hint"},e.phrase("(Use /re/ syntax for regexp search)")))}function x(e){return a("",null," ",a("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",a("span",{style:"color: #666",className:"CodeMirror-search-hint"},e.phrase("(Use /re/ syntax for regexp search)")))}function b(e){return a("",null,a("span",{className:"CodeMirror-search-label"},e.phrase("With:"))," ",a("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"}))}function C(e){return a("",null,a("span",{className:"CodeMirror-search-label"},e.phrase("Replace?"))," ",a("button",{},e.phrase("Yes"))," ",a("button",{},e.phrase("No"))," ",a("button",{},e.phrase("All"))," ",a("button",{},e.phrase("Stop")))}function k(t,r,i){t.operation(function(){for(var e=c(t,r);e.findNext();){if(typeof r!="string"){var n=t.getRange(e.from(),e.to()).match(r);e.replace(i.replace(/\$(\d)/g,function(e,t){return n[t]}))}else{e.replace(i)}}})}function f(f,e){if(f.getOption("readOnly")){return}var t=f.getSelection()||s(f).lastQuery;var n=e?f.phrase("Replace all:"):f.phrase("Replace:");var r=a("",null,a("span",{className:"CodeMirror-search-label"},n),x(f));d(f,r,n,t,function(a){if(!a){return}a=o(a);d(f,b(f),f.phrase("Replace with:"),"",function(r){r=p(r);if(e){k(f,a,r)}else{v(f);var i=c(f,a,f.getCursor("from"));var o=function(){var e=i.from(),t;if(!(t=i.findNext())){i=c(f,a);if(!(t=i.findNext())||e&&i.from().line==e.line&&i.from().ch==e.ch){return}}f.setSelection(i.from(),i.to());f.scrollIntoView({from:i.from(),to:i.to()});h(f,C(f),f.phrase("Replace?"),[function(){n(t)},o,function(){k(f,a,r)}])};var n=function(n){i.replace(typeof a=="string"?r:r.replace(/\$(\d)/g,function(e,t){return n[t]}));o()};o()}})})}l.commands.find=function(e){v(e);n(e)};l.commands.findPersistent=function(e){v(e);n(e,false,true)};l.commands.findPersistentNext=function(e){n(e,false,true,true)};l.commands.findPersistentPrev=function(e){n(e,true,true,true)};l.commands.findNext=n;l.commands.findPrev=function(e){n(e,true)};l.commands.clearSearch=v;l.commands.replace=f;l.commands.replaceAll=function(e){f(e,true)}});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(i){"use strict";var f="CodeMirror-activeline";var l="CodeMirror-activeline-background";var s="CodeMirror-activeline-gutter";i.defineOption("styleActiveLine",false,function(e,t,n){var r=n==i.Init?false:n;if(t==r){return}if(r){e.off("beforeSelectionChange",a);c(e);delete e.state.activeLines}if(t){e.state.activeLines=[];o(e,e.listSelections());e.on("beforeSelectionChange",a)}});function c(e){for(var t=0;t<e.state.activeLines.length;t++){e.removeLineClass(e.state.activeLines[t],"wrap",f);e.removeLineClass(e.state.activeLines[t],"background",l);e.removeLineClass(e.state.activeLines[t],"gutter",s)}}function u(e,t){if(e.length!=t.length){return false}for(var n=0;n<e.length;n++){if(e[n]!=t[n]){return false}}return true}function o(t,e){var n=[];for(var r=0;r<e.length;r++){var i=e[r];var o=t.getOption("styleActiveLine");if(typeof o=="object"&&o.nonEmpty?i.anchor.line!=i.head.line:!i.empty()){continue}var a=t.getLineHandleVisualStart(i.head.line);if(n[n.length-1]!=a){n.push(a)}}if(u(t.state.activeLines,n)){return}t.operation(function(){c(t);for(var e=0;e<n.length;e++){t.addLineClass(n[e],"wrap",f);t.addLineClass(n[e],"background",l);t.addLineClass(n[e],"gutter",s)}t.state.activeLines=n})}function a(e,t){o(e,t.ranges)}});(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(r){"use strict";r.defineOption("fullScreen",false,function(e,t,n){if(n==r.Init){n=false}if(!n==!t){return}if(t){i(e)}else{o(e)}});function i(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height};t.style.width="";t.style.height="auto";t.className+=" CodeMirror-fullscreen";document.documentElement.style.overflow="hidden";e.refresh()}function o(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width;t.style.height=n.height;window.scrollTo(n.scrollLeft,n.scrollTop);e.refresh()}});
// #END
