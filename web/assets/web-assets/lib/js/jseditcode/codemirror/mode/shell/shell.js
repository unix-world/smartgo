// JS-Script (UM): shell.js @ 2024-09-27 15:56:59 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(s){"use strict";s.defineMode("shell",function(){var o={};function e(e,t){for(var n=0;n<t.length;n++){o[t[n]]=e}}var t=["true","false"];var n=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"];var r=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];s.registerHelper("hintWords","shell",t.concat(n,r));e("atom",t);e("keyword",n);e("builtin",r);function i(e,t){if(e.eatSpace()){return null}var n=e.sol();var r=e.next();if(r==="\\"){e.next();return null}if(r==="'"||r==='"'||r==="`"){t.tokens.unshift(f(r,r==="`"?"quote":"string"));return c(e,t)}if(r==="#"){if(n&&e.eat("!")){e.skipToEnd();return"meta"}e.skipToEnd();return"comment"}if(r==="$"){t.tokens.unshift(l);return c(e,t)}if(r==="+"||r==="="){return"operator"}if(r==="-"){e.eat("-");e.eatWhile(/\w/);return"attribute"}if(r=="<"){if(e.match("<<")){return"operator"}var i=e.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(i){t.tokens.unshift(a(i[1]));return"string-2"}}if(/\d/.test(r)){e.eatWhile(/\d/);if(e.eol()||!/\w/.test(e.peek())){return"number"}}e.eatWhile(/[\w-]/);var s=e.current();if(e.peek()==="="&&/\w+/.test(s)){return"def"}return o.hasOwnProperty(s)?o[s]:null}function f(i,s){var o=i=="("?")":i=="{"?"}":i;return function(e,t){var n,r=false;while((n=e.next())!=null){if(n===o&&!r){t.tokens.shift();break}else if(n==="$"&&!r&&i!=="'"&&e.peek()!=o){r=true;e.backUp(1);t.tokens.unshift(l);break}else if(!r&&i!==o&&n===i){t.tokens.unshift(f(i,s));return c(e,t)}else if(!r&&/['"]/.test(n)&&!/['"]/.test(i)){t.tokens.unshift(u(n,"string"));e.backUp(1);break}r=!r&&n==="\\"}return s}}function u(n,r){return function(e,t){t.tokens[0]=f(n,r);e.next();return c(e,t)}}var l=function(e,t){if(t.tokens.length>1){e.eat("$")}var n=e.next();if(/['"({]/.test(n)){t.tokens[0]=f(n,n=="("?"quote":n=="{"?"def":"string");return c(e,t)}if(!/\d/.test(n)){e.eatWhile(/\w/)}t.tokens.shift();return"def"};function a(n){return function(e,t){if(e.sol()&&e.string==n){t.tokens.shift()}e.skipToEnd();return"string-2"}}function c(e,t){return(t.tokens[0]||i)(e,t)}return{startState:function(){return{tokens:[]}},token:function(e,t){return c(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}});s.defineMIME("text/x-sh","shell");s.defineMIME("application/x-sh","shell")});
// #END
