// JS-Script (UM): placeholder.js @ 2024-12-16 18:40:08 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(n){n.defineOption("placeholder","",function(e,o,t){var i=t&&t!=n.Init;if(o&&!i){e.on("blur",c);e.on("change",p);e.on("swapDoc",p);n.on(e.getInputField(),"compositionupdate",e.state.placeholderCompose=function(){a(e)});p(e)}else if(!o&&i){e.off("blur",c);e.off("change",p);e.off("swapDoc",p);n.off(e.getInputField(),"compositionupdate",e.state.placeholderCompose);l(e);var r=e.getWrapperElement();r.className=r.className.replace(" CodeMirror-empty","")}if(o&&!e.hasFocus()){c(e)}});function l(e){if(e.state.placeholder){e.state.placeholder.parentNode.removeChild(e.state.placeholder);e.state.placeholder=null}}function i(e){l(e);var o=e.state.placeholder=document.createElement("pre");o.style.cssText="height: 0; overflow: visible";o.style.direction=e.getOption("direction");o.className="CodeMirror-placeholder CodeMirror-line-like";var t=e.getOption("placeholder");if(typeof t=="string"){t=document.createTextNode(t)}o.appendChild(t);e.display.lineSpace.insertBefore(o,e.display.lineSpace.firstChild)}function a(t){setTimeout(function(){var e=false;if(t.lineCount()==1){var o=t.getInputField();e=o.nodeName=="TEXTAREA"?!t.getLine(0).length:!/[^\u200b]/.test(o.querySelector(".CodeMirror-line").textContent)}if(e){i(t)}else{l(t)}},20)}function c(e){if(r(e)){i(e)}}function p(e){var o=e.getWrapperElement(),t=r(e);o.className=o.className.replace(" CodeMirror-empty","")+(t?" CodeMirror-empty":"");if(t){i(e)}else{l(e)}}function r(e){return e.lineCount()===1&&e.getLine(0)===""}});
// #END
