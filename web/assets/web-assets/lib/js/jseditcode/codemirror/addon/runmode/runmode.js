// JS-Script (UM): runmode.js @ 2025-02-07 03:11:48 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(b){"use strict";b.runMode=function(e,t,n,r){var a=b.getMode(b.defaults,t);var c=r&&r.tabSize||b.defaults.tabSize;if(n.appendChild){var o=/MSIE \d/.test(navigator.userAgent);var l=o&&(document.documentMode==null||document.documentMode<9);var f=n,u=0;f.innerHTML="";n=function(e,t){if(e=="\n"){f.appendChild(document.createTextNode(l?"\r":e));u=0;return}var n="";for(var r=0;;){var a=e.indexOf("\t",r);if(a==-1){n+=e.slice(r);u+=e.length-r;break}else{u+=a-r;n+=e.slice(r,a);var o=c-u%c;u+=o;for(var i=0;i<o;++i){n+=" "}r=a+1}}if(t){var d=f.appendChild(document.createElement("span"));d.className="cm-"+t.replace(/ +/g," cm-");d.appendChild(document.createTextNode(n))}else{f.appendChild(document.createTextNode(n))}}}var i=b.splitLines(e),d=r&&r.state||b.startState(a);for(var s=0,p=i.length;s<p;++s){if(s){n("\n")}var m=new b.StringStream(i[s],null,{lookAhead:function(e){return i[s+e]},baseToken:function(){}});if(!m.string&&a.blankLine){a.blankLine(d)}while(!m.eol()){var v=a.token(m,d);n(m.current(),v,s,m.start,d,a);m.start=m.pos}}}});
// #END
