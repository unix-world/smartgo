// JS-Script (UM): autorefresh.js @ 2025-02-15 03:03:24 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(o){"use strict";o.defineOption("autoRefresh",false,function(e,t){if(e.state.autoRefresh){r(e,e.state.autoRefresh);e.state.autoRefresh=null}if(t&&e.display.wrapper.offsetHeight==0){i(e,e.state.autoRefresh={delay:t.delay||250})}});function i(e,t){function i(){if(e.display.wrapper.offsetHeight){r(e,t);if(e.display.lastWrapHeight!=e.display.wrapper.clientHeight){e.refresh()}}else{t.timeout=setTimeout(i,t.delay)}}t.timeout=setTimeout(i,t.delay);t.hurry=function(){clearTimeout(t.timeout);t.timeout=setTimeout(i,50)};o.on(window,"mouseup",t.hurry);o.on(window,"keyup",t.hurry)}function r(e,t){clearTimeout(t.timeout);o.off(window,"mouseup",t.hurry);o.off(window,"keyup",t.hurry)}});
// #END
