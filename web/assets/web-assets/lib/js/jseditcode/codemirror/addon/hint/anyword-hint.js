// JS-Script (UM): anyword-hint.js @ 2025-02-07 03:11:45 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(m){"use strict";var w=/[\w$]+/,y=500;m.registerHelper("hint","anyword",function(e,r){var i=r&&r.word||w;var t=r&&r.range||y;var o=e.getCursor(),n=e.getLine(o.line);var a=o.ch,l=a;while(l&&i.test(n.charAt(l-1))){--l}var f=l!=a&&n.slice(l,a);var s=r&&r.list||[],c={};var u=new RegExp(i.source,"g");for(var d=-1;d<=1;d+=2){var v=o.line,p=Math.min(Math.max(v+d*t,e.firstLine()),e.lastLine())+d;for(;v!=p;v+=d){var h=e.getLine(v),g;while(g=u.exec(h)){if(v==o.line&&g[0]===f){continue}if((!f||g[0].lastIndexOf(f,0)==0)&&!Object.prototype.hasOwnProperty.call(c,g[0])){c[g[0]]=true;s.push(g[0])}}}}return{list:s,from:m.Pos(o.line,l),to:m.Pos(o.line,a)}})});
// #END
