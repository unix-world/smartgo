// JS-Script (UM): simplescrollbars.js @ 2024-12-16 18:40:13 +0000
(function(t){if(typeof exports=="object"&&typeof module=="object"){t(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],t)}else{t(CodeMirror)}})(function(h){"use strict";function o(t,e,i){this.orientation=e;this.scroll=i;this.screen=this.total=this.size=1;this.pos=0;this.node=document.createElement("div");this.node.className=t+"-"+e;this.inner=this.node.appendChild(document.createElement("div"));var r=this;h.on(this.inner,"mousedown",function(t){if(t.which!=1){return}h.e_preventDefault(t);var e=r.orientation=="horizontal"?"pageX":"pageY";var i=t[e],o=r.pos;function n(){h.off(document,"mousemove",s);h.off(document,"mouseup",n)}function s(t){if(t.which!=1){return n()}r.moveTo(o+(t[e]-i)*(r.total/r.size))}h.on(document,"mousemove",s);h.on(document,"mouseup",n)});h.on(this.node,"click",function(t){h.e_preventDefault(t);var e=r.inner.getBoundingClientRect(),i;if(r.orientation=="horizontal"){i=t.clientX<e.left?-1:t.clientX>e.right?1:0}else{i=t.clientY<e.top?-1:t.clientY>e.bottom?1:0}r.moveTo(r.pos+i*r.screen)});function o(t){var e=h.wheelEventPixels(t)[r.orientation=="horizontal"?"x":"y"];var i=r.pos;r.moveTo(r.pos+e);if(r.pos!=i){h.e_preventDefault(t)}}h.on(this.node,"mousewheel",o);h.on(this.node,"DOMMouseScroll",o)}o.prototype.setPos=function(t,e){if(t<0){t=0}if(t>this.total-this.screen){t=this.total-this.screen}if(!e&&t==this.pos){return false}this.pos=t;this.inner.style[this.orientation=="horizontal"?"left":"top"]=t*(this.size/this.total)+"px";return true};o.prototype.moveTo=function(t){if(this.setPos(t)){this.scroll(t,this.orientation)}};var s=10;o.prototype.update=function(t,e,i){var o=this.screen!=e||this.total!=t||this.size!=i;if(o){this.screen=e;this.total=t;this.size=i}var n=this.screen*(this.size/this.total);if(n<s){this.size-=s-n;n=s}this.inner.style[this.orientation=="horizontal"?"width":"height"]=n+"px";this.setPos(this.pos,o)};function i(t,e,i){this.addClass=t;this.horiz=new o(t,"horizontal",i);e(this.horiz.node);this.vert=new o(t,"vertical",i);e(this.vert.node);this.width=null}i.prototype.update=function(t){if(this.width==null){var e=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;if(e){this.width=parseInt(e.height)}}var i=this.width||0;var o=t.scrollWidth>t.clientWidth+1;var n=t.scrollHeight>t.clientHeight+1;this.vert.node.style.display=n?"block":"none";this.horiz.node.style.display=o?"block":"none";if(n){this.vert.update(t.scrollHeight,t.clientHeight,t.viewHeight-(o?i:0));this.vert.node.style.bottom=o?i+"px":"0"}if(o){this.horiz.update(t.scrollWidth,t.clientWidth,t.viewWidth-(n?i:0)-t.barLeft);this.horiz.node.style.right=n?i+"px":"0";this.horiz.node.style.left=t.barLeft+"px"}return{right:n?i:0,bottom:o?i:0}};i.prototype.setScrollTop=function(t){this.vert.setPos(t)};i.prototype.setScrollLeft=function(t){this.horiz.setPos(t)};i.prototype.clear=function(){var t=this.horiz.node.parentNode;t.removeChild(this.horiz.node);t.removeChild(this.vert.node)};h.scrollbarModel.simple=function(t,e){return new i("CodeMirror-simplescroll",t,e)};h.scrollbarModel.overlay=function(t,e){return new i("CodeMirror-overlayscroll",t,e)}});
// #END
