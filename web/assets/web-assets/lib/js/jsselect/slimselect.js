// JS-Script (UM): slimselect.js @ 2024-12-16 18:39:58 +0000
(function e(t,i){if(typeof exports==="object"&&typeof module==="object"){module.exports=i()}else if(typeof define==="function"&&define.amd){define([],i)}else if(typeof exports==="object"){exports["SlimSelect"]=i()}else{t["SlimSelect"]=i()}})(window,function(){return function(i){var s={};function n(e){if(s[e]){return s[e].exports}var t=s[e]={i:e,l:false,exports:{}};i[e].call(t.exports,t,t.exports,n);t.l=true;return t.exports}n.m=i;n.c=s;n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:i})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(t,e){if(e&1){t=n(t)}if(e&8){return t}if(e&4&&typeof t==="object"&&t&&t.__esModule){return t}var i=Object.create(null);n.r(i);Object.defineProperty(i,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string"){for(var s in t){n.d(i,s,function(e){return t[e]}.bind(null,s))}}return i};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=2)}([function(e,t,i){"use strict";t.__esModule=true;function s(e,t){function i(e,t){if(!(!t||!e||!e.classList||!e.classList.contains(t))){return e}return null}function s(e,t){if(!e||e===document){return null}else if(i(e,t)){return e}else{return s(e.parentNode,t)}}return i(e,t)||s(e,t)}t.hasClassInTree=s;function n(e,t){var i=e.scrollTop+e.offsetTop;var s=i+e.clientHeight;var n=t.offsetTop;var a=n+t.clientHeight;if(n<i){e.scrollTop-=i-n}else if(a>s){e.scrollTop+=a-s}}t.ensureElementInView=n;function a(e,t,i){var s=e.offsetHeight;var n=e.getBoundingClientRect();var a=i?n.top:n.top-s;var l=i?n.bottom:n.bottom+s;if(a<=0){return"below"}if(l>=window.innerHeight){return"above"}return i?t:"below"}t.putContent=a;function l(a,l,o){if(l===void 0){l=100}if(o===void 0){o=false}var r;return function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=self;var s=function(){r=null;if(!o){a.apply(i,e)}};var n=o&&!r;clearTimeout(r);r=setTimeout(s,l);if(n){a.apply(i,e)}}}t.debounce=l;function o(e,t,i){if(!Array.isArray(e)){return e[t]===i}for(var s=0,n=e;s<n.length;s++){var a=n[s];if(a&&a[t]&&a[t]===i){return true}}return false}t.isValueInArrayOfObjects=o;function r(e,t,i){var s=e;var n=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(n)){return e}var a=e.match(n).index;var l=a+e.match(n)[0].toString().length;var o=e.substring(a,l);s=s.replace(n,'<mark class="'+i+'">'+o+"</mark>");return s}t.highlight=r;function c(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(e){return"-"+e.toLowerCase()});return e[0]===e[0].toUpperCase()?t.substring(1):t}t.kebabCase=c;(function(){var e=window;if(typeof e.CustomEvent==="function"){return}function t(e,t){t=t||{bubbles:false,cancelable:false,detail:undefined};var i=document.createEvent("CustomEvent");i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return i}t.prototype=e.Event.prototype;e.CustomEvent=t})()},function(e,t,i){"use strict";t.__esModule=true;var s=function(){function e(e){this.contentOpen=false;this.contentPosition="below";this.isOnChangeEnabled=true;this.main=e.main;this.searchValue="";this.data=[];this.filtered=null;this.parseSelectData();this.setSelectedFromSelect()}e.prototype.newOption=function(e){return{id:e.id?e.id:String(Math.floor(Math.random()*1e8)),value:e.value?e.value:"",text:e.text?e.text:"",innerHTML:e.innerHTML?e.innerHTML:"",selected:e.selected?e.selected:false,display:e.display!==undefined?e.display:true,disabled:e.disabled?e.disabled:false,placeholder:e.placeholder?e.placeholder:false,class:e["class"]?e["class"]:undefined,data:e.data?e.data:{},mandatory:e.mandatory?e.mandatory:false}};e.prototype.add=function(e){this.data.push({id:String(Math.floor(Math.random()*1e8)),value:e.value,text:e.text,innerHTML:"",selected:false,display:true,disabled:false,placeholder:false,class:undefined,mandatory:e.mandatory,data:{}})};e.prototype.parseSelectData=function(){this.data=[];var e=this.main.select.element.childNodes;for(var t=0,i=e;t<i.length;t++){var s=i[t];if(s.nodeName==="OPTGROUP"){var n=s;var a={label:n.label,options:[]};var l=s.childNodes;for(var o=0,r=l;o<r.length;o++){var c=r[o];if(c.nodeName==="OPTION"){var d=this.pullOptionData(c);a.options.push(d);if(d.placeholder&&d.text.trim()!==""){this.main.config.placeholderText=d.text}}}this.data.push(a)}else if(s.nodeName==="OPTION"){var d=this.pullOptionData(s);this.data.push(d);if(d.placeholder&&d.text.trim()!==""){this.main.config.placeholderText=d.text}}}};e.prototype.pullOptionData=function(e){return{id:(e.dataset?e.dataset.id:false)||String(Math.floor(Math.random()*1e8)),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:e.dataset.placeholder==="true",class:e.className,style:e.style.cssText,data:e.dataset,mandatory:e.dataset?e.dataset.mandatory==="true":false,title:e.title}};e.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){var e=this.main.select.element.options;var t=[];for(var i=0,s=e;i<s.length;i++){var n=s[i];if(n.selected){var a=this.getObjectFromData(n.value,"value");if(a&&a.id){t.push(a.id)}}}this.setSelected(t,"id")}else{var l=this.main.select.element;if(l.selectedIndex!==-1){var o=l.options[l.selectedIndex];var r=o.value;this.setSelected(r,"value")}}};e.prototype.setSelected=function(e,t){if(t===void 0){t="id"}for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a){for(var l=0,o=a;l<o.length;l++){var r=o[l];if(r.placeholder){continue}r.selected=this.shouldBeSelected(r,e,t)}}}}else{n.selected=this.shouldBeSelected(n,e,t)}}};e.prototype.shouldBeSelected=function(e,t,i){if(i===void 0){i="id"}if(Array.isArray(t)){for(var s=0,n=t;s<n.length;s++){var a=n[s];if(i in e&&String(e[i])===String(a)){return true}}}else{if(i in e&&String(e[i])===String(t)){return true}}return false};e.prototype.getSelected=function(){var e={text:"",placeholder:this.main.config.placeholderText};var t=[];for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a){for(var l=0,o=a;l<o.length;l++){var r=o[l];if(r.selected){if(!this.main.config.isMultiple){e=r}else{t.push(r)}}}}}}else{if(n.selected){if(!this.main.config.isMultiple){e=n}else{t.push(n)}}}}if(this.main.config.isMultiple){return t}return e};e.prototype.addToSelected=function(e,t){if(t===void 0){t="id"}if(this.main.config.isMultiple){var i=[];var s=this.getSelected();if(Array.isArray(s)){for(var n=0,a=s;n<a.length;n++){var l=a[n];i.push(l[t])}}i.push(e);this.setSelected(i,t)}};e.prototype.removeFromSelected=function(e,t){if(t===void 0){t="id"}if(this.main.config.isMultiple){var i=[];var s=this.getSelected();for(var n=0,a=s;n<a.length;n++){var l=a[n];if(String(l[t])!==String(e)){i.push(l[t])}}this.setSelected(i,t)}};e.prototype.onDataChange=function(){if(this.main.onChange&&this.isOnChangeEnabled){this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))}};e.prototype.getObjectFromData=function(e,t){if(t===void 0){t="id"}for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(t in n&&String(n[t])===String(e)){return n}if(n.hasOwnProperty("options")){var a=n;if(a.options){for(var l=0,o=a.options;l<o.length;l++){var r=o[l];if(String(r[t])===String(e)){return r}}}}}return null};e.prototype.search=function(a){this.searchValue=a;if(a.trim()===""){this.filtered=null;return}var l=this.main.config.searchFilter;var e=this.data.slice(0);a=a.trim();var t=e.map(function(e){if(e.hasOwnProperty("options")){var t=e;var i=[];if(t.options){i=t.options.filter(function(e){return l(e,a)})}if(i.length!==0){var s=Object.assign({},t);s.options=i;return s}}if(e.hasOwnProperty("text")){var n=e;if(l(n,a)){return e}}return null});this.filtered=t.filter(function(e){return e})};return e}();t.Data=s;function n(e){if(!e){console.error("Data must be an array of objects");return false}var t=false;var i=0;for(var s=0,n=e;s<n.length;s++){var a=n[s];if(a.hasOwnProperty("label")){if(a.hasOwnProperty("options")){var l=a;var o=l.options;if(o){for(var r=0,c=o;r<c.length;r++){var d=c[r];t=f(d);if(!t){i++}}}}}else{var h=a;t=f(h);if(!t){i++}}}return i===0}t.validateData=n;function f(e){if(e.text===undefined){console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(e));return false}return true}t.validateOption=f},function(e,t,i){"use strict";t.__esModule=true;var s=i(3);var n=i(4);var a=i(5);var d=i(1);var l=i(0);var o=function(){function e(e){var t=this;this.ajax=null;this.addable=null;this.beforeOnChange=null;this.onChange=null;this.beforeOpen=null;this.afterOpen=null;this.beforeClose=null;this.afterClose=null;this.windowScroll=l.debounce(function(e){if(t.data.contentOpen){if(l.putContent(t.slim.content,t.data.contentPosition,t.data.contentOpen)==="above"){t.moveContentAbove()}else{t.moveContentBelow()}}});this.documentClick=function(e){if(e.target&&!l.hasClassInTree(e.target,t.config.id)){t.close()}};var i=this.validate(e);if(i.dataset.ssid){this.destroy(i.dataset.ssid)}if(e.ajax){this.ajax=e.ajax}if(e.addable){this.addable=e.addable}this.config=new s.Config({select:i,isAjax:e.ajax?true:false,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody});this.select=new n.Select({select:i,main:this});this.data=new d.Data({main:this});this.slim=new a.Slim({main:this});if(this.select.element.parentNode){this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling)}if(e.data){this.setData(e.data)}else{this.render()}document.addEventListener("click",this.documentClick);if(this.config.showContent==="auto"){window.addEventListener("scroll",this.windowScroll,false)}if(e.beforeOnChange){this.beforeOnChange=e.beforeOnChange}if(e.onChange){this.onChange=e.onChange}if(e.beforeOpen){this.beforeOpen=e.beforeOpen}if(e.afterOpen){this.afterOpen=e.afterOpen}if(e.beforeClose){this.beforeClose=e.beforeClose}if(e.afterClose){this.afterClose=e.afterClose}if(!this.config.isEnabled){this.disable()}}e.prototype.validate=function(e){var t=typeof e.select==="string"?document.querySelector(e.select):e.select;if(!t){throw new Error("Could not find select element")}if(t.tagName!=="SELECT"){throw new Error("Element isnt of type select")}return t};e.prototype.selected=function(){if(this.config.isMultiple){var e=this.data.getSelected();var t=[];for(var i=0,s=e;i<s.length;i++){var n=s[i];t.push(n.value)}return t}else{var e=this.data.getSelected();return e?e.value:""}};e.prototype.set=function(e,t,i,s){if(t===void 0){t="value"}if(i===void 0){i=true}if(s===void 0){s=true}if(this.config.isMultiple&&!Array.isArray(e)){this.data.addToSelected(e,t)}else{this.data.setSelected(e,t)}this.select.setValue();this.data.onDataChange();this.render();if(i){this.close()}};e.prototype.setSelected=function(e,t,i,s){if(t===void 0){t="value"}if(i===void 0){i=true}if(s===void 0){s=true}this.set(e,t,i,s)};e.prototype.setData=function(e){var t=d.validateData(e);if(!t){console.error("Validation problem on: #"+this.select.element.id);return}var i=JSON.parse(JSON.stringify(e));var s=this.data.getSelected();for(var n=0;n<i.length;n++){if(!i[n].value&&!i[n].placeholder){i[n].value=i[n].text}}if(this.config.isAjax&&s){if(this.config.isMultiple){var a=s.reverse();for(var l=0,o=a;l<o.length;l++){var r=o[l];i.unshift(r)}}else{i.unshift(s);for(var n=0;n<i.length;n++){if(!i[n].placeholder&&i[n].value===s.value&&i[n].text===s.text){delete i[n]}}var c=false;for(var n=0;n<i.length;n++){if(i[n].placeholder){c=true}}if(!c){i.unshift({text:"",placeholder:true})}}}this.select.create(i);this.data.parseSelectData();this.data.setSelectedFromSelect()};e.prototype.addData=function(e){var t=d.validateData([e]);if(!t){console.error("Validation problem on: #"+this.select.element.id);return}this.data.add(this.data.newOption(e));this.select.create(this.data.data);this.data.parseSelectData();this.data.setSelectedFromSelect();this.render()};e.prototype.open=function(){var e=this;if(!this.config.isEnabled){return}if(this.data.contentOpen){return}if(this.beforeOpen){this.beforeOpen()}if(this.config.isMultiple&&this.slim.multiSelected){this.slim.multiSelected.plus.classList.add("ss-cross")}else if(this.slim.singleSelected){this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down");this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")}this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add(this.data.contentPosition==="above"?this.config.openAbove:this.config.openBelow);if(this.config.addToBody){var t=this.slim.container.getBoundingClientRect();this.slim.content.style.top=t.top+t.height+window.scrollY+"px";this.slim.content.style.left=t.left+window.scrollX+"px";this.slim.content.style.width=t.width+"px"}this.slim.content.classList.add(this.config.open);if(this.config.showContent.toLowerCase()==="up"){this.moveContentAbove()}else if(this.config.showContent.toLowerCase()==="down"){this.moveContentBelow()}else{if(l.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)==="above"){this.moveContentAbove()}else{this.moveContentBelow()}}if(!this.config.isMultiple){var i=this.data.getSelected();if(i){var s=i.id;var n=this.slim.list.querySelector('[data-id="'+s+'"]');if(n){l.ensureElementInView(this.slim.list,n)}}}setTimeout(function(){e.data.contentOpen=true;if(e.config.searchFocus){e.slim.search.input.focus()}if(e.afterOpen){e.afterOpen()}},this.config.timeoutDelay)};e.prototype.close=function(){var e=this;if(!this.data.contentOpen){return}if(this.beforeClose){this.beforeClose()}if(this.config.isMultiple&&this.slim.multiSelected){this.slim.multiSelected.container.classList.remove(this.config.openAbove);this.slim.multiSelected.container.classList.remove(this.config.openBelow);this.slim.multiSelected.plus.classList.remove("ss-cross")}else if(this.slim.singleSelected){this.slim.singleSelected.container.classList.remove(this.config.openAbove);this.slim.singleSelected.container.classList.remove(this.config.openBelow);this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down");this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")}this.slim.content.classList.remove(this.config.open);this.data.contentOpen=false;this.search("");setTimeout(function(){e.slim.content.removeAttribute("style");e.data.contentPosition="below";if(e.config.isMultiple&&e.slim.multiSelected){e.slim.multiSelected.container.classList.remove(e.config.openAbove);e.slim.multiSelected.container.classList.remove(e.config.openBelow)}else if(e.slim.singleSelected){e.slim.singleSelected.container.classList.remove(e.config.openAbove);e.slim.singleSelected.container.classList.remove(e.config.openBelow)}e.slim.search.input.blur();if(e.afterClose){e.afterClose()}},this.config.timeoutDelay)};e.prototype.moveContentAbove=function(){var e=0;if(this.config.isMultiple&&this.slim.multiSelected){e=this.slim.multiSelected.container.offsetHeight}else if(this.slim.singleSelected){e=this.slim.singleSelected.container.offsetHeight}var t=this.slim.content.offsetHeight;var i=e+t-1;this.slim.content.style.margin="-"+i+"px 0 0 0";this.slim.content.style.height=i-e+1+"px";this.slim.content.style.transformOrigin="center bottom";this.data.contentPosition="above";if(this.config.isMultiple&&this.slim.multiSelected){this.slim.multiSelected.container.classList.remove(this.config.openBelow);this.slim.multiSelected.container.classList.add(this.config.openAbove)}else if(this.slim.singleSelected){this.slim.singleSelected.container.classList.remove(this.config.openBelow);this.slim.singleSelected.container.classList.add(this.config.openAbove)}};e.prototype.moveContentBelow=function(){this.data.contentPosition="below";if(this.config.isMultiple&&this.slim.multiSelected){this.slim.multiSelected.container.classList.remove(this.config.openAbove);this.slim.multiSelected.container.classList.add(this.config.openBelow)}else if(this.slim.singleSelected){this.slim.singleSelected.container.classList.remove(this.config.openAbove);this.slim.singleSelected.container.classList.add(this.config.openBelow)}};e.prototype.enable=function(){this.config.isEnabled=true;if(this.config.isMultiple&&this.slim.multiSelected){this.slim.multiSelected.container.classList.remove(this.config.disabled)}else if(this.slim.singleSelected){this.slim.singleSelected.container.classList.remove(this.config.disabled)}this.select.triggerMutationObserver=false;this.select.element.disabled=false;this.slim.search.input.disabled=false;this.select.triggerMutationObserver=true};e.prototype.disable=function(){this.config.isEnabled=false;if(this.config.isMultiple&&this.slim.multiSelected){this.slim.multiSelected.container.classList.add(this.config.disabled)}else if(this.slim.singleSelected){this.slim.singleSelected.container.classList.add(this.config.disabled)}this.select.triggerMutationObserver=false;this.select.element.disabled=true;this.slim.search.input.disabled=true;this.select.triggerMutationObserver=true};e.prototype.search=function(t){if(this.data.searchValue===t){return}this.slim.search.input.value=t;if(this.config.isAjax){var i=this;this.config.isSearching=true;this.render();if(this.ajax){this.ajax(t,function(e){i.config.isSearching=false;if(Array.isArray(e)){e.unshift({text:"",placeholder:true});i.setData(e);i.data.search(t);i.render()}else if(typeof e==="string"){i.slim.options(e)}else{i.render()}})}}else{this.data.search(t);this.render()}};e.prototype.setSearchText=function(e){this.config.searchText=e};e.prototype.render=function(){if(this.config.isMultiple){this.slim.values()}else{this.slim.placeholder();this.slim.deselect()}this.slim.options()};e.prototype.destroy=function(e){if(e===void 0){e=null}var t=e?document.querySelector("."+e+"."+this.main.config.main):this.slim.container;var i=e?document.querySelector("[data-ssid="+e+"]"):this.select.element;if(!t||!i){return}document.removeEventListener("click",this.documentClick);if(this.config.showContent==="auto"){window.removeEventListener("scroll",this.windowScroll,false)}i.style.display="";delete i.dataset.ssid;var s=i;s.slim=null;if(t.parentElement){t.parentElement.removeChild(t)}if(this.config.addToBody){var n=e?document.querySelector("."+e+".ss-content"):this.slim.content;if(!n){return}document.body.removeChild(n)}};return e}();t["default"]=o},function(e,t,i){"use strict";t.__esModule=true;var s=function(){function e(e){this.id="";this.isMultiple=false;this.isAjax=false;this.isSearching=false;this.showSearch=true;this.searchFocus=true;this.searchHighlight=false;this.closeOnSelect=true;this.showContent="auto";this.searchPlaceholder="Search";this.searchText="No Results";this.searchingText="Searching...";this.placeholderText="Select Value";this.allowDeselect=false;this.allowDeselectOption=false;this.hideSelectedOption=false;this.deselectLabel="x";this.isEnabled=true;this.valuesUseText=false;this.showOptionTooltips=false;this.selectByGroup=false;this.limit=0;this.timeoutDelay=200;this.addToBody=false;this.main="ss-main";this.singleSelected="ss-single-selected";this.arrow="ss-arrow";this.multiSelected="ss-multi-selected";this.add="ss-add";this.plus="ss-plus";this.values="ss-values";this.value="ss-value";this.valueText="ss-value-text";this.valueDelete="ss-value-delete";this.content="ss-content";this.open="ss-open";this.openAbove="ss-open-above";this.openBelow="ss-open-below";this.search="ss-search";this.searchHighlighter="ss-search-highlight";this.addable="ss-addable";this.list="ss-list";this.optgroup="ss-optgroup";this.optgroupLabel="ss-optgroup-label";this.optgroupLabelSelectable="ss-optgroup-label-selectable";this.option="ss-option";this.optionSelected="ss-option-selected";this.highlighted="ss-highlighted";this.disabled="ss-disabled";this.hide="ss-hide";this.id="ss-"+Math.floor(Math.random()*1e5);this.style=e.select.style.cssText;this["class"]=e.select.className.split(" ");this.isMultiple=e.select.multiple;this.isAjax=e.isAjax;this.showSearch=e.showSearch===false?false:true;this.searchFocus=e.searchFocus===false?false:true;this.searchHighlight=e.searchHighlight===true?true:false;this.closeOnSelect=e.closeOnSelect===false?false:true;if(e.showContent){this.showContent=e.showContent}this.isEnabled=e.isEnabled===false?false:true;if(e.searchPlaceholder){this.searchPlaceholder=e.searchPlaceholder}if(e.searchText){this.searchText=e.searchText}if(e.searchingText){this.searchingText=e.searchingText}if(e.placeholderText){this.placeholderText=e.placeholderText}this.allowDeselect=e.allowDeselect===true?true:false;this.allowDeselectOption=e.allowDeselectOption===true?true:false;this.hideSelectedOption=e.hideSelectedOption===true?true:false;if(e.deselectLabel){this.deselectLabel=e.deselectLabel}if(e.valuesUseText){this.valuesUseText=e.valuesUseText}if(e.showOptionTooltips){this.showOptionTooltips=e.showOptionTooltips}if(e.selectByGroup){this.selectByGroup=e.selectByGroup}if(e.limit){this.limit=e.limit}if(e.searchFilter){this.searchFilter=e.searchFilter}if(e.timeoutDelay!=null){this.timeoutDelay=e.timeoutDelay}this.addToBody=e.addToBody===true?true:false}e.prototype.searchFilter=function(e,t){return e.text.toLowerCase().indexOf(t.toLowerCase())!==-1};return e}();t.Config=s},function(e,t,i){"use strict";t.__esModule=true;var s=i(0);var n=function(){function e(e){this.triggerMutationObserver=true;this.element=e.select;this.main=e.main;if(this.element.disabled){this.main.config.isEnabled=false}this.addAttributes();this.addEventListeners();this.mutationObserver=null;this.addMutationObserver();var t=this.element;t.slim=e.main}e.prototype.setValue=function(){if(!this.main.data.getSelected()){return}if(this.main.config.isMultiple){var e=this.main.data.getSelected();var t=this.element.options;for(var i=0,s=t;i<s.length;i++){var n=s[i];n.selected=false;for(var a=0,l=e;a<l.length;a++){var o=l[a];if(o.value===n.value){n.selected=true}}}}else{var e=this.main.data.getSelected();this.element.value=e?e.value:""}this.main.data.isOnChangeEnabled=false;this.element.dispatchEvent(new CustomEvent("change",{bubbles:true}));this.main.data.isOnChangeEnabled=true};e.prototype.addAttributes=function(){this.element.tabIndex=-1;this.element.style.display="none";this.element.dataset.ssid=this.main.config.id};e.prototype.addEventListeners=function(){var t=this;this.element.addEventListener("change",function(e){t.main.data.setSelectedFromSelect();t.main.render()})};e.prototype.addMutationObserver=function(){var t=this;if(this.main.config.isAjax){return}this.mutationObserver=new MutationObserver(function(e){if(!t.triggerMutationObserver){return}t.main.data.parseSelectData();t.main.data.setSelectedFromSelect();t.main.render();e.forEach(function(e){if(e.attributeName==="class"){t.main.slim.updateContainerDivClass(t.main.slim.container)}})});this.observeMutationObserver()};e.prototype.observeMutationObserver=function(){if(!this.mutationObserver){return}this.mutationObserver.observe(this.element,{attributes:true,childList:true,characterData:true})};e.prototype.disconnectMutationObserver=function(){if(this.mutationObserver){this.mutationObserver.disconnect()}};e.prototype.create=function(e){this.element.innerHTML="";for(var t=0,i=e;t<i.length;t++){var s=i[t];if(s.hasOwnProperty("options")){var n=s;var a=document.createElement("optgroup");a.label=n.label;if(n.options){for(var l=0,o=n.options;l<o.length;l++){var r=o[l];a.appendChild(this.createOption(r))}}this.element.appendChild(a)}else{this.element.appendChild(this.createOption(s))}}};e.prototype.createOption=function(t){var i=document.createElement("option");i.value=t.value!==""?t.value:t.text;i.innerHTML=t.innerHTML||t.text;if(t.selected){i.selected=t.selected}if(t.display===false){i.style.display="none"}if(t.disabled){i.disabled=true}if(t.placeholder){i.setAttribute("data-placeholder","true")}if(t.mandatory){i.setAttribute("data-mandatory","true")}if(t["class"]){t["class"].split(" ").forEach(function(e){i.classList.add(e)})}if(t.data&&typeof t.data==="object"){Object.keys(t.data).forEach(function(e){i.setAttribute("data-"+s.kebabCase(e),t.data[e])})}return i};return e}();t.Select=n},function(e,t,i){"use strict";t.__esModule=true;var a=i(0);var l=i(1);var s=function(){function e(e){this.main=e.main;this.container=this.containerDiv();this.content=this.contentDiv();this.search=this.searchDiv();this.list=this.listDiv();this.options();this.singleSelected=null;this.multiSelected=null;if(this.main.config.isMultiple){this.multiSelected=this.multiSelectedDiv();if(this.multiSelected){this.container.appendChild(this.multiSelected.container)}}else{this.singleSelected=this.singleSelectedDiv();this.container.appendChild(this.singleSelected.container)}if(this.main.config.addToBody){this.content.classList.add(this.main.config.id);document.body.appendChild(this.content)}else{this.container.appendChild(this.content)}this.content.appendChild(this.search.container);this.content.appendChild(this.list)}e.prototype.containerDiv=function(){var e=document.createElement("div");e.style.cssText=this.main.config.style;this.updateContainerDivClass(e);return e};e.prototype.updateContainerDivClass=function(e){this.main.config["class"]=this.main.select.element.className.split(" ");e.className="";e.classList.add(this.main.config.id);e.classList.add(this.main.config.main);e.setAttribute("role","switch");for(var t=0,i=this.main.config["class"];t<i.length;t++){var s=i[t];if(s.trim()!==""){e.classList.add(s)}}};e.prototype.singleSelectedDiv=function(){var t=this;var e=document.createElement("div");e.classList.add(this.main.config.singleSelected);var i=document.createElement("span");i.classList.add("placeholder");e.appendChild(i);var s=document.createElement("span");s.innerHTML=this.main.config.deselectLabel;s.classList.add("ss-deselect");s.onclick=function(e){e.stopPropagation();if(!t.main.config.isEnabled){return}t.main.set("")};e.appendChild(s);var n=document.createElement("span");n.classList.add(this.main.config.arrow);var a=document.createElement("span");a.classList.add("arrow-down");n.appendChild(a);e.appendChild(n);e.onclick=function(){if(!t.main.config.isEnabled){return}t.main.data.contentOpen?t.main.close():t.main.open()};return{container:e,placeholder:i,deselect:s,arrowIcon:{container:n,arrow:a}}};e.prototype.placeholder=function(){var e=this.main.data.getSelected();if(e===null||e&&e.placeholder){var t=document.createElement("span");t.classList.add(this.main.config.disabled);t.innerHTML=this.main.config.placeholderText;if(this.singleSelected){this.singleSelected.placeholder.innerHTML=t.outerHTML}}else{var i="";if(e){i=e.innerHTML&&this.main.config.valuesUseText!==true?e.innerHTML:e.text}if(this.singleSelected){this.singleSelected.placeholder.innerHTML=e?i:""}}};e.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect){this.singleSelected.deselect.classList.add("ss-hide");return}if(this.main.selected()===""){this.singleSelected.deselect.classList.add("ss-hide")}else{this.singleSelected.deselect.classList.remove("ss-hide")}}};e.prototype.multiSelectedDiv=function(){var i=this;var e=document.createElement("div");e.classList.add(this.main.config.multiSelected);var t=document.createElement("div");t.classList.add(this.main.config.values);e.appendChild(t);var s=document.createElement("div");s.classList.add(this.main.config.add);var n=document.createElement("span");n.classList.add(this.main.config.plus);n.onclick=function(e){if(i.main.data.contentOpen){i.main.close();e.stopPropagation()}};s.appendChild(n);e.appendChild(s);e.onclick=function(e){if(!i.main.config.isEnabled){return}var t=e.target;if(!t.classList.contains(i.main.config.valueDelete)){i.main.data.contentOpen?i.main.close():i.main.open()}};return{container:e,values:t,add:s,plus:n}};e.prototype.values=function(){if(!this.multiSelected){return}var e=this.multiSelected.values.childNodes;var t=this.main.data.getSelected();var i;var s=[];for(var n=0,a=e;n<a.length;n++){var l=a[n];i=true;for(var o=0,r=t;o<r.length;o++){var c=r[o];if(String(c.id)===String(l.dataset.id)){i=false}}if(i){s.push(l)}}for(var d=0,h=s;d<h.length;d++){var f=h[d];f.classList.add("ss-out");this.multiSelected.values.removeChild(f)}e=this.multiSelected.values.childNodes;for(var c=0;c<t.length;c++){i=false;for(var u=0,p=e;u<p.length;u++){var l=p[u];if(String(t[c].id)===String(l.dataset.id)){i=true}}if(!i){if(e.length===0||!HTMLElement.prototype.insertAdjacentElement){this.multiSelected.values.appendChild(this.valueDiv(t[c]))}else if(c===0){this.multiSelected.values.insertBefore(this.valueDiv(t[c]),e[c])}else{e[c-1].insertAdjacentElement("afterend",this.valueDiv(t[c]))}}}if(t.length===0){var m=document.createElement("span");m.classList.add(this.main.config.disabled);m.innerHTML=this.main.config.placeholderText;this.multiSelected.values.innerHTML=m.outerHTML}};e.prototype.valueDiv=function(l){var o=this;var e=document.createElement("div");e.classList.add(this.main.config.value);e.dataset.id=l.id;var t=document.createElement("span");t.classList.add(this.main.config.valueText);t.innerHTML=l.innerHTML&&this.main.config.valuesUseText!==true?l.innerHTML:l.text;e.appendChild(t);if(!l.mandatory){var i=document.createElement("span");i.classList.add(this.main.config.valueDelete);i.innerHTML=this.main.config.deselectLabel;i.onclick=function(e){e.preventDefault();e.stopPropagation();var t=false;if(!o.main.beforeOnChange){t=true}if(o.main.beforeOnChange){var i=o.main.data.getSelected();var s=JSON.parse(JSON.stringify(i));for(var n=0;n<s.length;n++){if(s[n].id===l.id){s.splice(n,1)}}var a=o.main.beforeOnChange(s);if(a!==false){t=true}}if(t){o.main.data.removeFromSelected(l.id,"id");o.main.render();o.main.select.setValue();o.main.data.onDataChange()}};e.appendChild(i)}return e};e.prototype.contentDiv=function(){var e=document.createElement("div");e.classList.add(this.main.config.content);return e};e.prototype.searchDiv=function(){var a=this;var e=document.createElement("div");var s=document.createElement("input");var n=document.createElement("div");e.classList.add(this.main.config.search);var t={container:e,input:s};if(!this.main.config.showSearch){e.classList.add(this.main.config.hide);s.readOnly=true}s.type="search";s.placeholder=this.main.config.searchPlaceholder;s.tabIndex=0;s.setAttribute("aria-label",this.main.config.searchPlaceholder);s.setAttribute("autocapitalize","off");s.setAttribute("autocomplete","off");s.setAttribute("autocorrect","off");s.onclick=function(t){setTimeout(function(){var e=t.target;if(e.value===""){a.main.search("")}},10)};s.onkeydown=function(e){if(e.key==="ArrowUp"){a.main.open();a.highlightUp();e.preventDefault()}else if(e.key==="ArrowDown"){a.main.open();a.highlightDown();e.preventDefault()}else if(e.key==="Tab"){if(!a.main.data.contentOpen){setTimeout(function(){a.main.close()},a.main.config.timeoutDelay)}else{a.main.close()}}else if(e.key==="Enter"){e.preventDefault()}};s.onkeyup=function(e){var t=e.target;if(e.key==="Enter"){if(a.main.addable&&e.ctrlKey){n.click();e.preventDefault();e.stopPropagation();return}var i=a.list.querySelector("."+a.main.config.highlighted);if(i){i.click()}}else if(e.key==="ArrowUp"||e.key==="ArrowDown"){}else if(e.key==="Escape"){a.main.close()}else{if(a.main.config.showSearch&&a.main.data.contentOpen){a.main.search(t.value)}else{s.value=""}}e.preventDefault();e.stopPropagation()};s.onfocus=function(){a.main.open()};e.appendChild(s);if(this.main.addable){n.classList.add(this.main.config.addable);n.innerHTML="+";n.onclick=function(e){if(a.main.addable){e.preventDefault();e.stopPropagation();var t=a.search.input.value;if(t.trim()===""){a.search.input.focus();return}var i=a.main.addable(t);var s="";if(!i){return}if(typeof i==="object"){var n=l.validateOption(i);if(n){a.main.addData(i);s=i.value?i.value:i.text}}else{a.main.addData(a.main.data.newOption({text:i,value:i}));s=i}a.main.search("");setTimeout(function(){a.main.set(s,"value",false,false)},100);if(a.main.config.closeOnSelect){setTimeout(function(){a.main.close()},100)}}};e.appendChild(n);t.addable=n}return t};e.prototype.highlightUp=function(){var e=this.list.querySelector("."+this.main.config.highlighted);var t=null;if(e){t=e.previousSibling;while(t!==null){if(t.classList.contains(this.main.config.disabled)){t=t.previousSibling;continue}else{break}}}else{var i=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");t=i[i.length-1]}if(t&&t.classList.contains(this.main.config.optgroupLabel)){t=null}if(t===null){var s=e.parentNode;if(s.classList.contains(this.main.config.optgroup)){if(s.previousSibling){var n=s.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");if(n.length){t=n[n.length-1]}}}}if(t){if(e){e.classList.remove(this.main.config.highlighted)}t.classList.add(this.main.config.highlighted);a.ensureElementInView(this.list,t)}};e.prototype.highlightDown=function(){var e=this.list.querySelector("."+this.main.config.highlighted);var t=null;if(e){t=e.nextSibling;while(t!==null){if(t.classList.contains(this.main.config.disabled)){t=t.nextSibling;continue}else{break}}}else{t=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")}if(t===null&&e!==null){var i=e.parentNode;if(i.classList.contains(this.main.config.optgroup)){if(i.nextSibling){var s=i.nextSibling;t=s.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")}}}if(t){if(e){e.classList.remove(this.main.config.highlighted)}t.classList.add(this.main.config.highlighted);a.ensureElementInView(this.list,t)}};e.prototype.listDiv=function(){var e=document.createElement("div");e.classList.add(this.main.config.list);e.setAttribute("role","listbox");return e};e.prototype.options=function(e){if(e===void 0){e=""}var t=this.main.data.filtered||this.main.data.data;this.list.innerHTML="";if(e!==""){var i=document.createElement("div");i.classList.add(this.main.config.option);i.classList.add(this.main.config.disabled);i.innerHTML=e;this.list.appendChild(i);return}if(this.main.config.isAjax&&this.main.config.isSearching){var i=document.createElement("div");i.classList.add(this.main.config.option);i.classList.add(this.main.config.disabled);i.innerHTML=this.main.config.searchingText;this.list.appendChild(i);return}if(t.length===0){var s=document.createElement("div");s.classList.add(this.main.config.option);s.classList.add(this.main.config.disabled);s.innerHTML=this.main.config.searchText;this.list.appendChild(s);return}var n=function(e){if(e.hasOwnProperty("label")){var t=e;var n=document.createElement("div");n.classList.add(c.main.config.optgroup);var i=document.createElement("div");i.classList.add(c.main.config.optgroupLabel);if(c.main.config.selectByGroup&&c.main.config.isMultiple){i.classList.add(c.main.config.optgroupLabelSelectable)}i.innerHTML=t.label;n.appendChild(i);var s=t.options;if(s){for(var a=0,l=s;a<l.length;a++){var o=l[a];n.appendChild(c.option(o))}if(c.main.config.selectByGroup&&c.main.config.isMultiple){var r=c;i.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();for(var t=0,i=n.children;t<i.length;t++){var s=i[t];if(s.className.indexOf(r.main.config.option)!==-1){s.click()}}})}}c.list.appendChild(n)}else{c.list.appendChild(c.option(e))}};var c=this;for(var a=0,l=t;a<l.length;a++){var o=l[a];n(o)}};e.prototype.option=function(d){if(d.placeholder){var e=document.createElement("div");e.classList.add(this.main.config.option);e.classList.add(this.main.config.hide);return e}var t=document.createElement("div");t.classList.add(this.main.config.option);t.setAttribute("role","option");if(d["class"]){d["class"].split(" ").forEach(function(e){t.classList.add(e)})}if(d.style){t.style.cssText=d.style}var h=this.main.data.getSelected();t.dataset.id=d.id;if(this.main.config.searchHighlight&&this.main.slim&&d.innerHTML&&this.main.slim.search.input.value.trim()!==""){t.innerHTML=a.highlight(d.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter)}else if(d.innerHTML){t.innerHTML=d.innerHTML}if(this.main.config.showOptionTooltips&&t.textContent){t.setAttribute("title",t.textContent)}else{t.setAttribute("title",d.title)}var f=this;t.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();var t=this;var i=t.dataset.id;if(d.selected===true&&f.main.config.allowDeselectOption){var s=false;if(!f.main.beforeOnChange||!f.main.config.isMultiple){s=true}if(f.main.beforeOnChange&&f.main.config.isMultiple){var n=f.main.data.getSelected();var a=JSON.parse(JSON.stringify(n));for(var l=0;l<a.length;l++){if(a[l].id===i){a.splice(l,1)}}var o=f.main.beforeOnChange(a);if(o!==false){s=true}}if(s){if(f.main.config.isMultiple){f.main.data.removeFromSelected(i,"id");f.main.render();f.main.select.setValue();f.main.data.onDataChange()}else{f.main.set("")}}}else{if(d.disabled||d.selected){return}if(f.main.config.limit&&Array.isArray(h)&&f.main.config.limit<=h.length){return}if(f.main.beforeOnChange){var r=void 0;var c=JSON.parse(JSON.stringify(f.main.data.getObjectFromData(i)));c.selected=true;if(f.main.config.isMultiple){r=JSON.parse(JSON.stringify(h));r.push(c)}else{r=JSON.parse(JSON.stringify(c))}var o=f.main.beforeOnChange(r);if(o!==false){f.main.set(i,"id",f.main.config.closeOnSelect)}}else{f.main.set(i,"id",f.main.config.closeOnSelect)}}});var i=h&&a.isValueInArrayOfObjects(h,"id",d.id);if(d.disabled||i){t.onclick=null;if(!f.main.config.allowDeselectOption){t.classList.add(this.main.config.disabled)}if(f.main.config.hideSelectedOption){t.classList.add(this.main.config.hide)}}if(i){t.classList.add(this.main.config.optionSelected)}else{t.classList.remove(this.main.config.optionSelected)}return t};return e}();t.Slim=s}])["default"]});
// #END
