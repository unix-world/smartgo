// JS-Script (US): jquery.smartframework.ui.js @ 2022-11-22 11:35:47 +0000
const smartJ$UI=new class{constructor(){const _N$="smartJ$UI";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Utils$=smartJ$Utils;const _Date$=smartJ$Date;const _BwUtils$=smartJ$Browser;const _Dialog$=SmartSimpleDialog;const _Auto$Complete=SmartAutoSuggest;const _Tab$=SmartSimpleTabs;_C$.overlayCssClass="simpledialog-overlay";const ToolTip=function(selector){selector=_Utils$.stringPureVal(selector,true);if(selector==""){_p$.warn(_N$,"ToolTip","Invalid or Empty Selector");return}let HtmlElement=$(selector);const dataTooltipOk="tooltip-ok";$("body").on("mousemove",selector,evt=>{$(selector).each((index,el)=>{const $el=$(el);if($el.data(dataTooltipOk)){return}$el.data(dataTooltipOk,"1").tipTop();let trigered=false;$el.on("mousemove",()=>{if(trigered){return}trigered=true;$el.trigger("mouseenter")})})});return HtmlElement};_C$.ToolTip=ToolTip;const DialogAlert=(y_message_html,evcode=null,y_title="",y_width=null,y_height=null)=>{return _Dialog$.Dialog_Alert(y_message_html,evcode,y_title,y_width,y_height)};_C$.DialogAlert=DialogAlert;const DialogConfirm=(y_question_html,evcode=null,y_title="",y_width=null,y_height=null)=>{return _Dialog$.Dialog_Confirm(y_question_html,evcode,y_title,y_width,y_height)};_C$.DialogConfirm=DialogConfirm;const SelectList=function(elemID,dimW,dimH,isMulti,useFilter){elemID=_Utils$.stringPureVal(elemID,true);elemID=_Utils$.create_htmid(elemID);if(elemID==""){_p$.warn(_N$,"SelectList","Invalid or Empty Element ID");return}dimW=_Utils$.format_number_int(dimW,false);if(dimW<50){dimW=50}dimH=_Utils$.format_number_int(dimH,false);if(dimH<50){dimH=50}isMulti=!!isMulti;useFilter=!!useFilter;let HtmlElement=$("#"+elemID);const disable_search=!useFilter;HtmlElement.chosen({allow_single_deselect:true,disable_search_threshold:10,enable_split_word_search:false,search_contains:true,no_results_text:"Nothing found!",disable_search:disable_search,width:dimW}).on("chosen:hiding_dropdown",(evt,params)=>{evt.preventDefault();const evcode=HtmlElement.attr("onBlur");_Utils$.evalJsFxCode(_N$+".SelectList",typeof evcode==="function"?()=>{"use strict";evcode(elemID,useFilter,isMulti)}:()=>{"use strict";!!evcode?eval(evcode):null})});if(isMulti){$("#"+elemID+"__chosen").find("ul.chosen-choices").css({"max-height":dimH+"px"})}HtmlElement.data("smart-ui-elem-type","chosen");return HtmlElement};_C$.SelectList=SelectList;const DatePickerInit=function(elemID,dateFmt,selDate,calStart,calMinDate,calMaxDate,noOfMonths,evcode=null){const _m$="DatePickerInit";elemID=_Utils$.stringPureVal(elemID,true);elemID=_Utils$.create_htmid(elemID);if(elemID==""){_p$.warn(_N$,_m$,"Invalid or Empty Element ID");return}dateFmt=_Utils$.stringPureVal(dateFmt,true);selDate=_Utils$.stringPureVal(selDate,true);calStart=_Utils$.format_number_int(calStart,false);noOfMonths=_Utils$.format_number_int(noOfMonths,false);let the_initial_date=String(selDate);let the_initial_altdate="";if(the_initial_date!=""){the_initial_altdate=_Date$.formatDate(String(dateFmt),new Date(the_initial_date));$("#date-entry-"+elemID).val(the_initial_altdate)}if(typeof calMinDate!="undefined"||calMinDate=="undefined"||(calMinDate="")||calMinDate==null){calMinDate=_Date$.determineDate(calMinDate);if(calMinDate==null){calMinDate=""}else{calMinDate=_Date$.formatDate("yy-mm-dd",calMinDate)}}else{calMinDate=""}if(typeof calMaxDate!="undefined"||calMaxDate=="undefined"||(calMaxDate="")||calMaxDate==null){calMaxDate=_Date$.determineDate(calMaxDate);if(calMaxDate==null){calMaxDate=""}else{calMaxDate=_Date$.formatDate("yy-mm-dd",calMaxDate)}}else{calMaxDate=""}if(calMinDate){calMinDate=new Date(calMinDate)}else{calMinDate=""}if(calMaxDate){calMaxDate=new Date(calMaxDate)}else{calMaxDate=""}let HtmlElement=$("#"+elemID);HtmlElement.val(the_initial_date).datepicker({keyboardNav:false,toggleSelected:false,timepicker:false,inline:false,position:"bottom left",offset:12,todayButton:true,clearButton:true,showEvent:"focus",autoClose:true,showOtherMonths:true,selectOtherMonths:true,moveToOtherMonthsOnSelect:false,showOtherYears:true,selectOtherYears:true,moveToOtherYearsOnSelect:false,weekends:[6,0],firstDay:calStart,dateFormat:"yyyy-mm-dd",altField:"#date-entry-"+elemID,altFieldDateFormat:"yyyy-mm-dd",minDate:calMinDate,maxDate:calMaxDate,disableNavWhenOutOfRange:true,multipleDates:false,multipleDatesSeparator:";",range:false,onSelect:(date,altdate,inst)=>{date=_Utils$.stringPureVal(date,true);if(date!=""){altdate=date;try{altdate=_Date$.formatDate(String(dateFmt),new Date(date));if(/Invalid|NaN|Infinity/.test(altdate)){altdate=date}}catch(err){_p$.warn(_N$,_m$,"Date conversion is not supported by the browser. Using ISO Date",err)}altdate=_Utils$.stringPureVal(altdate,true);$("#date-entry-"+elemID).val(altdate);_Utils$.evalJsFxCode(_N$+"."+_m$,typeof evcode==="function"?()=>{"use strict";evcode(date,altdate,inst,elemID)}:()=>{"use strict";!!evcode?eval(evcode):null})}}});HtmlElement.data("smart-ui-elem-type","Air_DatePicker");return HtmlElement};_C$.DatePickerInit=DatePickerInit;const DatePickerDisplay=function(datepicker_id){datepicker_id=_Utils$.stringPureVal(datepicker_id,true);datepicker_id=_Utils$.create_htmid(datepicker_id);if(datepicker_id==""){_p$.warn(_N$,"DatePickerDisplay","Invalid or Empty Element ID");return}let HtmlElement=$("#"+datepicker_id);if(HtmlElement.data("smart-ui-elem-type")!=="Air_DatePicker"){return null}HtmlElement.data("datepicker").show();return HtmlElement};_C$.DatePickerDisplay=DatePickerDisplay;const TimePickerInit=function(elemID,hStart,hEnd,mStart,mEnd,mInterval,tmRows,evcode=null){const _m$="TimePickerInit";elemID=_Utils$.stringPureVal(elemID,true);elemID=_Utils$.create_htmid(elemID);if(elemID==""){_p$.warn(_N$,_m$,"Invalid or Empty Element ID");return}let HtmlElement=$("#"+elemID);HtmlElement.timepicker({defaultTime:"",showOn:"button",showCloseButton:false,showDeselectButton:true,showAnim:null,duration:null,timeSeparator:":",showPeriodLabels:false,showPeriod:false,amPmText:["",""],rows:tmRows,hours:{starts:hStart,ends:hEnd},minutes:{starts:mStart,ends:mEnd,interval:mInterval},onSelect:(time,inst)=>{time=_Utils$.stringPureVal(time,true);if(time!=""){_Utils$.evalJsFxCode(_N$+"."+_m$,typeof evcode==="function"?()=>{"use strict";evcode(time,inst,elemID)}:()=>{"use strict";!!evcode?eval(evcode):null})}}});HtmlElement.data("smart-ui-elem-type","timepicker");return HtmlElement};_C$.TimePickerInit=TimePickerInit;const TimePickerDisplay=function(timepicker_id){timepicker_id=_Utils$.stringPureVal(timepicker_id,true);timepicker_id=_Utils$.create_htmid(timepicker_id);if(timepicker_id==""){_p$.warn(_N$,"TimePickerDisplay","Invalid or Empty Element ID");return}let HtmlElement=$("#"+timepicker_id);if(HtmlElement.data("smart-ui-elem-type")!=="timepicker"){return null}HtmlElement.timepicker("show");return HtmlElement};_C$.TimePickerDisplay=TimePickerDisplay;const TabsInit=(tabs_id,tab_selected=0,prevent_reload=true)=>{return _Tab$.initTabs(tabs_id,tab_selected,prevent_reload)};_C$.TabsInit=TabsInit;const TabsActivate=(tabs_id,activation)=>{return _Tab$.activateTabs(tabs_id,activation)};_C$.TabsActivate=TabsActivate;const AutoCompleteField=function(single_or_multi,elem_id,data_url,param_src,min_term_len,evcode=null){const _m$="AutoCompleteField";elem_id=_Utils$.stringPureVal(elem_id,true);elem_id=_Utils$.create_htmid(elem_id);if(elem_id==""){_p$.warn(_N$,_m$,"Invalid or Empty Element ID");return}data_url=_Utils$.stringPureVal(data_url,true);if(!data_url){_p$.warn(_N$,_m$,"The data_url is empty");return}param_src=_Utils$.stringPureVal(param_src,true);min_term_len=_Utils$.format_number_int(min_term_len,false);let url="";data_url=String(data_url);if(data_url.indexOf("?")!=-1){url=String(data_url)+"&"}else{url=String(data_url)+"?"}if(param_src){url+=String(param_src)+"="}return _Auto$Complete.bindToInput(single_or_multi,elem_id,"",url,false,null,min_term_len,evcode)};_C$.AutoCompleteField=AutoCompleteField;const DataTableInit=(elem_id,options=null)=>{if(typeof SmartDataTables==undefined){_p$.error(_N$,"DataTableInit","SmartDataTables is not loaded ...");return}return SmartDataTables.DataTableInit(elem_id,options)};_C$.DataTableInit=DataTableInit;const DataTableColumnsFilter=(elem_id,filterColNumber,regexStr)=>{if(typeof SmartDataTables==undefined){_p$.error(_N$,"DataTableColumnsFilter","SmartDataTables is not loaded ...");return}return SmartDataTables.DataTableColumnsFilter(elem_id,filterColNumber,regexStr)};_C$.DataTableColumnsFilter=DataTableColumnsFilter}};smartJ$UI.secureClass();window.smartJ$UI=smartJ$UI;
// #END
