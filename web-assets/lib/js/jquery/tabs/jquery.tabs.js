// JS-Script (US): jquery.tabs.js @ 2022-11-22 11:35:42 +0000
const SmartSimpleTabs=new class{constructor(){const _N$="SmartSimpleTabs";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Utils$=smartJ$Utils;const _Crypto$Hash=smartJ$CryptoHash;const svgLoaderImg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32" width="32" height="32" fill="#778888" id="loading-spin"><path opacity="0.25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/><path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"><animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" /></path></svg>\x3c!-- github.com/jxnblk/loading ; License: MIT --\x3e';const errLoadTab="TAB Loading FAILED: Async Load Timeout or Broken URL ...";const errInvalidLoadUrl="TAB Loading ERROR: Empty or Invalid URL ...";const initTabs=function(tabs_id,selected=0,prevent_reload=true){tabs_id=_Utils$.stringPureVal(tabs_id,true);tabs_id=_Utils$.create_htmid(tabs_id);if(tabs_id==""){_p$.warn(_N$,"initTabs","Invalid or Empty Element ID");return}prevent_reload=!!prevent_reload;selected=_Utils$.format_number_int(selected,false);if(selected<0){selected=0}const $elTab=$("#"+tabs_id);$elTab.data("smart-js-elem-type",String(_N$));$elTab.removeAttr("style").removeAttr("class").addClass("simple_tabs_container").data("tabs-active","yes");$elTab.find("ul:first").removeAttr("style").removeAttr("class").addClass("simple_tabs_head").each((idex,elm)=>{const $tabsLinks=$(elm).find("a").not("#tabs-exclude");let selectedTabById=_Utils$.stringPureVal(location.hash,true);let crrTab=0;$tabsLinks.each((idx,el)=>{$(el).removeAttr("style").removeAttr("class").addClass("simple_tabs_inactive");let CrrHref=_Utils$.stringPureVal($(el).attr("href"),true);if(CrrHref==""){CrrHref=_Utils$.uuid();CrrHref=String("#UNDEF--"+CrrHref+"--"+_Crypto$Hash.sha512(CrrHref))}let crrHash="";if(_Utils$.stringStartsWith(CrrHref,"#")){crrHash=String(CrrHref)}if(crrHash){$(crrHash).data("tabs-num",crrTab).data("tabs-mode","internal").removeAttr("style").removeAttr("class").addClass("simple_tabs_content").hide()}else{const crrSha1=String(tabs_id+"--URL--"+_Crypto$Hash.sha1(CrrHref));crrHash=String("#"+crrSha1);$(el).attr("href",crrHash);$elTab.append('<div id="'+_Utils$.escape_html(crrSha1)+'" class="simple_tabs_content" data-tabs-num="'+_Utils$.escape_html(crrTab)+'" data-tabs-mode="external" data-tabs-loaded="" data-tabs-url="'+_Utils$.escape_html(CrrHref)+'">... loading ...</div>');$("#"+crrSha1).hide()}if(crrTab===selected){if(selectedTabById==""){selectedTabById=String(crrHash)}}crrTab++});let $activeTab=$($tabsLinks[0]);if(selectedTabById!=""){$activeTab=$($tabsLinks.filter('[href="'+String(selectedTabById)+'"]')[0]||$tabsLinks[0])}$activeTab.addClass("simple_tabs_active");displayTabContent($activeTab.attr("href"),prevent_reload);$tabsLinks.each((idx,el)=>{$(el).click(evt=>{evt.preventDefault();if($elTab.data("tabs-active")!="yes"){return}$activeTab.removeClass("simple_tabs_active");$($activeTab.attr("href")).hide();$activeTab=$(el);$activeTab.addClass("simple_tabs_active");displayTabContent($activeTab.attr("href"),prevent_reload)})})});return $elTab};_C$.initTabs=initTabs;const activateTabs=function(tabs_id,activation){tabs_id=_Utils$.stringPureVal(tabs_id,true);tabs_id=_Utils$.create_htmid(tabs_id);if(tabs_id==""){_p$.warn(_N$,"activateTabs","Invalid or Empty Element ID");return}activation=!!activation;const $elTab=$("#"+tabs_id);if(activation===false){$elTab.data("tabs-active","no")}else{$elTab.data("tabs-active","yes")}$elTab.find("ul:first").each((ix,emt)=>{const $links=$(emt).find("a").not("#tabs-exclude");$links.each((idx,el)=>{if(activation===false){$(el).addClass("simple_tabs_disabled")}else{$(el).removeClass("simple_tabs_disabled")}})});return $elTab};_C$.activateTabs=activateTabs;const AjaxRequestGetURL=y_url=>{const _m$="AjaxRequestGetURL";y_url=_Utils$.stringPureVal(y_url,true);if(y_url==""){_p$.error(_N$,_m$,"WARN:","Empty URL");return null}if(y_url=="#"||_Utils$.stringStartsWith(y_url,"#")){_p$.error(_N$,_m$,"WARN:","Invalid URL:",y_url);return null}const ajxOpts={async:true,type:"GET",url:String(y_url),contentType:false,processData:false,data:null,dataType:"html"};return $.ajax(ajxOpts)};const getLoaderImg=()=>String("data:image/svg+xml,"+_Utils$.escape_url(svgLoaderImg));const displayTabContent=function(the_hash,prevent_reload){const _m$="displayTabContent";the_hash=_Utils$.stringPureVal(the_hash,true);if(the_hash==""){_p$.warn(_N$,_m$,"WARN:","Empty Hash")}prevent_reload=!!prevent_reload;const $tabContent=$(the_hash);if($tabContent.data("tabs-mode")=="external"){$tabContent.show();if($tabContent.data("tabs-url")!=""){if($tabContent.data("tabs-loaded")!="yes"||prevent_reload!==true){const imgLoader='<img src="'+_Utils$.escape_html(getLoaderImg())+'" alt="... loading TAB content ...">';$tabContent.empty().html('<div class="simple_tabs_loader">'+imgLoader+"</div>");setTimeout(()=>{const ajx=AjaxRequestGetURL($tabContent.data("tabs-url"));if(ajx!==null){ajx.done(msg=>{$tabContent.data("tabs-loaded","yes").empty().html(_Utils$.stringPureVal(msg))}).fail(msg=>{_p$.warn(_N$,_m$,"WARN:",errLoadTab,"Tab:",the_hash);$(the_hash).empty().html('<div class="simple_tabs_load_err">'+_Utils$.escape_html(errLoadTab)+"</div>")})}else{_p$.warn(_N$,_m$,"WARN:",errInvalidLoadUrl,"Tab:",the_hash);$(the_hash).empty().html('<div class="simple_tabs_load_err">'+_Utils$.escape_html(errInvalidLoadUrl)+"</div>")}},500)}}}else if($tabContent.data("tabs-mode")=="internal"){$tabContent.show()}else{_p$.warn(_N$,_m$,"WARN:","Failed to activate Tab:",the_hash,"# Data-Mode:",$tabContent.data("tabs-mode"))}}}};SmartSimpleTabs.secureClass();window.SmartSimpleTabs=SmartSimpleTabs;
// #END
