// JS-Script (UM): jquery.tagedit.js @ 2022-09-20 09:51:08 +0000
(function(m){m.fn.tagEdit=function(i){var t={items:[],separator:",",tagMaxChars:20,tagMaxNum:10,tagNamePattern:/^[A-Za-z0-9\- ]+$/g,tagCssClass:"tagEdit",tagRemoveText:"Remove this Tag",readOnly:false};i=m.extend(t,i);var s,f=this,l;var u=[];var o={};var g=Math.floor(i.tagMaxChars)>=1&&Math.floor(i.tagMaxChars)<=255?Math.floor(i.tagMaxChars):10;var h=Math.floor(i.tagMaxNum)>=1&&Math.floor(i.tagMaxNum)<=1024?Math.floor(i.tagMaxNum):5;return this.each(function(){function r(t){try{new RegExp(i.tagNamePattern)}catch(t){console.error("jQuery TagEdit: Invalid Regex: "+i.tagNamePattern);return false}t=String(m.trim(t));if(t.length<=0){return false}if(t.length>g){return false}if(!t.match(i.tagNamePattern)){return false}var a=0;for(var r in o){if(o[r]===true){a++}}if(a>=h){return false}if(typeof o[t]=="undefined"){o[t]=false}if(o[t]===true){return false}var e=m("<li></li>");if(i.readOnly!==true){e.attr("class",i.tagCssClass)}e.text(t);if(i.readOnly!==true){e.attr("title",String(i.tagRemoveText));e.click(function(){var t=m.trim(m(this).text());if(t!=""){o[t]=false}m(this).remove();n()})}s.append(e);o[t]=true;return true}function e(){u=[];var t=m("li",s);for(var a=0;a<t.length;a++){u.push(m.trim(m(t[a]).text()))}if(i.readOnly!==true){l.val(u.join(i.separator))}}function n(){var t=f.val().split(i.separator);for(var a=0;a<t.length;a++){r(String(m.trim(t[a])))}f.val("");e()}function t(t){var a=t.which?t.which:t.keyCode;switch(a){case 13:var r=m.trim(f.val());if(r==""){return true}n();return false;break;default:}return true}m.fn.extend({tagEditTagsGet:function(){return u.join(i.separator)},tagEditTagAdd:function(t){return r(t)}});f.after('<div style="clear:both;"></div>');if(i.readOnly!==true){l=m('<input type="hidden">');l.attr("name",f.attr("name"));f.attr("name","");f.attr("maxlength",g);f.after(l)}s=m(document.createElement("ul"));s.attr("class",i.tagCssClass);m(this).after(s);for(var a=0;a<i.items.length;a++){r(m.trim(i.items[a]))}if(i.readOnly!==true){n();m(this).keypress(t)}})}})(jQuery);
// #END
