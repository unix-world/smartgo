// JS-Script (UM): dataTables.rowGroup.js @ 2022-09-20 09:51:01 +0000
(function(e){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(t){return e(t,window,document)})}else if(typeof exports==="object"){module.exports=function(t,r){if(!t){t=window}if(!r||!r.fn.dataTable){r=require("datatables.net")(t,r).$}return e(r,t,t.document)}}else{e(jQuery,window,document)}})(function(i,t,r,l){"use strict";var p=i.fn.dataTable;var s=function(t,r){if(!p.versionCheck||!p.versionCheck("1.10.8")){throw"RowGroup requires DataTables 1.10.8 or newer"}this.c=i.extend(true,{},p.defaults.rowGroup,s.defaults,r);this.s={dt:new p.Api(t)};this.dom={};var e=this.s.dt.settings()[0];var n=e.rowGroup;if(n){return n}e.rowGroup=this;this._constructor()};i.extend(s.prototype,{dataSrc:function(t){if(t===l){return this.c.dataSrc}var r=this.s.dt;this.c.dataSrc=t;i(r.table().node()).triggerHandler("rowgroup-datasrc.dt",[r,t]);return this},disable:function(){this.c.enable=false;return this},enable:function(t){if(t===false){return this.disable()}this.c.enable=true;return this},_constructor:function(){var t=this;var r=this.s.dt;r.on("draw.dtrg",function(){if(t.c.enable){t._draw()}});r.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",function(){t._adjustColspan()});r.on("destroy",function(){r.off(".dtrg")});r.on("responsive-resize.dt",function(){t._adjustColspan()})},_adjustColspan:function(){i("tr."+this.c.className,this.s.dt.table().body()).find("td").attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce(function(t,r){return t+r},0)},_draw:function(){var t=this.s.dt;var r=this._group(0,t.rows({page:"current"}).indexes());this._groupDisplay(0,r)},_group:function(t,r){var e=Array.isArray(this.c.dataSrc)?this.c.dataSrc:[this.c.dataSrc];var n=p.ext.oApi._fnGetObjectDataFn(e[t]);var a=this.s.dt;var o,i;var s=[];for(var u=0,d=r.length;u<d;u++){var c=r[u];var f=a.row(c).data();var o=n(f);if(o===null||o===l){o=that.c.emptyDataGroup}if(i===l||o!==i){s.push({dataPoint:o,rows:[]});i=o}s[s.length-1].rows.push(c)}if(e[t+1]!==l){for(var u=0,d=s.length;u<d;u++){s[u].children=this._group(t+1,s[u].rows)}}return s},_groupDisplay:function(t,r){var e=this.s.dt;var n;for(var a=0,o=r.length;a<o;a++){var i=r[a];var s=i.dataPoint;var u;var d=i.rows;if(this.c.startRender){n=this.c.startRender.call(this,e.rows(d),s,t);u=this._rowWrap(n,this.c.startClassName,t);if(u){u.insertBefore(e.row(d[0]).node())}}if(this.c.endRender){n=this.c.endRender.call(this,e.rows(d),s,t);u=this._rowWrap(n,this.c.endClassName,t);if(u){u.insertAfter(e.row(d[d.length-1]).node())}}if(i.children){this._groupDisplay(t+1,i.children)}}},_rowWrap:function(t,r,e){var n;if(t===null||t===""){t=this.c.emptyDataGroup}if(t===l){return null}if(typeof t==="object"&&t.nodeName&&t.nodeName.toLowerCase()==="tr"){n=i(t)}else if(t instanceof i&&t.length&&t[0].nodeName.toLowerCase()==="tr"){n=t}else{n=i("<tr></tr>").append(i("<td></td>").attr("colspan",this._colspan()).append(t))}return n.addClass(this.c.className).addClass(r).addClass("dtrg-level-"+e)}});s.defaults={className:"dtrg-group",dataSrc:0,emptyDataGroup:"No group",enable:true,endClassName:"dtrg-end",endRender:null,startClassName:"dtrg-start",startRender:function(t,r){return r}};s.version="1.1.0";i.fn.dataTable.RowGroup=s;i.fn.DataTable.RowGroup=s;p.Api.register("rowGroup()",function(){return this});p.Api.register("rowGroup().disable()",function(){return this.iterator("table",function(t){if(t.rowGroup){t.rowGroup.enable(false)}})});p.Api.register("rowGroup().enable()",function(r){return this.iterator("table",function(t){if(t.rowGroup){t.rowGroup.enable(r===l?true:r)}})});p.Api.register("rowGroup().dataSrc()",function(r){if(r===l){return this.context[0].rowGroup.dataSrc()}return this.iterator("table",function(t){if(t.rowGroup){t.rowGroup.dataSrc(r)}})});i(r).on("preInit.dt.dtrg",function(t,r,e){if(t.namespace!=="dt"){return}var n=r.oInit.rowGroup;var a=p.defaults.rowGroup;if(n||a){var o=i.extend({},a,n);if(n!==false){new s(r,o)}}});return s});
// #END
