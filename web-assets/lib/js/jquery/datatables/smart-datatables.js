// JS-Script (US): smart-datatables.js @ 2022-10-19 22:05:24 +0000
const SmartDataTables=new class{constructor(){const _N$="SmartDataTables";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Utils$=smartJ$Utils;const DataTableInit=function(elem_id,options=null){const _m$="DataTableInit";if(typeof DataTable==undefined){_p$.error(_N$,_m$,"DataTable is not loaded ...");return}elem_id=_Utils$.stringPureVal(elem_id,true);elem_id=_Utils$.create_htmid(elem_id);if(elem_id==""){_p$.warn(_N$,_m$,"Invalid or Empty Element ID");return}if(!options||typeof options!=="object"){options={}}if(!options.hasOwnProperty("responsive")){options["responsive"]=false}else{options["responsive"]=!!options["responsive"]}if(!options.hasOwnProperty("filter")){options["filter"]=true}else{options["filter"]=!!options["filter"]}if(!options.hasOwnProperty("sort")){options["sort"]=true}else{options["sort"]=!!options["sort"]}if(!options.hasOwnProperty("paginate")){options["paginate"]=true}else{options["paginate"]=!!options["paginate"]}if(!options.hasOwnProperty("pagesize")){options["pagesize"]=10}else{options["pagesize"]=_Utils$.format_number_int(options["pagesize"],false);if(options["pagesize"]<1){options["pagesize"]=1}}const defPageSizes=[10,25,50,100];if(!options.hasOwnProperty("pagesizes")){options["pagesizes"]=defPageSizes}else if(!Array.isArray(options["pagesizes"])){options["pagesizes"]=defPageSizes}if(!!!options.paginate){options["pagesize"]=Number.MAX_SAFE_INTEGER;options["pagesizes"]=[Number.MAX_SAFE_INTEGER]}if(!options.hasOwnProperty("classField")){options["classField"]="ux-field"}if(!options.hasOwnProperty("classButton")){options["classButton"]="ux-button ux-button-small"}if(!options.hasOwnProperty("classActiveButton")){options["classActiveButton"]="ux-button-primary"}let ordCols=[];if(!options.hasOwnProperty("colorder")){options["colorder"]=ordCols}else if(!Array.isArray(options["colorder"])){options["colorder"]=ordCols}let defCols=[{}];if(!options.hasOwnProperty("coldefs")){options["coldefs"]=defCols}else if(!Array.isArray(options["coldefs"])){options["coldefs"]=defCols}const opts={responsive:!!options.responsive,bFilter:!!options.filter,bSort:!!options.sort,bSortMulti:!!options.sort,order:Array.from(options.colorder),bPaginate:!!options.paginate,iDisplayLength:_Utils$.format_number_int(options.pagesize),aLengthMenu:Array.from(options.pagesizes),uxmHidePagingIfNoMultiPages:true,uxmCssClassLengthField:String(options.classField),uxmCssClassFilterField:String(options.classField),classes:{sPageButton:String(options.classButton),sPageButtonActive:String(options.classActiveButton)},columnDefs:Array.from(options.coldefs)};let HtmlElement=$("table#"+elem_id);HtmlElement.DataTable(opts);HtmlElement.data("smart-js-elem-type","DataTable");return HtmlElement};_C$.DataTableInit=DataTableInit;const DataTableColumnsFilter=function(elem_id,filterColNumber,regexStr){const _m$="DataTableColumnsFilter";if(typeof DataTable==undefined){_p$.error(_N$,_m$,"DataTable is not loaded ...");return}elem_id=_Utils$.stringPureVal(elem_id,true);elem_id=_Utils$.create_htmid(elem_id);if(elem_id==""){_p$.warn(_N$,_m$,"Invalid or Empty Element ID");return}let HtmlElement=$("table#"+elem_id);if(HtmlElement.data("smart-js-elem-type")!=="DataTable"){return null}let obj=HtmlElement.DataTable();let col=_Utils$.format_number_int(filterColNumber,false);if(col<0){col=0}if(regexStr){let testregex;try{testregex=new RegExp(String(regexStr))}catch(err){regexStr="";_p$.warn(_N$,_m$,"ERR: Filter Expression",regexStr,err)}testregex=null}if(regexStr){obj.columns(col).search(String(regexStr),true,false,true).draw()}else{obj.columns(col).search("").draw()}return HtmlElement};_C$.DataTableColumnsFilter=DataTableColumnsFilter}};SmartDataTables.secureClass();window.SmartDataTables=SmartDataTables;
// #END
