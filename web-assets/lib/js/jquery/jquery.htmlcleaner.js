// JS-Script (UM): jquery.htmlcleaner.js @ 2022-09-20 09:51:12 +0000
(function(A){A.fn.htmlClean=function(e){return this.each(function(){if(this.value){this.value=A.htmlClean(this.value,e)}else{this.innerHTML=A.htmlClean(this.innerHTML,e)}})};A.htmlClean=function(e,t){t=A.extend({},A.htmlClean.defaults,t);t.allowEmpty=R.concat(t.allowEmpty);P(t);var o=/(<(\/)?(\w+:)?([\w]+)([^>]*)>)|<!--(.*?--)>/gi;var i=/([\w\-]+)\s*=\s*(".*?"|'.*?'|[^\s>\/]*)/gi;var n;var r=new q;var l=[r];var s=r;if(t.bodyOnly){if(n=/<body[^>]*>((\n|.)*)<\/body>/i.exec(e)){e=n[1]}}e=e.concat("<xxx>");var a;while(n=o.exec(e)){var c=n[6]?new E("--",null,n[6],t):new E(n[4],n[2],n[5],t);var m=e.substring(a,n.index);if(m.length>0){var u=s.children[s.children.length-1];if(s.children.length>0&&T(u=s.children[s.children.length-1])){s.children[s.children.length-1]=u.concat(m)}else{s.children.push(m)}}a=o.lastIndex;if(c.isClosing){if(x(l,[c.name])){l.pop();s=l[l.length-1]}}else{var p=new q(c);var h;while(h=i.exec(c.rawAttributes)){if(h[1].toLowerCase()=="style"&&t.replaceStyles){var d=!c.isInline;for(var g=0;g<t.replaceStyles.length;g++){if(t.replaceStyles[g][0].test(h[2])){if(!d){c.render=false;d=true}s.children.push(p);l.push(p);s=p;c=new E(t.replaceStyles[g][1],"","",t);p=new q(c)}}}if(c.allowedAttributes!=null&&(c.allowedAttributes.length==0||A.inArray(h[1].toLowerCase(),c.allowedAttributes)>-1)){p.attributes.push(new I(h[1],h[2]))}}A.each(c.requiredAttributes,function(){var e=this.toString();if(!p.hasAttribute(e)){p.attributes.push(new I(e,""))}});for(var y=0;y<t.replace.length;y++){for(var f=0;f<t.replace[y][0].length;f++){var b=typeof t.replace[y][0][f]=="string";if(b&&t.replace[y][0][f]==c.name||!b&&t.replace[y][0][f].test(n)){c.rename(t.replace[y][1]);y=t.replace.length;break}}}var v=true;if(!s.isRoot){if(s.tag.isInline&&!c.isInline){if(v=S(l)){s=l[l.length-1]}}else if(s.tag.disallowNest&&c.disallowNest&&!c.requiredParent){v=false}else if(c.requiredParent){if(v=x(l,c.requiredParent)){s=l[l.length-1]}}}if(v){s.children.push(p);if(c.toProtect){var w;while(w=o.exec(e)){var k=new E(w[4],w[1],w[5],t);if(k.isClosing&&k.name==c.name){p.children.push(RegExp.leftContext.substring(a));a=o.lastIndex;break}}}else{if(!c.isSelfClosing&&!c.isNonClosing){l.push(p);s=p}}}}}return C(r,t).join("").replace(/\r\n/gi,"\n").replace(/\>\n\n\</gi,">\n<").replace(/ {2,}/g," ")};A.htmlClean.defaults={bodyOnly:true,allowedTags:[],removeTags:[],allowedAttributes:[],removeAttrs:[],allowedClasses:[],format:true,replace:[[["strong","big"],"b"],[["em"],"i"],[["strike"],"s"]],replaceStyles:[],allowComments:true,allowEmpty:[],forceResponsiveImg:false};function C(i,n){var r=[],e=i.attributes.length==0;if(i.tag.isComment){if(n.allowComments){r.push("\x3c!--");r.push(i.tag.rawAttributes);r.push(">")}}else{var t=i.tag.render&&(n.allowedTags.length==0||A.inArray(i.tag.name,n.allowedTags)>-1)&&(n.removeTags.length==0||A.inArray(i.tag.name,n.removeTags)==-1);if(!i.isRoot&&t){if(A.inArray(i.tag.name,h)>-1){r.push("\n")}r.push("<");r.push(i.tag.name);A.each(i.attributes,function(){if(A.inArray(this.name,n.removeAttrs)==-1){var e=RegExp(/^(['"]?)(.*?)['"]?$/).exec(this.value);var t=e[2];var o=e[1]||"'";if(this.name=="class"&&n.allowedClasses.length>0){t=A.grep(t.split(" "),function(t){return A.grep(n.allowedClasses,function(e){return e==t||e[0]==t&&(e.length==1||A.inArray(i.tag.name,e[1])>-1)}).length>0}).join(" ")}if(t!=null&&(t.length>0||A.inArray(this.name,i.tag.requiredAttributes)>-1)){r.push(" ");r.push(this.name);r.push("=");r.push(o);r.push(t);r.push(o)}}})}if(i.tag.isSelfClosing){if(t){r.push(">")}if(A.inArray(i.tag.name,d)>-1){r.push("\n")}e=false}else if(i.tag.isNonClosing){e=false}else{if(!i.isRoot&&t){r.push(">")}if(A.inArray(i.tag.name,d)>-1){r.push("\n")}if(i.tag.toProtect){o="\n"+A.htmlClean.trim(i.children.join(""));r.push(o);e=o.length==0}else{var o=[];for(var l=0;l<i.children.length;l++){var s=i.children[l];var a=A.htmlClean.trim(p(T(s)?s:s.childrenToString()));if(u(s)){if(l>0&&a.length>0&&(c(s)||m(i.children[l-1]))){o.push("\n")}}if(T(s)){if(a.length>0){o.push(a)}}else{if(l!=i.children.length-1||s.tag.name!="br"){o=o.concat(C(s,n))}}}if(o.length>0){r=r.concat(o);e=false}}if(!i.isRoot&&t){if(A.inArray(i.tag.name,g)>-1){r.push("\n")}r.push("</");r.push(i.tag.name);r.push(">");if(A.inArray(i.tag.name,y)>-1){r.push("\n")}}}if(!i.tag.allowEmpty&&e){return[]}}return r}function x(e,t){return n(e,function(e){return A.inArray(e.tag.nameOriginal,t)>-1})}function S(e){return n(e,function(e){return e.isRoot||!e.tag.isInline})}function n(e,t,o){o=o||1;var i=e[e.length-o];if(t(i)){return true}else if(e.length-o>0&&n(e,t,o+1)){e.pop();return true}return false}function q(e){if(e){this.tag=e;this.isRoot=false}else{this.tag=new E("root");this.isRoot=true}this.attributes=[];this.children=[];this.hasAttribute=function(e){for(var t=0;t<this.attributes.length;t++){if(this.attributes[t].name==e){return true}}return false};this.childrenToString=function(){return this.children.join("")};return this}function I(e,t){this.name=e;this.value=t;return this}function E(e,i,n,r){try{this.name=e.toLowerCase();this.nameOriginal=this.name;this.render=true;this.init=function(){if(this.name=="--"){this.isComment=true;this.isSelfClosing=true;this.format=true}else{this.isComment=false;this.isSelfClosing=A.inArray(this.name,v)>-1;this.isNonClosing=A.inArray(this.name,w)>-1;this.isClosing=i!=undefined&&i.length>0;this.isInline=A.inArray(this.name,l)>-1;this.disallowNest=A.inArray(this.name,a)>-1;this.requiredParent=f[A.inArray(this.name,f)+1];this.allowEmpty=r&&A.inArray(this.name,r.allowEmpty)>-1;this.toProtect=A.inArray(this.name,b)>-1;this.format=A.inArray(this.name,s)>-1||!this.isInline}this.rawAttributes=n;this.requiredAttributes=j[A.inArray(this.name,j)+1];if(r){if(!r.tagAttributesCache){r.tagAttributesCache=[]}if(A.inArray(this.name,r.tagAttributesCache)==-1){var e=k[A.inArray(this.name,k)+1].slice(0);for(var t=0;t<r.allowedAttributes.length;t++){var o=r.allowedAttributes[t][0];if((r.allowedAttributes[t].length==1||A.inArray(this.name,r.allowedAttributes[t][1])>-1)&&A.inArray(o,e)==-1){e.push(o)}}r.tagAttributesCache.push(this.name);r.tagAttributesCache.push(e)}this.allowedAttributes=r.tagAttributesCache[A.inArray(this.name,r.tagAttributesCache)+1]}};this.init();this.rename=function(e){this.name=e;this.init()}}catch(e){console.warn("jQuery HTML Cleaner Parse (TAG) mismatch: "+e)}return this}function c(e){while(o(e)&&e.children.length>0){e=e.children[0]}if(!T(e)){return false}var t=p(e);return t.length>0&&A.htmlClean.isWhitespace(t.charAt(0))}function m(e){while(o(e)&&e.children.length>0){e=e.children[e.children.length-1]}if(!T(e)){return false}var t=p(e);return t.length>0&&A.htmlClean.isWhitespace(t.charAt(t.length-1))}function T(e){return e.constructor==String}function u(e){return T(e)||e.tag.isInline}function o(e){return e.constructor==q}function p(e){return e.replace(/\n/g," ").replace(/\s\s+/g," ")}A.htmlClean.trim=function(e){return A.htmlClean.trimStart(A.htmlClean.trimEnd(e))};A.htmlClean.trimStart=function(e){return e.substring(A.htmlClean.trimStartIndex(e))};A.htmlClean.trimStartIndex=function(e){for(var t=0;t<e.length-1&&A.htmlClean.isWhitespace(e.charAt(t));t++);return t};A.htmlClean.trimEnd=function(e){return e.substring(0,A.htmlClean.trimEndIndex(e))};A.htmlClean.trimEndIndex=function(e){for(var t=e.length-1;t>=0&&A.htmlClean.isWhitespace(e.charAt(t));t--);return t+1};A.htmlClean.isWhitespace=function(e){return A.inArray(e,t)!=-1};var l=["a","abbr","acronym","address","annotation","b","bdi","bdo","big","button","br","caption","cite","data","del","em","figcaption","font","hr","i","input","img","ins","kbd","label","legend","map","mark","menuitem","progress","q","s","samp","select","option","param","small","span","strike","strong","sub","sup","time","tt","u","var"];var s=["address","button","caption","code","input","label","legend","select","option","param"];var a=["h1","h2","h3","h4","h5","h6","p","th","td","object"];var R=["body","th","td","tbody","section","article","div","span","ul","ol","li","a","pre","legend","output","nav","menu","article","blockquote","select","textarea","option","optgroup","label","canvas","iframe","details","summary","dfn"];var h=["script","table","thead","tbody","tfoot","tr","th","td","div","section","hgroup","header","main","footer","aside","nav","menu","ul","ol","li","option","optgroup","hr","pre"];var d=["picture","video","audio","source","link","figure"];var g=["script","style","picture","video","audio","pre","code","template"];var y=["script","style","table","tr","th","td","div","nav","menu","ul","ol","li","option","optgroup","colgroup","picture","figure","video","audio"];var f=[null,"li",["ul","ol"],"td",["tr"],"th",["tr"],"tr",["table","thead","tbody","tfoot"],"thead",["table"],"tbody",["table"],"tfoot",["table"],"source",["picture","audio","video"],"option",["select"],"optgroup",["select"],"dt",["dl"],"dd",["dl"],"param",["object"]];var b=["script","style","pre","code","noscript"];var v=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var w=["!doctype","?xml"];var k=[["id","class","style","role","itemscope","itemtype","itemprop","title"],"a",["id","class","style","role","itemscope","itemtype","itemprop","href","target","title","rel","name","type","data-smart","onclick","ondblclick","ontouchstart","ontouchend"],"img",["id","class","style","role","itemscope","itemtype","itemprop","src","data-src","align","rel","alt","title","border","usemap","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"picture"["id","class","style","role","itemscope","itemtype","itemprop","width","height"],"video",["id","class","style","role","itemscope","itemtype","itemprop","src","controls","autoplay","loop","preload","poster","muted","width","height"],"audio",["id","class","style","role","itemscope","itemtype","itemprop","src","controls","autoplay","loop","preload","muted"],"source",["id","class","style","role","itemscope","itemtype","itemprop","src","srcset","data-src","type","media"],"track",["id","role","itemscope","itemtype","itemprop","src","srclang","kind","label","default"],"canvas",["id","class","style","role","itemscope","itemtype","itemprop","width","height","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"table",["id","class","style","role","itemscope","itemtype","itemprop","align","title","width","height","cellpadding","cellspacing","border","bgcolor","onclick","ontouchstart","ontouchend"],"tr",["id","class","style","role","itemscope","itemtype","itemprop","align","title","valign","bgcolor","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"th",["id","class","style","role","itemscope","itemtype","itemprop","align","title","valign","width","height","colspan","rowspan","bgcolor","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"td",["id","class","style","role","itemscope","itemtype","itemprop","align","title","valign","width","height","colspan","rowspan","bgcolor","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"p",["id","class","style","role","itemscope","itemtype","itemprop","align","title","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"div",["id","class","style","role","itemscope","itemtype","itemprop","align","title","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"span",["id","class","style","role","itemscope","itemtype","itemprop","title","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"pre",["id","class","style","role","itemscope","itemtype","itemprop","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"code",["id","class","style","role","itemscope","itemtype","itemprop","data-syntax"],"form",["id","class","style","role","itemscope","itemtype","itemprop","name","title","action","target","method","enctype","autocomplete","rel","novalidate","onsubmit","onreset"],"button",["id","class","style","role","itemscope","itemtype","itemprop","name","title","type","value","disabled","formaction","formtarget","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout","onsubmit"],"input",["id","class","style","role","itemscope","itemtype","itemprop","name","title","align","type","src","value","width","height","size","maxlength","checked","multiple","min","max","step","disabled","readonly","required","autocomplete","placeholder","list","formaction","formtarget","alt","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout","onchange","onblur","oninput","onreset","onselect","onsubmit"],"keygen",["id","class","style","role","itemscope","itemtype","itemprop","name","title","challenge","keytype","disabled","form"],"textarea",["id","class","style","role","itemscope","itemtype","itemprop","name","title","maxlength","rows","cols","wrap","disabled","readonly","required","placeholder","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout","onchange","onblur","oninput","onreset","onselect","onsubmit"],"select",["id","class","style","role","itemscope","itemtype","itemprop","name","title","size","multiple","disabled","required","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout","onchange","onblur","onreset","onselect","onsubmit"],"datalist",["id","class","style","role","itemscope","itemtype","itemprop","title","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"option",["id","class","style","role","itemscope","itemtype","itemprop","label","selected","value","disabled","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"optgroup",["id","class","style","role","itemscope","itemtype","itemprop","label","disabled","onmouseover","onmouseout"],"label",["id","class","style","role","itemscope","itemtype","itemprop","for"],"fieldset",["id","class","style","role","itemscope","itemtype","itemprop","name","disabled"],"hr",["id","class","style","role","itemscope","itemtype","itemprop","noshade","align","size","width"],"ul",["id","class","style","role","itemscope","itemtype","itemprop","type","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"ol",["id","class","style","role","itemscope","itemtype","itemprop","type","reversed","start","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"li",["id","class","style","role","itemscope","itemtype","itemprop","type","value","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"legend",["id","class","style","role","itemscope","itemtype","itemprop","align","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"time",["id","class","style","role","itemscope","itemtype","itemprop","datetime","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"progress",["id","class","style","role","itemscope","itemtype","itemprop","value","max","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"menuitem",["id","class","style","role","itemscope","itemtype","itemprop","type","label","icon","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"meter",["id","class","style","role","itemscope","itemtype","itemprop","min","max","optimum","high","low","form","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"font",["size","color"],"center",[],"bdi",[],"bdo",["dir"],"blockquote",["id","class","style","role","itemscope","itemtype","itemprop","cite"],"q",["id","class","style","role","itemscope","itemtype","itemprop","cite"],"del",["id","class","style","role","itemscope","itemtype","itemprop","class","datetime"],"ins",["id","class","style","role","itemscope","itemtype","itemprop","class","datetime"],"map",["id","class","style","role","itemscope","itemtype","itemprop","name"],"area",["id","class","style","role","itemscope","itemtype","itemprop","type","target","shape","coords","alt","rel","href","hreflang","nohref","media","download","onclick","ondblclick","ontouchstart","ontouchend","onmouseover","onmouseout"],"iframe",["id","class","style","role","itemscope","itemtype","itemprop","align","name","src","srcdoc","width","height","scrolling","sandbox","seamless","referrerpolicy","allow","loading","allowfullscreen","onresize","onscroll","onbeforeunload","onunload","onload","onhashchange","onabort","onerror"],"style",["id","type"],"link",["id","href","rel","type","media","sizes","onload"],"script",["id","type","async","defer","crossorigin"],"noscript",[],"body",["style","role","itemscope","itemtype","itemprop","background","bgcolor","onload"],"meta",["itemprop","content","charset","http-equiv","name","scheme"],"head",[],"title",["itemprop"],"html",["lang","itemscope","itemtype"],"!doctype",[],"embed",["src","type","width","height"],"object",["align","type","classid","data","width","height"],"param",["name","value"],"?xml",[]];var j=[[],"img",["alt"]];var t=["\xa0"," ","\t","\n","\r","\f"];var i=false;var P=function(e){if(i){return}if(e.forceResponsiveImg!==true){for(var t=0;t<k.length;t++){if(k[t]==="img"){k[t+1].push("width");k[t+1].push("height");break}}}if(!e.format){h=[];d=[];g=[];y=[]}i=true}})(jQuery);
// #END
