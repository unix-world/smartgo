// JS-Script (UM): jquery.timepicker.js @ 2022-09-20 09:51:09 +0000
(function($){var PROP_NAME="timepicker";function Timepicker(){this.debug=true;this._curInst=null;this._disabledInputs=[];this._timepickerShowing=false;this._inDialog=false;this._dialogClass="ui-timepicker-dialog";this._mainDivId="ui-timepicker-div";this._inlineClass="ui-timepicker-inline";this._currentClass="ui-timepicker-current";this._dayOverClass="ui-timepicker-days-cell-over";this.regional=[];this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"],closeButtonText:"Done",nowButtonText:"Now",deselectButtonText:"Clear"};this._defaults={showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",beforeShow:null,onSelect:null,onClose:null,timeSeparator:":",periodSeparator:" ",showPeriod:false,showPeriodLabels:true,showLeadingZero:true,showMinutesLeadingZero:true,altField:"",defaultTime:"now",myPosition:"left top",atPosition:"left bottom",onHourShow:null,onMinuteShow:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5,manual:[]},rows:4,showHours:true,showMinutes:true,optionalMinutes:false,showCloseButton:false,showNowButton:false,showDeselectButton:false,maxTime:{hour:null,minute:null},minTime:{hour:null,minute:null}};$.extend(this._defaults,this.regional[""]);this.tpDiv=$('<div id="'+this._mainDivId+'" class="ui-timepicker ui-timepicker-widget ui-timepicker-clearfix ui-timepicker-corner-all" style="display: none"></div>')}$.extend(Timepicker.prototype,{markerClassName:"hasTimepicker",log:function(){if(this.debug)console.log.apply("",arguments)},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(e){extendRemove(this._defaults,e||{});return this},_attachTimepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("time:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=nodeName=="div"||nodeName=="span";if(!target.id){this.uuid+=1;target.id="tp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectTimepicker(target,inst);this._setTimeFromField(inst)}else if(inline){this._inlineTimepicker(target,inst)}},_newInst:function(e,i){var t=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:t,input:e,inline:i,tpDiv:!i?this.tpDiv:$('<div class="'+this._inlineClass+' ui-timepicker ui-timepicker-widget ui-helper-clearfix"></div>')}},_connectTimepicker:function(e,s){var i=$(e);s.append=$([]);s.trigger=$([]);if(i.hasClass(this.markerClassName)){return}this._attachments(i,s);i.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(e,i,t){s.settings[i]=t}).bind("getData.timepicker",function(e,i){return this._get(s,i)});$.data(e,PROP_NAME,s)},_doKeyDown:function(e){var i=$.timepicker._getInst(e.target);var t=true;i._keyEvent=true;if($.timepicker._timepickerShowing){switch(e.keyCode){case 9:$.timepicker._hideTimepicker();t=false;break;case 13:$.timepicker._updateSelectedValue(i);$.timepicker._hideTimepicker();return false;break;case 27:$.timepicker._hideTimepicker();break;default:t=false}}else if(e.keyCode==36&&e.ctrlKey){$.timepicker._showTimepicker(this)}else{t=false}if(t){e.preventDefault();e.stopPropagation()}},_doKeyUp:function(e){var i=$.timepicker._getInst(e.target);$.timepicker._setTimeFromField(i);$.timepicker._updateTimepicker(i)},_attachments:function(e,i){var t=this._get(i,"appendText");var s=this._get(i,"isRTL");if(i.append){i.append.remove()}if(t){i.append=$('<span class="'+this._appendClass+'">'+t+"</span>");e[s?"before":"after"](i.append)}e.unbind("focus.timepicker",this._showTimepicker);e.unbind("click.timepicker",this._adjustZIndex);if(i.trigger){i.trigger.remove()}var r=this._get(i,"showOn");if(r=="focus"||r=="both"){e.bind("focus.timepicker",this._showTimepicker);e.bind("click.timepicker",this._adjustZIndex)}},_inlineTimepicker:function(e,s){var i=$(e);if(i.hasClass(this.markerClassName)){return}i.addClass(this.markerClassName).append(s.tpDiv).bind("setData.timepicker",function(e,i,t){s.settings[i]=t}).bind("getData.timepicker",function(e,i){return this._get(s,i)});$.data(e,PROP_NAME,s);this._setTimeFromField(s);this._updateTimepicker(s);s.tpDiv.show()},_adjustZIndex:function(e){e=e.target||e;var i=$.timepicker._getInst(e);i.tpDiv.css("zIndex",$.timepicker._getZIndex(e)+1)},_showTimepicker:function(e){e=e.target||e;if(e.nodeName.toLowerCase()!="input"){e=$("input",e.parentNode)[0]}if($.timepicker._isDisabledTimepicker(e)||$.timepicker._lastInput==e){return}$.timepicker._hideTimepicker();var i=$.timepicker._getInst(e);if($.timepicker._curInst&&$.timepicker._curInst!=i){$.timepicker._curInst.tpDiv.stop(true,true)}var t=$.timepicker._get(i,"beforeShow");extendRemove(i.settings,t?t.apply(e,[e,i]):{});i.lastVal=null;$.timepicker._lastInput=e;$.timepicker._setTimeFromField(i);if($.timepicker._inDialog){e.value=""}if(!$.timepicker._pos){$.timepicker._pos=$.timepicker._findPos(e);$.timepicker._pos[1]+=e.offsetHeight}var s=false;$(e).parents().each(function(){s|=$(this).css("position")=="fixed";return!s});var r={left:$.timepicker._pos[0],top:$.timepicker._pos[1]};$.timepicker._pos=null;i.tpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.timepicker._updateTimepicker(i);i._hoursClicked=false;i._minutesClicked=false;r=$.timepicker._checkOffset(i,r,s);i.tpDiv.css({position:s?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"});if(!i.inline){var n=$.timepicker._get(i,"showAnim");var a=$.timepicker._get(i,"duration");var u=function(){$.timepicker._timepickerShowing=true;var e=$.timepicker._getBorders(i.tpDiv);i.tpDiv.find("iframe.ui-timepicker-cover").css({left:-e[0],top:-e[1],width:i.tpDiv.outerWidth(),height:i.tpDiv.outerHeight()})};$.timepicker._adjustZIndex(e);i.tpDiv.show(n?a:null,u);if(!n||!a){u()}if(i.input.is(":visible")&&!i.input.is(":disabled")){i.input.focus()}$.timepicker._curInst=i}},_getZIndex:function(e){return smartJ$Browser.getHighestZIndex()},_refreshTimepicker:function(e){var i=this._getInst(e);if(i){this._updateTimepicker(i)}},_updateTimepicker:function(e){e.tpDiv.empty().append(this._generateHTML(e));this._rebindDialogEvents(e)},_rebindDialogEvents:function(e){var i=$.timepicker._getBorders(e.tpDiv),t=this;e.tpDiv.find("iframe.ui-timepicker-cover").css({left:-i[0],top:-i[1],width:e.tpDiv.outerWidth(),height:e.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").unbind().bind("click",{fromDoubleClick:false},$.proxy($.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:true},$.proxy($.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").unbind().bind("click",{fromDoubleClick:false},$.proxy($.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:true},$.proxy($.timepicker.selectHours,this)).end().find(".ui-timepicker td a").unbind().bind("mouseout",function(){$(this).removeClass("ui-timepicker-state-hover");if(this.className.indexOf("ui-timepicker-prev")!=-1)$(this).removeClass("ui-timepicker-prev-hover");if(this.className.indexOf("ui-timepicker-next")!=-1)$(this).removeClass("ui-timepicker-next-hover")}).bind("mouseover",function(){if(!t._isDisabledTimepicker(e.inline?e.tpDiv.parent()[0]:e.input[0])){$(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-timepicker-state-hover");$(this).addClass("ui-timepicker-state-hover");if(this.className.indexOf("ui-timepicker-prev")!=-1)$(this).addClass("ui-timepicker-prev-hover");if(this.className.indexOf("ui-timepicker-next")!=-1)$(this).addClass("ui-timepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end().find(".ui-timepicker-now").bind("click",function(e){$.timepicker.selectNow(e)}).end().find(".ui-timepicker-deselect").bind("click",function(e){$.timepicker.deselectTime(e)}).end().find(".ui-timepicker-close").bind("click",function(e){$.timepicker._hideTimepicker()}).end()},_generateHTML:function(e){var i,t,s,r,n,a,u="",o=this._get(e,"showPeriod")==true,l=this._get(e,"showPeriodLabels")==true,c=this._get(e,"showLeadingZero")==true,p=this._get(e,"showHours")==true,d=this._get(e,"showMinutes")==true,m=this._get(e,"amPmText"),h=this._get(e,"rows"),f=0,k=0,_=0,g=0,v=0,$=0,T=Array(),b=this._get(e,"hours"),w=null,C=0,D=this._get(e,"hourText"),I=this._get(e,"showCloseButton"),x=this._get(e,"closeButtonText"),M=this._get(e,"showNowButton"),y=this._get(e,"nowButtonText"),N=this._get(e,"showDeselectButton"),S=this._get(e,"deselectButtonText"),P=I||M||N;for(i=b.starts;i<=b.ends;i++){T.push(i)}w=Math.ceil(T.length/h);if(l){for(C=0;C<T.length;C++){if(T[C]<12){_++}else{g++}}C=0;f=Math.floor(_/T.length*h);k=Math.floor(g/T.length*h);if(h!=f+k){if(_&&(!g||!f||k&&_/f>=g/k)){f++}else{k++}}v=Math.min(f,1);$=f+1;if(f==0){w=Math.ceil(g/k)}else if(k==0){w=Math.ceil(_/f)}else{w=Math.ceil(Math.max(_/f,g/k))}}n='<table class="ui-timepicker-table ui-timepicker-content ui-timepicker-corner-all"><tr>';if(p){n+='<td class="ui-timepicker-hours">'+'<div class="ui-timepicker-title ui-timepicker-header ui-timepicker-clearfix ui-timepicker-corner-all">'+D+"</div>"+'<table class="ui-timepicker">';for(s=1;s<=h;s++){n+="<tr>";if(s==v&&l){n+='<th rowspan="'+f.toString()+'" class="periods" scope="row">'+m[0]+"</th>"}if(s==$&&l){n+='<th rowspan="'+k.toString()+'" class="periods" scope="row">'+m[1]+"</th>"}for(r=1;r<=w;r++){if(l&&s<$&&T[C]>=12){n+=this._generateHTMLHourCell(e,undefined,o,c)}else{n+=this._generateHTMLHourCell(e,T[C],o,c);C++}}n+="</tr>"}n+="</table>"+"</td>"}if(d){n+='<td class="ui-timepicker-minutes">';n+=this._generateHTMLMinutes(e);n+="</td>"}n+="</tr>";if(P){var H='<tr><td colspan="3"><div class="ui-timepicker-buttonpane ui-timepicker-content">';if(M){H+='<button type="button" class="ui-timepicker-now ui-timepicker-corner-all" '+' data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'">'+y+"</button>"}if(N){H+='<button type="button" class="ui-timepicker-deselect ui-timepicker-corner-all" '+' data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'">'+S+"</button>"}if(I){H+='<button type="button" class="ui-timepicker-close ui-timepicker-corner-all" '+' data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'">'+x+"</button>"}n+=H+"</div></td></tr>"}n+="</table>";return n},_updateMinuteDisplay:function(e){var i=this._generateHTMLMinutes(e);e.tpDiv.find("td.ui-timepicker-minutes").html(i);this._rebindDialogEvents(e)},_generateHTMLMinutes:function(e){var i,t,s,r="",n=this._get(e,"rows"),a=Array(),u=this._get(e,"minutes"),o=null,l=0,c=this._get(e,"showMinutesLeadingZero")==true,p=this._get(e,"onMinuteShow"),d=this._get(e,"minuteText");if(!u.starts){u.starts=0}if(!u.ends){u.ends=59}if(!u.manual){u.manual=[]}for(t=u.starts;t<=u.ends;t+=u.interval){a.push(t)}for(i=0;i<u.manual.length;i++){var m=u.manual[i];if(typeof m!="number"||m<0||m>59||$.inArray(m,a)>=0){continue}a.push(m)}a.sort(function(e,i){return e-i});o=Math.round(a.length/n+.49);if(p&&p.apply(e.input?e.input[0]:null,[e.hours,e.minutes])==false){for(l=0;l<a.length;l+=1){t=a[l];if(p.apply(e.input?e.input[0]:null,[e.hours,t])){e.minutes=t;break}}}r+='<div class="ui-timepicker-title ui-timepicker-header ui-timepicker-clearfix ui-timepicker-corner-all">'+d+"</div>"+'<table class="ui-timepicker">';l=0;for(s=1;s<=n;s++){r+="<tr>";while(l<s*o){var t=a[l];var h="";if(t!==undefined){h=t<10&&c?"0"+t.toString():t.toString()}r+=this._generateHTMLMinuteCell(e,t,h);l++}r+="</tr>"}r+="</table>";return r},_generateHTMLHourCell:function(e,i,t,s){var r=i;if(i>12&&t){r=i-12}if(r==0&&t){r=12}if(r<10&&s){r="0"+r}var n="";var a=true;var u=this._get(e,"onHourShow");var o=this._get(e,"maxTime");var l=this._get(e,"minTime");if(i==undefined){n='<td><span class="ui-timepicker-state-default ui-timepicker-state-disabled">&nbsp;</span></td>';return n}if(u){a=u.apply(e.input?e.input[0]:null,[i])}if(a){if(!isNaN(parseInt(o.hour))&&i>o.hour)a=false;if(!isNaN(parseInt(l.hour))&&i<l.hour)a=false}if(a){n='<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" data-hour="'+i.toString()+'">'+'<a class="ui-timepicker-state-default '+(i==e.hours?"ui-timepicker-state-active":"")+'">'+r.toString()+"</a></td>"}else{n="<td>"+'<span class="ui-timepicker-state-default ui-timepicker-state-disabled '+(i==e.hours?" ui-timepicker-state-active ":" ")+'">'+r.toString()+"</span>"+"</td>"}return n},_generateHTMLMinuteCell:function(e,i,t){var s="";var r=true;var n=e.hours;var a=this._get(e,"onMinuteShow");var u=this._get(e,"maxTime");var o=this._get(e,"minTime");if(a){r=a.apply(e.input?e.input[0]:null,[e.hours,i])}if(i==undefined){s='<td><span class="ui-timepicker-state-default ui-timepicker-state-disabled">&nbsp;</span></td>';return s}if(r&&n!==null){if(!isNaN(parseInt(u.hour))&&!isNaN(parseInt(u.minute))&&n>=u.hour&&i>u.minute)r=false;if(!isNaN(parseInt(o.hour))&&!isNaN(parseInt(o.minute))&&n<=o.hour&&i<o.minute)r=false}if(r){s='<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" data-minute="'+i.toString()+'" >'+'<a class="ui-timepicker-state-default '+(i==e.minutes?"ui-timepicker-state-active":"")+'" >'+t+"</a></td>"}else{s="<td>"+'<span class="ui-timepicker-state-default ui-timepicker-state-disabled" >'+t+"</span>"+"</td>"}return s},_destroyTimepicker:function(e){var i=$(e);var t=$.data(e,PROP_NAME);if(!i.hasClass(this.markerClassName)){return}var s=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME);if(s=="input"){t.append.remove();t.trigger.remove();i.removeClass(this.markerClassName).unbind("focus.timepicker",this._showTimepicker).unbind("click.timepicker",this._adjustZIndex)}else if(s=="div"||s=="span")i.removeClass(this.markerClassName).empty()},_enableTimepicker:function(e){var i=$(e),t=i.attr("id"),s=$.data(e,PROP_NAME);if(!i.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=false;var n=this._get(s,"button");$(n).removeClass("ui-timepicker-state-disabled").disabled=false;s.trigger.filter("button").each(function(){this.disabled=false}).end()}else if(r=="div"||r=="span"){var a=i.children("."+this._inlineClass);a.children().removeClass("ui-timepicker-state-disabled");a.find("button").each(function(){this.disabled=false})}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})},_disableTimepicker:function(i){var e=$(i);var t=$.data(i,PROP_NAME);if(!e.hasClass(this.markerClassName)){return}var s=i.nodeName.toLowerCase();if(s=="input"){var r=this._get(t,"button");$(r).addClass("ui-timepicker-state-disabled").disabled=true;i.disabled=true;t.trigger.filter("button").each(function(){this.disabled=true}).end()}else if(s=="div"||s=="span"){var n=e.children("."+this._inlineClass);n.children().addClass("ui-timepicker-state-disabled");n.find("button").each(function(){this.disabled=true})}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==i?null:e});this._disabledInputs[this._disabledInputs.length]=e.attr("id")},_isDisabledTimepicker:function(e){if(!e){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==e){return true}}return false},_checkOffset:function(e,i,t){var s=e.tpDiv.outerWidth();var r=e.tpDiv.outerHeight();var n=e.input?e.input.outerWidth():0;var a=e.input?e.input.outerHeight():0;var u=document.documentElement.clientWidth+$(document).scrollLeft();var o=document.documentElement.clientHeight+$(document).scrollTop();i.left-=this._get(e,"isRTL")?s-n:0;i.left-=t&&i.left==e.input.offset().left?$(document).scrollLeft():0;i.top-=t&&i.top==e.input.offset().top+a?$(document).scrollTop():0;i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0);i.top-=Math.min(i.top,i.top+r>o&&o>r?Math.abs(r+a):0);return i},_findPos:function(e){var i=this._getInst(e);var t=this._get(i,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1)){e=e[t?"previousSibling":"nextSibling"]}var s=$(e).offset();return[s.left,s.top]},_getBorders:function(e){var i=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(i(e.css("border-left-width"))),parseFloat(i(e.css("border-top-width")))]},_checkExternalClick:function(e){if(!$.timepicker._curInst){return}var i=$(e.target);if(i[0].id!=$.timepicker._mainDivId&&i.parents("#"+$.timepicker._mainDivId).length==0&&!i.hasClass($.timepicker.markerClassName)&&!i.hasClass($.timepicker._triggerClass)&&$.timepicker._timepickerShowing){$.timepicker._hideTimepicker()}},_hideTimepicker:function(e){var i=this._curInst;if(!i||e&&i!=$.data(e,PROP_NAME)){return}if(this._timepickerShowing){var t=this._get(i,"showAnim");var s=this._get(i,"duration");var r=function(){$.timepicker._tidyDialog(i);this._curInst=null};if($.effects&&$.effects[t]){i.tpDiv.hide(t,$.timepicker._get(i,"showOptions"),s,r)}else{i.tpDiv[t=="slideDown"?"slideUp":t=="fadeIn"?"fadeOut":"hide"](t?s:null,r)}if(!t){r()}this._timepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"})}this._inDialog=false;var n=this._get(i,"onClose");if(n){n.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i])}}},_tidyDialog:function(e){e.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this timepicker"}},_get:function(e,i){return e.settings[i]!==undefined?e.settings[i]:this._defaults[i]},_setTimeFromField:function(e){if(e.input.val()==e.lastVal){return}var i=this._get(e,"defaultTime");var t=i=="now"?this._getCurrentTimeRounded(e):i;if(e.inline==false&&e.input.val()!=""){t=e.input.val()}if(t instanceof Date){e.hours=t.getHours();e.minutes=t.getMinutes()}else{var s=e.lastVal=t;if(t==""){e.hours=-1;e.minutes=-1}else{var r=this.parseTime(e,s);e.hours=r.hours;e.minutes=r.minutes}}$.timepicker._updateTimepicker(e)},_optionTimepicker:function(e,i,t){var s=this._getInst(e);if(arguments.length==2&&typeof i=="string"){return i=="defaults"?$.extend({},$.timepicker._defaults):s?i=="all"?$.extend({},s.settings):this._get(s,i):null}var r=i||{};if(typeof i=="string"){r={};r[i]=t}if(s){extendRemove(s.settings,r);if(this._curInst==s){this._hideTimepicker();this._updateTimepicker(s)}if(s.inline){this._updateTimepicker(s)}}},_setTimeTimepicker:function(e,i){var t=this._getInst(e);if(t){this._setTime(t,i);this._updateTimepicker(t);this._updateAlternate(t,i)}},_setTime:function(e,i,t){var s=e.hours;var r=e.minutes;if(i instanceof Date){e.hours=i.getHours();e.minutes=i.getMinutes()}else{var i=this.parseTime(e,i);e.hours=i.hours;e.minutes=i.minutes}if((s!=e.hours||r!=e.minutes)&&!t){e.input.trigger("change")}this._updateTimepicker(e);this._updateSelectedValue(e)},_getCurrentTimeRounded:function(e){var i=new Date,t=i.getMinutes(),s=this._get(e,"minutes"),r=Math.round(t/s.interval)*s.interval;i.setMinutes(r);return i},parseTime:function(e,i){var t=new Object;t.hours=-1;t.minutes=-1;if(!i){return""}var s=this._get(e,"timeSeparator"),r=this._get(e,"amPmText"),n=this._get(e,"showHours"),a=this._get(e,"showMinutes"),u=this._get(e,"optionalMinutes"),o=this._get(e,"showPeriod")==true,l=i.indexOf(s);if(l!=-1){t.hours=parseInt(i.substr(0,l),10);t.minutes=parseInt(i.substr(l+1),10)}else if(n&&(!a||u)){t.hours=parseInt(i,10)}else if(!n&&a){t.minutes=parseInt(i,10)}if(n){var c=i.toUpperCase();if(t.hours<12&&o&&c.indexOf(r[1].toUpperCase())!=-1){t.hours+=12}if(t.hours==12&&o&&c.indexOf(r[0].toUpperCase())!=-1){t.hours=0}}return t},selectNow:function(e){var i=$(e.target).attr("data-timepicker-instance-id"),t=$(i),s=this._getInst(t[0]);var r=new Date;s.hours=r.getHours();s.minutes=r.getMinutes();this._updateSelectedValue(s);this._updateTimepicker(s);this._hideTimepicker()},deselectTime:function(e){var i=$(e.target).attr("data-timepicker-instance-id"),t=$(i),s=this._getInst(t[0]);s.hours=-1;s.minutes=-1;this._updateSelectedValue(s);this._hideTimepicker()},selectHours:function(e){var i=$(e.currentTarget),t=i.attr("data-timepicker-instance-id"),s=parseInt(i.attr("data-hour")),r=e.data.fromDoubleClick,n=$(t),a=this._getInst(n[0]),u=this._get(a,"showMinutes")==true;if($.timepicker._isDisabledTimepicker(n.attr("id"))){return false}i.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-timepicker-state-active");i.children("a").addClass("ui-timepicker-state-active");a.hours=s;var o=this._get(a,"onMinuteShow"),l=this._get(a,"maxTime"),c=this._get(a,"minTime");if(o||!isNaN(parseInt(l.minute))||!isNaN(parseInt(c.minute))){this._updateMinuteDisplay(a)}a._hoursClicked=true;if(a._minutesClicked||r||u==false){this._updateSelectedValue(a);$.timepicker._hideTimepicker()}return false},selectMinutes:function(e){var i=$(e.currentTarget),t=i.attr("data-timepicker-instance-id"),s=parseInt(i.attr("data-minute")),r=e.data.fromDoubleClick,n=$(t),a=this._getInst(n[0]),u=this._get(a,"showHours")==true;if($.timepicker._isDisabledTimepicker(n.attr("id"))){return false}i.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-timepicker-state-active");i.children("a").addClass("ui-timepicker-state-active");a.minutes=s;a._minutesClicked=true;if(a._hoursClicked||r||u==false){this._updateSelectedValue(a);$.timepicker._hideTimepicker()}return false},_updateSelectedValue:function(e){var i=this._getParsedTime(e);if(e.input){e.input.val(i);e.input.trigger("change")}var t=this._get(e,"onSelect");if(t){t.apply(e.input?e.input[0]:null,[i,e])}this._updateAlternate(e,i);return i},_getParsedTime:function(e){if(e.hours==-1&&e.minutes==-1){return""}if(e.hours<e.hours.starts||e.hours>e.hours.ends){return""}if(e.minutes<e.minutes.starts||e.minutes>e.minutes.ends){return""}var i="",t=this._get(e,"showPeriod")==true,s=this._get(e,"showLeadingZero")==true,r=this._get(e,"showHours")==true,n=this._get(e,"showMinutes")==true,a=this._get(e,"optionalMinutes")==true,u=this._get(e,"amPmText"),o=e.hours?e.hours:0,l=e.minutes?e.minutes:0,c=o?o:0,p="";if(c==-1){return""}if(l==-1){return""}if(t){if(e.hours==0){c=12}if(e.hours<12){i=u[0]}else{i=u[1];if(c>12){c-=12}}}var d=c.toString();if(s&&c<10){d="0"+d}var m=l.toString();if(l<10){m="0"+m}if(r){p+=d}if(r&&n&&(!a||m!=0)){p+=this._get(e,"timeSeparator")}if(n&&(!a||m!=0)){p+=m}if(r){if(i.length>0){p+=this._get(e,"periodSeparator")+i}}return p},_updateAlternate:function(e,t){var i=this._get(e,"altField");if(i){$(i).each(function(e,i){$(i).val(t)})}},_getTimeAsDateTimepicker:function(e){var i=this._getInst(e);if(i.hours==-1&&i.minutes==-1){return""}if(i.hours<i.hours.starts||i.hours>i.hours.ends){return""}if(i.minutes<i.minutes.starts||i.minutes>i.minutes.ends){return""}return new Date(0,0,0,i.hours,i.minutes,0)},_getTimeTimepicker:function(e){var i=this._getInst(e);return this._getParsedTime(i)},_getHourTimepicker:function(e){var i=this._getInst(e);if(i==undefined){return-1}return i.hours},_getMinuteTimepicker:function(e){var i=this._getInst(e);if(i==undefined){return-1}return i.minutes}});$.fn.timepicker=function(e){if(!$.timepicker.initialized){$(document).mousedown($.timepicker._checkExternalClick);$.timepicker.initialized=true}if($("#"+$.timepicker._mainDivId).length===0){$("body").append($.timepicker.tpDiv)}var i=Array.prototype.slice.call(arguments,1);if(typeof e=="string"&&(e=="getTime"||e=="getTimeAsDate"||e=="getHour"||e=="getMinute"))return $.timepicker["_"+e+"Timepicker"].apply($.timepicker,[this[0]].concat(i));if(e=="option"&&arguments.length==2&&typeof arguments[1]=="string")return $.timepicker["_"+e+"Timepicker"].apply($.timepicker,[this[0]].concat(i));return this.each(function(){typeof e=="string"?$.timepicker["_"+e+"Timepicker"].apply($.timepicker,[this].concat(i)):$.timepicker._attachTimepicker(this,e)})};function extendRemove(e,i){$.extend(e,i);for(var t in i)if(i[t]==null||i[t]==undefined)e[t]=i[t];return e}$.timepicker=new Timepicker;$.timepicker.initialized=false;$.timepicker.uuid=(new Date).getTime();$.timepicker.version="0.3.3"})(jQuery);
// #END
