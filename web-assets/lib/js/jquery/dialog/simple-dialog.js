// JS-Script (US): simple-dialog.js @ 2023-01-21 15:28:15 +0000
const SmartSimpleDialog=new class{constructor(){const _N$="SmartSimpleDialog";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Utils$=smartJ$Utils;let widgetIsOpen=null;const Dialog_Alert=function(y_message_html,evcode=null,y_title="",y_width=550,y_height=250){widgetIsOpen=true;if(y_message_html==undefined||y_message_html==""){_p$.warn(_N$,"WARN: Dialog was call with an empty message");y_message_html="[No Message]"}y_title=String(y_title==undefined?"":y_title);if(y_title==""){y_title=" "}y_width=getMaxWidth(y_width);y_height=getMaxHeight(y_height);let the_top=25;let the_left=_Utils$.format_number_int(parseInt($(window).width())/2-y_width/2-4);if(the_left<0){the_left=0}$("body").css("overflow","hidden");$("#simpledialog-overlay").css({top:"0px",left:"0px",width:"100vw",height:"100vh","z-index":2147482001}).show();$("#simpledialog-area-head").html(String(y_title));$("#simpledialog-area-msg").html(String(y_message_html));$("#simpledialog-bttn-no").show().text("").hide();$("#simpledialog-bttn-yes").show().html('<span class="uicon">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;OK').click(()=>{CloseWidget(false);_Utils$.evalJsFxCode(_N$+".Dialog_Alert",evcode);ResetWidget()});$("#simpledialog-area-msg").css({height:y_height-130+"px"});let HtmlElement=$("#simpledialog-container");HtmlElement.css({top:the_top+"px",left:the_left+"px",width:y_width+"px",height:y_height+"px","z-index":2147482002}).show();return HtmlElement};_C$.Dialog_Alert=Dialog_Alert;const Dialog_Confirm=function(y_question_html,evcode=null,y_title="",y_width=550,y_height=250){widgetIsOpen=true;if(y_question_html==undefined||y_question_html==""){_p$.warn(_N$,"WARN: Dialog was call with an empty message");y_question_html="[No Question]"}y_title=String(y_title==undefined?"":y_title);if(y_title==""){y_title=" "}y_width=getMaxWidth(y_width);y_height=getMaxHeight(y_height);let the_top=25;let the_left=_Utils$.format_number_int(parseInt($(window).width())/2-y_width/2-4);if(the_left<0){the_left=0}$("body").css("overflow","hidden");$("#simpledialog-overlay").css({top:"0px",left:"0px",width:"100vw",height:"100vh","z-index":2147482001}).show();$("#simpledialog-area-head").html(String(y_title));$("#simpledialog-area-msg").html(String(y_question_html));$("#simpledialog-bttn-no").show().html('<span class="uiconx">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;Cancel').click(()=>{CloseWidget(true)});$("#simpledialog-bttn-yes").show().html('<span class="uicon">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;OK').click(()=>{CloseWidget(false);_Utils$.evalJsFxCode(_N$+".Dialog_Confirm",evcode);ResetWidget()});$("#simpledialog-area-msg").css({height:y_height-130+"px"});let HtmlElement=$("#simpledialog-container");HtmlElement.css({top:the_top+"px",left:the_left+"px",width:y_width+"px",height:y_height+"px","z-index":2147482002}).show();return HtmlElement};_C$.Dialog_Confirm=Dialog_Confirm;const ResetWidget=()=>{setTimeout(()=>{if(widgetIsOpen!==true){$("#simpledialog-area-head").text("[T]");$("#simpledialog-area-msg").text("[M]")}},250)};_C$.ResetWidget=ResetWidget;const CloseWidget=function(doReset){widgetIsOpen=false;if(doReset===true){ResetWidget()}$("#simpledialog-bttn-no").text("[N]").unbind("click").hide();$("#simpledialog-bttn-yes").text("[Y]").unbind("click").hide();$("#simpledialog-area-msg").css({height:"40%"});let HtmlElement=$("#simpledialog-container");HtmlElement.css({top:"-50px",left:"-50px",width:"1px",height:"1px","z-index":1}).hide();$("#simpledialog-overlay").css({top:"-50px",left:"-50px",width:"1px",height:"1px","z-index":1}).hide();$("body").css("overflow","auto");return HtmlElement};_C$.CloseWidget=CloseWidget;const getMaxWidth=function(y_width){y_width=_Utils$.format_number_int(y_width);if(y_width<100||y_width>1920){y_width=550}let max_width=_Utils$.format_number_int($(window).width()-50);if(max_width<270){max_width=270}if(y_width>max_width){y_width=max_width}return y_width};const getMaxHeight=function(y_height){y_height=_Utils$.format_number_int(y_height);if(y_height<50||y_height>1080){y_height=250}let max_height=_Utils$.format_number_int($(window).height()-50);if(max_height<270){max_height=270}if(y_height>max_height){y_height=max_height}return y_height};$(()=>{$("body").append('\x3c!-- SmartJS.Modal.Dialog :: Start --\x3e<div id="simpledialog-overlay"></div><div id="simpledialog-container"><div id="simpledialog-area-head" class="header">[T]</div><div id="simpledialog-area-msg" class="message">[M]</div><hr><div class="buttons"><div id="simpledialog-bttn-yes">[Y]</div><div id="simpledialog-bttn-no">[N]</div></div></div>\x3c!-- END: SmartJS.Modal.Dialog --\x3e');_C$.CloseWidget(true)})}};SmartSimpleDialog.secureClass();window.SmartSimpleDialog=SmartSimpleDialog;
// #END
