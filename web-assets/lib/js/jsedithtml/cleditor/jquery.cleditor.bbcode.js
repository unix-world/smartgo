// JS-Script (US): jquery.cleditor.bbcode.js @ 2022-10-19 22:06:00 +0000
(function($){$.cleditor.defaultOptions.controls="bold italic underline strikethrough removeformat | bullets numbering | "+"undo redo | image link unlink | cut copy paste pastetext | print source";var oldAreaCallback=$.cleditor.defaultOptions.updateTextArea;var oldFrameCallback=$.cleditor.defaultOptions.updateFrame;$.cleditor.defaultOptions.updateTextArea=function(html){if(oldAreaCallback)html=oldAreaCallback(html);return $.cleditor.convertHTMLtoBBCode(html)};$.cleditor.defaultOptions.updateFrame=function(code){if(oldFrameCallback)code=oldFrameCallback(code);return $.cleditor.convertBBCodeToHTML(code)};$.cleditor.convertHTMLtoBBCode=function(html){$.each([[/[\r|\n]/g,""],[/<br.*?>/gi,"\n"],[/<b>(.*?)<\/b>/gi,"[b]$1[/b]"],[/<strong>(.*?)<\/strong>/gi,"[b]$1[/b]"],[/<i>(.*?)<\/i>/gi,"[i]$1[/i]"],[/<em>(.*?)<\/em>/gi,"[i]$1[/i]"],[/<u>(.*?)<\/u>/gi,"[u]$1[/u]"],[/<ins>(.*?)<\/ins>/gi,"[u]$1[/u]"],[/<strike>(.*?)<\/strike>/gi,"[s]$1[/s]"],[/<del>(.*?)<\/del>/gi,"[s]$1[/s]"],[/<a.*?href="(.*?)".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"],[/<img.*?src="(.*?)".*?>/gi,"[img]$1[/img]"],[/<ul>/gi,"[list]"],[/<\/ul>/gi,"[/list]"],[/<ol>/gi,"[list=1]"],[/<\/ol>/gi,"[/list]"],[/<li>/gi,"[*]"],[/<\/li>/gi,"[/*]"],[/<.*?>(.*?)<\/.*?>/g,"$1"]],function(index,item){html=html.replace(item[0],item[1])});return html};$.cleditor.convertBBCodeToHTML=function(code){$.each([[/\r/g,""],[/\n/g,"<br>"],[/\[b\](.*?)\[\/b\]/gi,"<b>$1</b>"],[/\[i\](.*?)\[\/i\]/gi,"<i>$1</i>"],[/\[u\](.*?)\[\/u\]/gi,"<u>$1</u>"],[/\[s\](.*?)\[\/s\]/gi,"<strike>$1</strike>"],[/\[url=(.*?)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'],[/\[img\](.*?)\[\/img\]/gi,'<img src="$1">'],[/\[list\](.*?)\[\/list\]/gi,"<ul>$1</ul>"],[/\[list=1\](.*?)\[\/list\]/gi,"<ol>$1</ol>"],[/\[list\]/gi,"<ul>"],[/\[list=1\]/gi,"<ol>"],[/\[\*\](.*?)\[\/\*\]/g,"<li>$1</li>"],[/\[\*\]/g,"<li>"]],function(index,item){code=code.replace(item[0],item[1])});return code}})(jQuery);
// #END
