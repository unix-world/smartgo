// JS-Script (US): jquery.cleditor.wordcount.js @ 2022-10-18 14:27:24 +0000
(function($){$.cleditor.buttons.wordcount={name:"wordcount",image:"wordcount.png",title:"Words Counter",command:"",popupName:"wordcount",popupClass:"cleditorPrompt",popupContent:'<table width="225"><tr><td><b>Words Count: </td><td align="right"><input type="text" id="cledit_uxm_word_counter" value="#" class="ux-field" style="width:96px; text-align:right; padding-left:5px; padding-right:5px; background:#F7F7F7;" readonly></td></tr>'+'<tr><td><b>Chars Count: </td><td align="right"><input type="text" id="cledit_uxm_wordchar_counter" value="#" class="ux-field" style="width:96px; text-align:right; padding-left:5px; padding-right:5px; background:#F7F7F7;" readonly></td></tr></table>',buttonClick:wordcountButtonClick};$.cleditor.defaultOptions.controls=$.cleditor.defaultOptions.controls.replace("rule ","wordcount | rule ");function wordcountButtonClick(e,data){var editor=data.editor;var $text=$(data.popup).find(":text");var the_wcount=""+$text[0].value;var the_wcharcnt=""+$text[1].value;var the_text=editor.$area.val();the_text=$("<div>"+the_text+"</div>").text();var the_words=[];if(typeof the_text!="undefined"&&the_text!=""&&the_text!==null&&the_text!==NaN){the_words=the_text.replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/\s+/gi," ").split(" ")}$text[0].value=0+parseInt(the_words.length);$text[1].value=the_text.replace(/^\s\s*/,"").replace(/\s\s*$/,"").length;the_words=[];the_text="";editor.hidePopups();editor.focus()}})(jQuery);
// #END
