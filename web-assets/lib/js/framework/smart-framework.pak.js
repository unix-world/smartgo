// JS-Script (UM): smart-framework.pak.js @ 2023-11-25 11:00:11 +0000
const smartJ$Utils=new class{constructor(){"use strict";const _N$="smartJ$Utils";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const debug=false;const evalJsFxCode=(fxContext,jsCode,alertErr=false)=>{const _m$="evalJsFxCode";if(jsCode!=undefined){const errMsg="Js Code Eval FAILED";const errHint="See the javascript console for more details ...";fxContext=stringPureVal(fxContext);if(typeof jsCode==="function"){try{jsCode()}catch(err){_p$.error(_N$,_m$,"ERR:",errMsg,"Context:",fxContext,"[F]","JS Errors:",err);if(alertErr===true){alert("JS Errors: "+errMsg+" in [F] Context: "+fxContext+"\n"+errHint)}return false}}else{jsCode=stringPureVal(jsCode,true);if(stringIStartsWith(jsCode,"javascript:")){jsCode=jsCode.substring(11);jsCode=stringTrim(jsCode)}if(typeof jsCode==="string"&&jsCode!="undefined"&&jsCode!=""){try{eval("(() => { "+"\n"+" 'use strict';"+"\n"+String(jsCode)+"\n"+" })();")}catch(err){_p$.error(_N$,_m$,"ERR:",errMsg,"Context:",fxContext,"[S]","JS Errors:",err);if(alertErr===true){alert("JS Errors: "+errMsg+" in [S] Context: "+fxContext+"\n"+errHint)}return false}}}}return true};_C$.evalJsFxCode=evalJsFxCode;const isFiniteNumber=e=>!!(typeof e!="number")?false:!!(Number.isFinite(e)&&!Number.isNaN(e));_C$.isFiniteNumber=isFiniteNumber;const stringPureVal=(e,t)=>{if(typeof e=="undefined"||e===undefined||e===null||e===false||typeof e==="object"||typeof e==="function"){e=""}else if(e===true){e="1"}else{e=String(e)}if(t===true){e=stringTrim(e)}return String(e)};_C$.stringPureVal=stringPureVal;const stringTrim=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.replace(/^\s+|\s+$/g,""))};_C$.stringTrim=stringTrim;const stringLeftTrim=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.replace(/^\s+/,""))};_C$.stringLeftTrim=stringLeftTrim;const stringRightTrim=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.replace(/\s+$/,""))};_C$.stringRightTrim=stringRightTrim;const stringUcFirst=e=>{e=String(e==undefined?"":e);if(e==""){return""}if(e.length>1){return String(e.charAt(0).toUpperCase()+e.substring(1))}else{return String(e.toUpperCase())}};_C$.stringUcFirst=stringUcFirst;const stringUcWords=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.toLowerCase().replace(/^(.)|\s+(.)/g,e=>e?String(e).toUpperCase():""))};_C$.stringUcWords=stringUcWords;const stringReplaceAll=(e,t,r)=>{r=String(r==undefined?"":r);if(r==""){return""}return String(r.split(e).join(t))};_C$.stringReplaceAll=stringReplaceAll;const stringIReplaceAll=function(t,r,n){n=String(n==undefined?"":n);if(n==""){return""}if(typeof t==="string"&&typeof r==="string"){t=t.toLowerCase();let e=-1;while((e=n.toLowerCase().indexOf(t,e>=0?e+r.length:0))!==-1){n=String(n.substring(0,e)+r+n.substring(e+t.length))}}return String(n)};_C$.stringIReplaceAll=stringIReplaceAll;const stringRegexMatchAll=function(r,n){r=String(r==undefined?"":r);if(r==""){return[]}if(n==undefined){return[]}if(!(n instanceof RegExp)){_p$.error(_N$,"ERR: stringRegexMatchAll: 2nd param must be a Regex and is not");return[]}let i=[];if(String.prototype.matchAll){try{i=Array.from(r.matchAll(n))}catch(e){_p$.error(_N$,"ERR: stringRegexMatchAll (1):",e);return[]}}else{const s=()=>{const e=8e5;const t=1e5;const r=t*10;let n=e;if(n<t){n=t}else if(n>r){n=r}return n};const o=s();let e=null;let t=0;try{while((e=n.exec(r))!==null){if(e.index===n.lastIndex){n.lastIndex++}i.push(e);t++;if(t>=o){_p$.warn(_N$,"WARN: stringRegexMatchAll hardlimit loop (2). Max recursion depth is",o);break}}}catch(e){_p$.error(_N$,"ERR: stringRegexMatchAll (2):",e);return[]}}return i};_C$.stringRegexMatchAll=stringRegexMatchAll;const strContains=(e,t,r=0,n=false)=>{e=String(e==undefined?"":e);if(e==""){return false}t=String(t==undefined?"":t);if(t==""){return false}if(r==undefined){r=0}r=format_number_int(r);if(r<0){_p$.error(_N$,"ERR: strContains: Position is Negative:",r);return false}if(n===true){e=e.toLowerCase();t=t.toLowerCase()}return!!e.includes(t,r)};const stringContains=(e,t,r=0)=>!!strContains(e,t,r,false);_C$.stringContains=stringContains;const stringIContains=(e,t,r=0)=>!!strContains(e,t,r,true);_C$.stringIContains=stringIContains;const strStartsWith=(e,t,r=false)=>{e=String(e==undefined?"":e);if(e==""){return false}t=String(t==undefined?"":t);if(t==""){return false}if(r===true){e=e.toLowerCase();t=t.toLowerCase()}return!!e.startsWith(t,0)};const stringStartsWith=(e,t)=>!!strStartsWith(e,t,false);_C$.stringStartsWith=stringStartsWith;const stringIStartsWith=(e,t)=>!!strStartsWith(e,t,true);_C$.stringIStartsWith=stringIStartsWith;const strEndsWith=(e,t,r=false)=>{e=String(e==undefined?"":e);if(e==""){return false}t=String(t==undefined?"":t);if(t==""){return false}if(r===true){e=e.toLowerCase();t=t.toLowerCase()}return!!e.endsWith(t)};const stringEndsWith=(e,t)=>!!strEndsWith(e,t,false);_C$.stringEndsWith=stringEndsWith;const stringIEndsWith=(e,t)=>!!strEndsWith(e,t,true);_C$.stringIEndsWith=stringIEndsWith;const preg_quote=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:\-\#])/g,"\\$1"))};_C$.preg_quote=preg_quote;const stringSplitbyChar=function(e,t){e=String(e==undefined?"":e);if(e==""){return[]}t=String(t==undefined?"":t);let r=false;switch(t){case"=":r=true;break;case":":r=true;break;case";":r=true;break;case",":r=true;break;default:r=false}if(!r){return[]}r=new RegExp("\\s*"+preg_quote(t)+"\\s*");e=stringTrim(e);return e.split(r)};const stringSplitbyEqual=e=>stringSplitbyChar(e,"=");_C$.stringSplitbyEqual=stringSplitbyEqual;const stringSplitbyColon=e=>stringSplitbyChar(e,":");_C$.stringSplitbyColon=stringSplitbyColon;const stringSplitbySemicolon=e=>stringSplitbyChar(e,";");_C$.stringSplitbySemicolon=stringSplitbySemicolon;const stringSplitbyComma=e=>stringSplitbyChar(e,",");_C$.stringSplitbyComma=stringSplitbyComma;const arrayGetFirst=e=>e instanceof Array?e.shift():null;_C$.arrayGetFirst=arrayGetFirst;const arrayGetLast=e=>e instanceof Array?e.pop():null;_C$.arrayGetLast=arrayGetLast;const format_number_float=(e,t=true)=>{if(e==undefined){e=0}e=Number(e);e=isFiniteNumber(e)?e:0;if(t!==true){if(e<0){e=0}}e=Number(e);return isFiniteNumber(e)?e:0};_C$.format_number_float=format_number_float;const format_number_int=(e,t=true)=>{if(e==undefined){e=0}e=Number(e);e=isFiniteNumber(e)?Math.round(e):0;if(!Number.isInteger(e)){e=0}if(t!==true){if(e<0){e=0}}if(!Number.isSafeInteger(e)){if(e>0){e=Number.MAX_SAFE_INTEGER}else if(e<0){e=Number.MIN_SAFE_INTEGER}}e=Number(e);return isFiniteNumber(e)&&Number.isInteger(e)?e:0};_C$.format_number_int=format_number_int;const format_number_dec=(e,t=2,r=true,n=false)=>{if(e==undefined){e=0}if(t==undefined){t=2}t=format_number_int(t,false);if(t<1){t=1}else if(t>13){t=13}if(r!==false){r=true}if(n!==true){n=false}e=format_number_float(e,r);if(r!==true){if(e<0){e=0}}e=e.toFixed(t);if(n!==false){e=Number.parseFloat(e)}return String(e)};_C$.format_number_dec=format_number_dec;const randNum=(e,t)=>{e=format_number_int(e,false);t=format_number_int(t,false);if(e<0){return 0}if(t<1){return 0}if(e===t){return e}else if(e>t){return t}return format_number_int(e+Math.floor(Math.random()*(t-e+1)),false)};_C$.randNum=randNum;const stripslashes=function(e){e=String(e==undefined?"":e);if(e==""){return""}const t=(e,t)=>{switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return String(t)}};return String(e.replace(/\\(.?)/g,t))};_C$.stripslashes=stripslashes;const addcslashes=function(e,t){e=String(e==undefined?"":e);if(e==""){return""}t=String(t==undefined?"":t);if(t==""){return""}let r="",n=[],i=0,s=0,o="",l="",a="",c="",u="",f=0,g=0,p=0,d=0,h=0,m=[],_="";const $=/%([\dA-Fa-f]+)/g;const C=(e,t)=>{if((e=String(e)).length<t){return new Array(++t-e.length).join("0")+e}return e};for(i=0;i<t.length;i++){o=t.charAt(i);l=t.charAt(i+1);if(o==="\\"&&l&&/\d/.test(l)){a=t.slice(i+1).match(/^\d+/)[0];p=a.length;d=i+p+1;if(t.charAt(d)+t.charAt(d+1)===".."){f=a.charCodeAt(0);if(/\\\d/.test(t.charAt(d+2)+t.charAt(d+3))){c=t.slice(d+3).match(/^\d+/)[0];i+=1}else if(t.charAt(d+2)){c=t.charAt(d+2)}else{_p$.error(_N$,"ERR: addcslashes: Range with no end point (1)")}g=c.charCodeAt(0);if(g>f){for(s=f;s<=g;s++){n.push(String.fromCharCode(s))}}else{n.push(".",a,c)}i+=c.length+2}else{u=String.fromCharCode(parseInt(a,8));n.push(u)}i+=p}else if(l+t.charAt(i+2)===".."){a=o;f=a.charCodeAt(0);if(/\\\d/.test(t.charAt(i+3)+t.charAt(i+4))){c=t.slice(i+4).match(/^\d+/)[0];i+=1}else if(t.charAt(i+3)){c=t.charAt(i+3)}else{_p$.error(_N$,"ERR: addcslashes: Range with no end point (2)")}g=c.charCodeAt(0);if(g>f){for(s=f;s<=g;s++){n.push(String.fromCharCode(s))}}else{n.push(".",a,c)}i+=c.length+2}else{n.push(o)}}for(i=0;i<e.length;i++){o=e.charAt(i);if(n.indexOf(o)!==-1){r+="\\";h=o.charCodeAt(0);if(h<32||h>126){switch(o){case"\n":r+="n";break;case"\t":r+="t";break;case"\r":r+="r";break;case"\x07":r+="a";break;case"\v":r+="v";break;case"\b":r+="b";break;case"\f":r+="f";break;default:_=encodeURIComponent(o);let e=stringRegexMatchAll(_,$);let t;for(t=0;t<e.length;t++){if(t>0){r+="\\"}r+=C(parseInt(e[t][1],16).toString(8),3)}break}}else{r+=o}}else{r+=o}}return String(r?r:"")};_C$.addcslashes=addcslashes;const escape_css=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(addcslashes(String(e==undefined?"":e),"\0..\x1f!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~"))};_C$.escape_css=escape_css;const htmlspecialchars=(e,t="ENT_COMPAT")=>{e=String(e==undefined?"":e);if(e==""){return""}t=String(t==undefined?"":t);if(t==""){t="ENT_COMPAT"}e=e.replace(/&/g,"&amp;");e=e.replace(/\</g,"&lt;");e=e.replace(/\>/g,"&gt;");if(t=="ENT_QUOTES"){e=e.replace(/"/g,"&quot;");e=e.replace(/'/g,"&#039;")}else if(t!="ENT_NOQUOTES"){e=e.replace(/"/g,"&quot;")}return String(e)};_C$.htmlspecialchars=htmlspecialchars;const escape_html=e=>String(htmlspecialchars(e,"ENT_COMPAT"));_C$.escape_html=escape_html;const escape_js=function(e){e=String(e==undefined?"":e);if(e==""){return""}const t=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String("\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4).toLowerCase())};const r=e=>{e=String(e==undefined?"":e);if(e==""){return""}switch(e){case"\b":e="\\b";break;case"\t":e="\\t";break;case"\n":e="\\n";break;case"\f":e="\\f";break;case"\r":e="\\r";break;case"\\":e="\\\\";break;default:e=t(e)}return String(e)};let n="";n=e.replace(/[\x00-\x1f\x7f-\x9f\\]/g,e=>r(e));n=n.replace(/[\u007F-\uFFFF]/g,e=>t(e));n=n.replace(/[\u0026]/g,"\\u0026");n=n.replace(/[\u0022]/g,"\\u0022");n=n.replace(/[\u0027]/g,"\\u0027");n=n.replace(/[\u003C]/g,"\\u003C");n=n.replace(/[\u003E]/g,"\\u003E");n=n.replace(/[\/]/g,"\\/");return String(n)};_C$.escape_js=escape_js;const escape_url=e=>{e=String(e==undefined?"":e);if(e==""){return""}e=String(encodeURIComponent(e));e=e.replace("!","%21");e=e.replace("'","%27");e=e.replace("(","%28");e=e.replace(")","%29");e=e.replace("*","%2A");return String(e)};_C$.escape_url=escape_url;const nl2br=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.replace(/\r\n/g,/\n/).replace(/\r/g,/\n/).replace(/\n/g,"<br>"))};_C$.nl2br=nl2br;const stripTags=function(e){const t="stripTags";e=String(e==undefined?"":e);if(e==""){return""}let r="";try{const n=(new DOMParser).parseFromString(e,"text/html");r=n.body.textContent||""}catch(e){r="";_p$.error(_N$,t,e)}return String(r)};_C$.stripTags=stripTags;const utf8Enc=e=>{const t="utf8Enc";e=String(e==undefined?"":e);if(e==""){return""}let r="";try{r=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>{return String.fromCharCode("0x"+t)})}catch(e){r="";_p$.error(_N$,t,e)}return String(r||"")};_C$.utf8Enc=utf8Enc;const utf8Dec=e=>{const t="utf8Dec";e=String(e==undefined?"":e);if(e==""){return""}let r="";try{r=decodeURIComponent(e.split("").map(e=>{return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(e){r="";_p$.error(_N$,t,e)}return String(r||"")};_C$.utf8Dec=utf8Dec;const deaccent_str=function(t){t=String(t==undefined?"":t);if(t==""){return""}const r="\xe1\xe2\xe3\xe4\xe5\u0101\u0103\u0105\xc1\xc2\xc3\xc4\xc5\u0100\u0102\u0104\u0107\u0109\u010d\xe7\u0106\u0108\u010c\xc7\u010f\u010e\xe8\xe9\xea\xeb\u0113\u0115\u0117\u011b\u0119\xc8\xc9\xca\xcb\u0112\u0114\u0116\u011a\u0118\u011d\u0123\u011c\u0122\u0125\u0127\u0124\u0126\xec\xed\xee\xef\u0129\u012b\u012d\u0209\u020b\u012f\xcc\xcd\xce\xcf\u0128\u012a\u012c\u0208\u020a\u012e\u0133\u0135\u0132\u0134\u0137\u0136\u013a\u013c\u013e\u0142\u0139\u013b\u013d\u0141\xf1\u0144\u0146\u0148\xd1\u0143\u0145\u0147\xf3\xf4\xf5\xf6\u014d\u014f\u0151\xf8\u0153\xd2\xd3\xd4\xd5\xd6\u014c\u014e\u0150\xd8\u0152\u0155\u0157\u0159\u0154\u0156\u0158\u0219\u015f\u0161\u015b\u015d\u0161\u0218\u015e\u0160\u015a\u015c\u0160\u021b\u0163\u0165\u021a\u0162\u0164\xf9\xfa\xfb\xfc\u0169\u016b\u016d\u016f\u0171\u0173\xd9\xda\xdb\xdc\u0168\u016a\u016c\u016e\u0170\u0172\u0175\u0174\u1e8f\u1ef3\u0177\xff\xfd\u1e8e\u1ef2\u0176\u0178\xdd\u017a\u017c\u017e\u0179\u017b\u017d";const n="aaaaaaaaAAAAAAAAccccCCCCdDeeeeeeeeeEEEEEEEEEggGGhhHHiiiiiiiiiiIIIIIIIIIIjjJJkKllllLLLLnnnnNNNNoooooooooOOOOOOOOOOrrrRRRssssssSSSSSStttTTTuuuuuuuuuuUUUUUUUUUUwWyyyyyYYYYYzzzZZZ";t=t.split("");let i=t.length;let s=new Array;let o=-1;for(let e=0;e<i;e++){o=r.indexOf(t[e]);if(o!==-1){s[e]=n.substring(o,o+1)}else{s[e]=t[e]}}s=s.join("");return String(s)};_C$.deaccent_str=deaccent_str;const bin2hex=function(e,t=false){e=String(e==undefined?"":e);if(e==""){return""}if(t!==true){e=String(utf8Enc(e))}let r="";let n,i,s;for(n=0,i=e.length;n<i;n++){s=e.charCodeAt(n).toString(16);r+=s.length<2?"0"+s:s}return String(r).toLowerCase()};_C$.bin2hex=bin2hex;const hex2bin=function(t,e=false){t=String(t==undefined?"":t);t=String(stringTrim(t)).toLowerCase();if(t==""){return""}let r=[],n;for(let e=0;e<t.length-1;e+=2){r.push(parseInt(t.substring(e,e+2),16))}if(e!==true){return String(utf8Dec(String.fromCharCode.apply(String,r)))}else{return String.fromCharCode.apply(String,r)}};_C$.hex2bin=hex2bin;const b64Enc=function(t,e=false){const r="b64Enc";t=String(t==undefined?"":t);if(t==""){return""}if(e!==true){t=utf8Enc(t)}try{t=btoa(t)}catch(e){t="";_p$.error(_N$,r,e)}return String(t||"")};_C$.b64Enc=b64Enc;const b64Dec=function(t,e=false){const r="b64Dec";t=stringPureVal(t,true);if(t==""){return""}try{t=atob(t)}catch(e){t="";_p$.error(_N$,r,e)}if(e!==true){t=utf8Dec(t)}return String(t||"")};_C$.b64Dec=b64Dec;const strRev=e=>{e=String(e==undefined?"":e);if(e==""){return""}return e.split("").reverse().join("")};_C$.strRev=strRev;const strRot13=e=>{e=String(e==undefined?"":e);if(e==""){return""}return String(e.replace(/[a-z]/gi,e=>{return String.fromCharCode(e.charCodeAt(0)+(e.toLowerCase()<"n"?13:-13))}))};_C$.strRot13=strRot13;const strRRot13=e=>String(strRev(strRot13(e)));_C$.strRRot13=strRRot13;let tseed=(new Date).valueOf();const uuid=function(){tseed++;let t=String(tseed.toString(36));t=t.toUpperCase().substring(t.length-10);if(t.length<10){for(let e=0;e<t.length;e++){if(t.length<10){t=String("0"+t)}else{break}}}return String(t)};_C$.uuid=uuid;const addToList=function(t,e,r){t=String(t==undefined?"":stringTrim(t));if(t==""){return""}e=String(e==undefined?"":e);let n=[];r=String(r==undefined?"":r);switch(r){case",":n=stringSplitbyComma(e);break;case";":n=stringSplitbySemicolon(e);break;default:_p$.error(_N$,"ERR: addToList: Invalid splitBy separator. Must be any of [,;] and is:",r);return""}let i=false;if(n.length>0){n.pop();for(let e=0;e<n.length;e++){if(n[e]==t){i=true;break}}}if(!i){n.push(t)}n.push("");return String(n.join(r+" "))};_C$.addToList=addToList;const textSort=function(i,s=false){return(e,t)=>{e[i]=String(e[i]);t[i]=String(t[i]);let r=0;let n=false;if(s===true){try{r=e[i].localeCompare(t[i]);if(r<0){r=-1}else if(r>0){r=1}else{r=0}}catch(e){n=true}}if(s!==true||n===true){r=(e[i]<t[i]?-1:e[i]>t[i])?1:0}return r}};_C$.textSort=textSort;const numericSort=r=>{return(e,t)=>{if(!isFiniteNumber(e[r])||!isFiniteNumber(t[r])){return 0}if(e[r]>t[r]){return 1}else if(e[r]<t[r]){return-1}else{return 0}}};_C$.numericSort=numericSort;const url_add_suffix=function(e,t){e=stringPureVal(e,true);t=stringPureVal(t,true);if(stringStartsWith(t,"?")||stringStartsWith(t,"&")){t=stringPureVal(t.substring(1),true)}if(t==""){return String(e)}let r="";if(stringContains(e,"?")){r="&"}else{r="?"}return String(e+r+t)};_C$.url_add_suffix=url_add_suffix;const create_slug=(e,t=false,r=0)=>{e=stringPureVal(e,true);if(e==""){return""}e=String(deaccent_str(stringTrim(e)));e=e.replace(/[^a-zA-Z0-9_\-]/g,"-");e=e.replace(/[\-]+/g,"-");e=e.replace(/^[\-]+/,"").replace(/[\-]+$/,"");e=String(stringTrim(e));if(t===true){e=e.toLowerCase()}r=format_number_int(r,false);if(r>0){e=e.substring(0,r);e=e.replace(/(\-)+$/,"")}return String(e)};_C$.create_slug=create_slug;const create_htmid=e=>{e=stringPureVal(e,true);if(e==""){return""}e=e.replace(/[^a-zA-Z0-9_\-]/g,"");e=stringTrim(e);return String(e)};_C$.create_htmid=create_htmid;const create_jsvar=e=>{e=stringPureVal(e,true);if(e==""){return""}e=e.replace(/[^a-zA-Z0-9_\$]/g,"");e=String(stringTrim(e));return String(e)};_C$.create_jsvar=create_jsvar;const revertNosyntaxContentMarkersTpl=e=>{if(typeof e!=="string"){return""}e=String(e);e=stringReplaceAll("\uff3b"+"###","["+"###",e);e=stringReplaceAll("###"+"\uff3d","###"+"]",e);e=stringReplaceAll("\uff3b"+"%%%","["+"%%%",e);e=stringReplaceAll("%%%"+"\uff3d","%%%"+"]",e);e=stringReplaceAll("\uff3b"+"@@@","["+"@@@",e);e=stringReplaceAll("@@@"+"\uff3d","@@@"+"]",e);e=stringReplaceAll("\uff3b"+":::","["+":::",e);e=stringReplaceAll(":::"+"\uff3d",":::"+"]",e);return String(e)};_C$.revertNosyntaxContentMarkersTpl=revertNosyntaxContentMarkersTpl;const prepareNosyntaxContentMarkersTpl=e=>{if(typeof e!=="string"){return""}e=String(e);e=stringReplaceAll("["+"###","\uff3b"+"###",e);e=stringReplaceAll("###"+"]","###"+"\uff3d",e);e=stringReplaceAll("["+"%%%","\uff3b"+"%%%",e);e=stringReplaceAll("%%%"+"]","%%%"+"\uff3d",e);e=stringReplaceAll("["+"@@@","\uff3b"+"@@@",e);e=stringReplaceAll("@@@"+"]","@@@"+"\uff3d",e);e=stringReplaceAll("["+":::","\uff3b"+":::",e);e=stringReplaceAll(":::"+"]",":::"+"\uff3d",e);return String(e)};_C$.prepareNosyntaxContentMarkersTpl=prepareNosyntaxContentMarkersTpl;const prepareNosyntaxHtmlMarkersTpl=e=>{if(typeof e!=="string"){return""}e=String(e);e=stringReplaceAll("["+"###","&lbrack;&num;&num;&num;",e);e=stringReplaceAll("###"+"]","&num;&num;&num;&rbrack;",e);e=stringReplaceAll("["+"%%%","&lbrack;&percnt;&percnt;&percnt;",e);e=stringReplaceAll("%%%"+"]","&percnt;&percnt;&percnt;&rbrack;",e);e=stringReplaceAll("["+"@@@","&lbrack;&commat;&commat;&commat;",e);e=stringReplaceAll("@@@"+"]","&commat;&commat;&commat;&rbrack;",e);e=stringReplaceAll("["+":::","&lbrack;&colon;&colon;&colon;",e);e=stringReplaceAll(":::"+"]","&colon;&colon;&colon;&rbrack;",e);e=stringReplaceAll("\uff3b"+"###","&lbrack;&num;&num;&num;",e);e=stringReplaceAll("###"+"\uff3d","&num;&num;&num;&rbrack;",e);e=stringReplaceAll("\uff3b"+"%%%","&lbrack;&percnt;&percnt;&percnt;",e);e=stringReplaceAll("%%%"+"\uff3d","&percnt;&percnt;&percnt;&rbrack;",e);e=stringReplaceAll("\uff3b"+"@@@","&lbrack;&commat;&commat;&commat;",e);e=stringReplaceAll("@@@"+"\uff3d","&commat;&commat;&commat;&rbrack;",e);e=stringReplaceAll("\uff3b"+":::","&lbrack;&colon;&colon;&colon;",e);e=stringReplaceAll(":::"+"\uff3d","&colon;&colon;&colon;&rbrack;",e);return String(e)};_C$.prepareNosyntaxHtmlMarkersTpl=prepareNosyntaxHtmlMarkersTpl;const renderMarkersTpl=function(g,p,e=false,t=false){if(typeof g==="string"&&typeof p==="object"){if(e===true){g=String(decodeURIComponent(g))}if(t===true){g=String(revertNosyntaxContentMarkersTpl(g))}g=stringTrim(g);if(stringContains(g,"["+"%%%COMMENT%%%"+"]")&&stringContains(g,"["+"%%%/COMMENT%%%"+"]")){let t=[];t=g.split("["+"%%%COMMENT%%%"+"]");for(let e=0;e<t.length;e++){if(stringContains(t[e],"["+"%%%/COMMENT%%%"+"]")){t[e]="["+"%%%COMMENT%%%"+"]"+t[e];t[e]=t[e].replace(/[\s\S]?\[\%\%\%COMMENT\%\%\%\]([\s\S]*?)\[\%\%\%\/COMMENT\%\%\%\][\s\S]?/g,"")}}g=stringTrim(t.join(""));t=null}if(g!=""){const r=/\[\#\#\#([A-Z0-9_\-\.]+)((\|[a-z0-9]+)*)\#\#\#\]/g;let f=stringRegexMatchAll(g,r);if(f.length){let t,r;let n,i,s,o,l;let a,c,u;for(let e=0;e<f.length;e++){t=f[e];if(t.length){n="";i=t[0]?String(t[0]):"";s=t[1]?String(t[1]):"";o=t[2]?String(t[2]):"";l=[];if(i!=null&&i!=""&&s!=null&&s!=""&&stringContains(g,i)){if(s in p){n=p[s]?p[s]:"";n=String(n);n=String(prepareNosyntaxContentMarkersTpl(n));if(o){if(stringStartsWith(o,"|")){o=o.substring(1)}if(o){l=o.split(/\|/);if(l.length){for(let e=0;e<l.length;e++){r=String("|"+String(l[e]));if(r=="|bool"){if(n){n="true"}else{n="false"}}else if(r=="|int"){n=String(format_number_int(n))}else if(r.substring(0,4)=="|dec"){a=format_number_int(r.substring(4));if(a<1){a=1}if(a>4){a=4}n=String(format_number_dec(n,a,true,false));a=null}else if(r=="|num"){n=String(format_number_float(n))}else if(r=="|idtxt"){n=String(stringReplaceAll("_","-",n));n=String(stringUcWords(n))}else if(r=="|slug"){n=String(create_slug(n,false))}else if(r=="|htmid"){n=String(create_htmid(n))}else if(r=="|jsvar"){n=String(create_jsvar(n))}else if(r.substring(0,7)=="|substr"||r.substring(0,7)=="|subtxt"){a=format_number_int(r.substring(7));if(a<1){a=1}if(a>65535){a=65535}if(a>=1&&a<=65535){c=n.length;if(r.substring(0,7)=="|subtxt"){if(a<5){a=5}a=a-3;if(c>a){n=n.substring(0,a);n=n.replace(/\s+?(\S+)?$/,"");n=String(n)+"..."}}else{if(c>a){n=n.substring(0,a)}}c=null}a=null;n=String(n)}else if(r=="|lower"){n=String(n).toLowerCase()}else if(r=="|upper"){n=String(n).toUpperCase()}else if(r=="|ucfirst"){n=String(stringUcFirst(n))}else if(r=="|ucwords"){n=String(stringUcWords(n))}else if(r=="|trim"){n=String(stringTrim(n))}else if(r=="|url"){n=String(escape_url(n))}else if(r=="|json"){u=null;try{u=JSON.parse(n)}catch(e){u=null}n=JSON.stringify(u,null,null);n=String(n);n=n.replace(/[\u0026]/g,"\\u0026");n=n.replace(/[\u003C]/g,"\\u003C");n=n.replace(/[\u003E]/g,"\\u003E");n=n.replace(/[\/]/g,"\\/");n=String(stringTrim(n));if(n==""){n="null"}}else if(r=="|js"){n=String(escape_js(n))}else if(r=="|html"){n=String(escape_html(n))}else if(r=="|css"){n=String(escape_css(n))}else if(r=="|nl2br"){n=String(nl2br(n))}else if(r=="|striptags"){n=String(stripTags(n))}else if(r=="|emptye"){if(stringTrim(n)==""){n="[EMPTY]"}}else if(r=="|emptyna"){if(stringTrim(n)==""){n="[N/A]"}}else if(r=="|smartlist"){n=String(stringReplaceAll("<","\u2039",n));n=String(stringReplaceAll(">","\u203a",n))}else if(r=="|syntaxhtml"){n=String(prepareNosyntaxHtmlMarkersTpl(n))}else if(r=="|hex"){n=String(bin2hex(n))}else if(r=="|b64"){n=String(b64Enc(n))}else{_p$.warn(_N$,"WARN: renderMarkersTpl: {### Invalid or Undefined Escaping for Marker: "+r+" - detected in Replacement Key: "+i+" @ "+n+" detected in Template: ^"+"\n"+g.substring(0,512)+"$(0..512)... ###}")}}}}}g=stringReplaceAll(i,n,g)}}}t=null;r=null;n=null;i=null;s=null;o=null;l=null}}f=null;if(stringContains(g,"["+"%%%|")){g=stringReplaceAll("["+"%%%|SB-L%%%"+"]","\uff3b",g);g=stringReplaceAll("["+"%%%|SB-R%%%"+"]","\uff3d",g);g=stringReplaceAll("["+"%%%|R%%%"+"]","\r",g);g=stringReplaceAll("["+"%%%|N%%%"+"]","\n",g);g=stringReplaceAll("["+"%%%|T%%%"+"]","\t",g);g=stringReplaceAll("["+"%%%|SPACE%%%"+"]"," ",g)}if(stringContains(g,"["+"###")){_p$.warn(_N$,"WARN: renderMarkersTpl:",stringRegexMatchAll(g,r),"{### Undefined Markers detected in Template:"+"\n"+g.substring(0,512)+"$(0..512)... ###}")}if(stringContains(g,"["+"%%%")){_p$.warn(_N$,"WARN: renderMarkersTpl: {### Undefined Marker Syntax detected in Template: ^"+"\n"+g.substring(0,512)+"$(0..512)... ###}")}if(stringContains(g,"["+"@@@")){_p$.warn(_N$,"WARN: renderMarkersTpl: {### Undefined Marker Sub-Templates detected in Template: ^"+"\n"+g.substring(0,512)+"$(0..512)... ###}")}}}else{_p$.error(_N$,"ERR: renderMarkersTpl: {### Invalid Marker-TPL Arguments ###}");g=""}return String(g)};_C$.renderMarkersTpl=renderMarkersTpl}};smartJ$Utils.secureClass();if(typeof window!="undefined"){window.smartJ$Utils=smartJ$Utils}const smartJ$Date=new class{constructor(){"use strict";const e="smartJ$Date";const t=this;const r=console;let n=false;t.secureClass=()=>{if(n===true){r.warn(e,"Class is already SECURED")}else{n=true;Object.freeze(t)}};const h=smartJ$Utils;const i=(e,t,r)=>{e=h.format_number_int(e);t=h.format_number_int(t,false);r=h.format_number_int(r,false);return $({year:e,month:t,day:r})};t.createSafeDate=i;const s=function(t){if(t instanceof Date){let e=t;t=null;t={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()};e=null}return $(t)};t.standardizeDate=s;const o=function(t,r=false){if(t instanceof Date){let e=t;t=null;t={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()};if(r===true){t.hour=e.getHours()||0;t.minute=e.getMinutes()||0;t.second=e.getSeconds()||0}e=null}if(r!==true){t=$(t)}const e=e=>{if(e<1){e=1}if(e<10){e="0"+String(e)}return String(e)};const n=e=>{if(e<0){e=0}if(e<10){e="0"+String(e)}return String(e)};let i=String(t.year);let s=String(e(t.month));let o=String(e(t.day));if(r===true){return String(i+"-"+s+"-"+o+" "+n(t.hour||0)+":"+n(t.minute||0)+":"+n(t.second||0))}else{return String(i+"-"+s+"-"+o)}};t.getIsoDate=o;const l=function(e,t){let r=w(e.year,e.month,e.day);let n=w(t.year,t.month,t.day);return n-r};t.calculateDaysOffset=l;const a=(e,t)=>(t.year-e.year)*12+(t.month-e.month);t.calculateMonthsOffset=a;const c=function(e,t){t=h.format_number_int(t);let r=$(e);r.year+=t;r=C(r);return r};t.addYears=c;const u=function(e,t){t=h.format_number_int(t);let r=$(e);r.month+=t;const n=function(e){let t=y(e.month);e.year+=t;e.month-=t*12;return e};r=n(r);r=C(r);return r};t.addMonths=u;const f=function(e,t){t=h.format_number_int(t);let r=$(e);let n=w(r.year,r.month,r.day);return S(n+t)};t.addDays=f;const g=function(e){e=h.format_number_int(e);let t=true;if(e%4!==0){t=false}else if(e%400==0){t=true}else if(e%100==0){t=false}return t};t.isLeapYear=g;const p=function(e,t){e=h.format_number_int(e);t=h.format_number_int(t);const r=[31,28,31,30,31,30,31,31,30,31,30,31];let n=r[t-1];if(t===2&&g(e)){n=29}return n};t.daysInMonth=p;const d=function(r,e,t){r=h.stringPureVal(r,true);if(r==""){r="yy-mm-dd"}if(!e){return""}const n={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};let i,s=(t?t.dayNamesShort:null)||n.dayNamesShort,o=(t?t.dayNames:null)||n.dayNames,l=(t?t.monthNamesShort:null)||n.monthNamesShort,a=(t?t.monthNames:null)||n.monthNames,c=((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,u="",f=false;const g=function(e){let t=i+1<r.length&&r.charAt(i+1)===e;if(t){i++}return t};const p=function(e,t,r){let n=String(t);if(g(e)){while(n.length<r){n="0"+n}}return n};const d=(e,t,r,n)=>g(e)?n[t]:r[t];if(e){for(i=0;i<r.length;i++){if(f){if(r.charAt(i)==="'"&&!g("'")){f=false}else{u+=r.charAt(i)}}else{switch(r.charAt(i)){case"d":u+=p("d",e.getDate(),2);break;case"D":u+=d("D",e.getDay(),s,o);break;case"o":u+=p("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=p("m",e.getMonth()+1,2);break;case"M":u+=d("M",e.getMonth(),l,a);break;case"y":u+=g("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=e.getTime()*1e4+c;break;case"'":if(g("'")){u+="'"}else{f=true}break;default:u+=r.charAt(i)}}}}return String(u)};t.formatDate=d;const m=function(e,l){if(l==undefined||l=="undefined"||l==""||!l){l=null}const t=e=>{if(!e){return null}e.setHours(e.getHours()>12?e.getHours()+2:0);return e};const r=function(e){let t=new Date;t.setDate(t.getDate()+e);return t};const n=function(e){let t=null;if(e){t=l}if(t==null){t=new Date}let r=t.getFullYear(),n=t.getMonth(),i=t.getDate();let s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=s.exec(e);while(o){switch(o[2]||"d"){case"d":case"D":i+=parseInt(o[1],10);break;case"w":case"W":i+=parseInt(o[1],10)*7;break;case"m":case"M":n+=parseInt(o[1],10);i=Math.min(i,new Date(r,n+1,0).getDate());break;case"y":case"Y":r+=parseInt(o[1],10);i=Math.min(i,new Date(r,n+1,0).getDate());break}o=s.exec(e)}return new Date(r,n,i)};let i=e==null||e===""?l:typeof e==="string"?n(e):typeof e==="number"?!h.isFiniteNumber(e)?l:r(e):new Date(e.getTime());i=i&&i.toString()==="Invalid Date"?l:i;if(i){i.setHours(0);i.setMinutes(0);i.setSeconds(0);i.setMilliseconds(0)}return t(i)};t.determineDate=m;const _=e=>{e=h.format_number_int(e,false);if(e<=0){return"Now..."}const t=Math.floor(e/(3600*24));const r=Math.floor(e%(3600*24)/3600);const n=Math.floor(e%3600/60);const i=Math.floor(e%60);let s="";if(t>0){s+=t+"d "}if(r>0){s+=r+"h "}if(n>0){s+=n+"m "}s+=i+"s";return String(s)};t.prettySecondsToDHMS=_;const $=function(e){let t=y(e.month);let r=e.year+t;let n=e.month-t*12;return S(w(r,n,e.day))};const C=e=>{e.day=Math.min(e.day,p(e.year,e.month));return e};const y=function(e){let t=0;if(e>12){t=Math.ceil(e/12)-1}else if(e<1){t=Math.floor((e-1)/12)}return t};const S=function(e){e+=719468;let t=(e>=0?e:e-146096)/146097|0;let r=e-t*146097;let n=Math.floor((r-Math.floor(r/1460)+Math.floor(r/36524)-Math.floor(r/146096))/365);let i=n+t*400;let s=r-(365*n+Math.floor(n/4)-Math.floor(n/100));let o=Math.floor((5*s+2)/153);let l=s-Math.floor((153*o+2)/5)+1;let a=o+(o<10?3:-9);return{year:i+(a<=2),month:a,day:l}};const w=function(e,t,r){e-=t<=2;let n=(e>=0?e:e-399)/400|0;let i=e-n*400;let s=Math.floor((153*(t+(t>2?-3:9))+2)/5)+r-1;let o=i*365+Math.floor(i/4)-Math.floor(i/100)+s;return n*146097+o-719468}}};smartJ$Date.secureClass();if(typeof window!="undefined"){window.smartJ$Date=smartJ$Date}const smartJ$BaseConv=new class{constructor(){"use strict";const c="smartJ$BaseConv";const e=this;const u=console;let t=false;e.secureClass=()=>{if(t===true){u.warn(c,"Class is already SECURED")}else{t=true;Object.freeze(e)}};const f=smartJ$Utils;const n=function(e,t=true){e=f.stringPureVal(e,true);if(e==""){return""}let r=".";if(t===false){r=""}return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,String(r||""))};e.b64_to_b64s=n;const r=function(e){e=f.stringPureVal(e,true);if(e==""){return""}return e.replace(/\-/g,"+").replace(/_/g,"/").replace(/\./g,"=")};e.b64s_to_b64=r;const i=function(e,t=false,r=true){return n(f.b64Enc(e,t),r)};e.b64s_enc=i;const s=function(e,t=false){return f.b64Dec(r(e),t)};e.b64s_dec=s;const o=function(e,t){const r="base_to_hex_convert";e=f.stringPureVal(e,true);if(e==""){u.warn(c,r,"Empty Input");return""}let n=a(t);if(n==""){u.warn(c,r,"Invalid Current Base:",t);return""}t=n.length;let i=e.split("");e=null;i=i.map(e=>{const t=String(n).indexOf(e);if(t<0){u.warn(c,r,"Invalid Base Character:",e)}return t});let s=0;while(i.length&&0===i[0]){s++;i.shift()}let o=g(i,t,256);i=null;if(0<s){let e=new Array(s).fill(0,0,s);o=[].concat(e,o)}o=o.map(e=>String.fromCharCode(e)).join("");return String(f.bin2hex(o,true))};e.base_to_hex_convert=o;const l=function(e,t){const r="base_from_hex_convert";e=f.stringPureVal(e,true);if(e==""){u.warn(c,r,"Empty Input");return""}let n=a(t);if(n==""){u.warn(c,r,"Invalid Target Base:",t);return""}t=n.length;let i=String(f.hex2bin(e,true));if(i==""){u.warn(c,r,"Invalid Input, NOT HEX:",e);return""}e=null;i=i.split("");i=i.map(e=>String(e).charCodeAt(0));let s=0;while(i.length&&0===i[0]){s++;i.shift()}let o=g(i,256,t);i=null;if(0<s){let e=new Array(s).fill(0,0,s);o=[].concat(e,o)}n=n.split("");return String(o.map(e=>n[e]).join(""))};e.base_from_hex_convert=l;const a=function(e){const t="0123456789abcdefghijklmnopqrstuv";const r="wxyz";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";const i=".-:+=^!/*?&<>()[]{}@%$#";const s='|;,_~`"';const o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const l=f.stringPureVal(e,true);let a="";switch(l){case"32":a=String(t).toUpperCase();break;case"36":a=String(t)+String(r);break;case"58":a=String(o);break;case"62":a=String(t)+String(r)+String(n);break;case"85":a=String(t)+String(r)+String(n)+String(i);break;case"92":a=String(t)+String(r)+String(n)+String(i)+String(s);break;default:u.error(c,"base_get_alphabet","Invalid Base:",l)}return String(a)};const g=function(s,o,l){let e=[];let t;while(t=s.length){let n=[];let i=0;for(let r=0;r!==t;r++){let e=s[r]+i*o;let t=(e-e%l)/l;i=e%l;if(n.length||t){n.push(t)}}e.unshift(i);s=n}return e}}};smartJ$BaseConv.secureClass();if(typeof window!="undefined"){window.smartJ$BaseConv=smartJ$BaseConv}const smartJ$CryptoHash=new class{constructor(){"use strict";const u="smartJ$CryptoHash";const e=this;const f=console;let t=false;e.secureClass=()=>{if(t===true){f.warn(u,"Class is already SECURED")}else{t=true;Object.freeze(e)}};const g=smartJ$Utils;const p=smartJ$BaseConv;const r=function(e,t=false){t=!!t;if(t===true){return String(i(e))}else{return String(n(e))}};e.crc32b=r;const n=function(e){e=g.stringPureVal(e);e=g.utf8Enc(e);let t=String(s(e).toString(16));t=t.padStart(8,"0");return String(t)};const i=function(e){e=g.stringPureVal(e);e=g.utf8Enc(e);let t=String(s(e).toString(36));t=t.padStart(7,"0");return String(t)};let l=null;const a=function(){if(l!==null){return}l=new Array(256);let e=0,t=0,r=0;for(e=0;e<256;e++){t=e;r=8;while(r--){t=t>>>1^(t&1?3988292384:0)}l[e]=t}};const s=function(e){const t=t=>{const r=t.length;let n=new Array(r);for(let e=0;e<r;e++){n[e]=t.charCodeAt(e)}return n};a();let r=t(e),n=r.length;let i=Array.isArray(r)&&r.length>0&&typeof r[0]==="object";let s=-1,o=0;for(let e=0;e<n;e++){o=i?r[e].id>>>0:r[e];s=l[(s^o)&255]^s>>>8}s=~s>>>0;return s};const d=function(u,r){const e={};const t=e.lib={};const n=t.Base=function(){const r=function(){};return{extend:function(e){r.prototype=this;const t=new r;if(e){t.mixIn(e)}if(!t.hasOwnProperty("init")){t.init=function(){t.$super.init.apply(this,arguments)}}t.init.prototype=t;t.$super=this;return t},create:function(){const e=this.extend();e.init.apply(e,arguments);return e},init:function(){},mixIn:function(t){for(let e in t){if(t.hasOwnProperty(e)){this[e]=t[e]}}if(t.hasOwnProperty("toString")){this.toString=t.toString}},clone:function(){return this.init.prototype.extend(this)}}}();const f=t.WordArray=n.extend({init:function(e,t){e=this.words=e||[];if(t!=r){this.sigBytes=t}else{this.sigBytes=e.length*4}},toString:function(e){return(e||s).stringify(this)},concat:function(e){let r=this.words;let n=e.words;let i=this.sigBytes;let s=e.sigBytes;this.clamp();if(i%4){for(let t=0;t<s;t++){let e=n[t>>>2]>>>24-t%4*8&255;r[i+t>>>2]|=e<<24-(i+t)%4*8}}else{for(let e=0;e<s;e+=4){r[i+e>>>2]=n[e>>>2]}}this.sigBytes+=s;return this},clamp:function(){let e=this.words;let t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8;e.length=u.ceil(t/4)},clone:function(){let e=n.clone.call(this);e.words=this.words.slice(0);return e},random:function(t){let r=[];for(let e=0;e<t;e+=4){r.push(u.random()*4294967296|0)}return new f.init(r,t)}});const i=e.enc={};const s=i.Hex={stringify:function(e){let r=e.words;let n=e.sigBytes;let i=[];for(let t=0;t<n;t++){let e=r[t>>>2]>>>24-t%4*8&255;i.push((e>>>4).toString(16));i.push((e&15).toString(16))}return i.join("")},parse:function(t){let r=t.length;let n=[];for(let e=0;e<r;e+=2){n[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4}return new f.init(n,r/2)}};const o=i.Latin1={stringify:function(e){let r=e.words;let n=e.sigBytes;let i=[];for(let t=0;t<n;t++){let e=r[t>>>2]>>>24-t%4*8&255;i.push(String.fromCharCode(e))}return i.join("")},parse:function(t){let r=t.length;let n=[];for(let e=0;e<r;e++){n[e>>>2]|=(t.charCodeAt(e)&255)<<24-e%4*8}return new f.init(n,r)}};const l=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(o.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return o.parse(unescape(encodeURIComponent(e)))}};const a=t.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new f.init;this._nDataBytes=0},_append:function(e){if(typeof e=="string"){e=l.parse(e)}this._data.concat(e);this._nDataBytes+=e.sigBytes},_process:function(e){let t=this._data;let r=t.words;let n=t.sigBytes;let i=this.blockSize;let s=i*4;let o=n/s;if(e){o=u.ceil(o)}else{o=u.max((o|0)-this._minBufferSize,0)}let l=o*i;let a=u.min(l*4,n);let c=new Array;if(l){for(let e=0;e<l;e+=i){this._doProcessBlock(r,e)}c=r.splice(0,l);t.sigBytes-=a}return new f.init(c,a)},clone:function(){let e=n.clone.call(this);e._data=this._data.clone();return e},_minBufferSize:0});const c=t.Hasher=a.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e);this.reset()},reset:function(){a.reset.call(this);this._doReset()},update:function(e){this._append(e);this._process();return this},finalize:function(e){if(e){this._append(e)}let t=this._doFinalize();return t},blockSize:512/32,_createHelper:function(r){return function(e,t){return new r.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t,r){return new g.HMAC.init(n,t,r).finalize(e)}}});const g=e.algo={};return e}(Math);(function(r){const e=d;const t=e.lib;const n=t.Base;const i=t.WordArray;const s=e.x64={};const o=s.Word=n.extend({init:function(e,t){this.high=e;this.low=t}});const l=s.WordArray=n.extend({init:function(e,t){e=this.words=e||[];if(t!=r){this.sigBytes=t}else{this.sigBytes=e.length*8}},toX32:function(){let r=this.words;let e=r.length;let n=[];for(let t=0;t<e;t++){let e=r[t];n.push(e.high);n.push(e.low)}return i.create(n,this.sigBytes)},clone:function(){let e=n.clone.call(this);let t=e.words=this.words.slice(0);let r=t.length;for(let e=0;e<r;e++){t[e]=t[e].clone()}return e}})})();(function(){const e=d;const t=e.lib;const r=t.Base;const n=e.enc;const c=n.Utf8;const i=e.algo;const s=i.HMAC=r.extend({init:function(e,t,r){e=this._hasher=new e.init(r);if(typeof t=="string"){t=c.parse(t)}let n=e.blockSize;let i=n*4;if(t.sigBytes>i){t=e.finalize(t)}t.clamp();let s=this._oKey=t.clone();let o=this._iKey=t.clone();let l=s.words;let a=o.words;for(let e=0;e<n;e++){l[e]^=1549556828;a[e]^=909522486}s.sigBytes=o.sigBytes=i;this.reset()},reset:function(){let e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){let t=this._hasher;let r=t.finalize(e);t.reset();let n=t.finalize(this._oKey.clone().concat(r));return n}})})();(function(){const e=d;const t=e.lib;const r=t.Hasher;const n=e.x64;const i=n.Word;const s=n.WordArray;const o=e.algo;const l=function(){return i.create.apply(i,arguments)};const V=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)];let j=[];(function(){for(let e=0;e<80;e++){j[e]=l()}})();const a=o.SHA512=r.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(h,y){let e=this._hash.words;let t=e[0];let r=e[1];let n=e[2];let i=e[3];let s=e[4];let o=e[5];let l=e[6];let a=e[7];let c=t.high;let u=t.low;let C=r.high;let f=r.low;let N=n.high;let g=n.low;let k=i.high;let p=i.low;let M=s.high;let d=s.low;let L=o.high;let m=o.low;let J=l.high;let _=l.low;let H=a.high;let $=a.low;let S=c;let w=u;let b=C;let A=f;let F=N;let R=g;let U=k;let x=p;let E=M;let v=d;let D=L;let B=m;let I=J;let T=_;let P=H;let O=$;for(let C=0;C<80;C++){let m=j[C];let _,$;if(C<16){_=m.high=h[y+C*2]|0;$=m.low=h[y+C*2+1]|0}else{let e=j[C-15];let t=e.high;let r=e.low;let n=(t>>>1|r<<31)^(t>>>8|r<<24)^t>>>7;let i=(r>>>1|t<<31)^(r>>>8|t<<24)^(r>>>7|t<<25);let s=j[C-2];let o=s.high;let l=s.low;let a=(o>>>19|l<<13)^(o<<3|l>>>29)^o>>>6;let c=(l>>>19|o<<13)^(l<<3|o>>>29)^(l>>>6|o<<26);let u=j[C-7];let f=u.high;let g=u.low;let p=j[C-16];let d=p.high;let h=p.low;$=i+g;_=n+f+($>>>0<i>>>0?1:0);$=$+c;_=_+a+($>>>0<c>>>0?1:0);$=$+h;_=_+d+($>>>0<h>>>0?1:0);m.high=_;m.low=$}let e=E&D^~E&I;let t=v&B^~v&T;let r=S&b^S&F^b&F;let n=w&A^w&R^A&R;let i=(S>>>28|w<<4)^(S<<30|w>>>2)^(S<<25|w>>>7);let s=(w>>>28|S<<4)^(w<<30|S>>>2)^(w<<25|S>>>7);let o=(E>>>14|v<<18)^(E>>>18|v<<14)^(E<<23|v>>>9);let l=(v>>>14|E<<18)^(v>>>18|E<<14)^(v<<23|E>>>9);let a=V[C];let c=a.high;let u=a.low;let f,g;f=O+l;g=P+o+(f>>>0<O>>>0?1:0);f=f+t;g=g+e+(f>>>0<t>>>0?1:0);f=f+u;g=g+c+(f>>>0<u>>>0?1:0);f=f+$;g=g+_+(f>>>0<$>>>0?1:0);let p=s+n;let d=i+r+(p>>>0<s>>>0?1:0);P=I;O=T;I=D;T=B;D=E;B=v;v=x+f|0;E=U+g+(v>>>0<x>>>0?1:0)|0;U=F;x=R;F=b;R=A;b=S;A=w;w=f+p|0;S=g+d+(w>>>0<f>>>0?1:0)|0}u=t.low=u+w;t.high=c+S+(u>>>0<w>>>0?1:0);f=r.low=f+A;r.high=C+b+(f>>>0<A>>>0?1:0);g=n.low=g+R;n.high=N+F+(g>>>0<R>>>0?1:0);p=i.low=p+x;i.high=k+U+(p>>>0<x>>>0?1:0);d=s.low=d+v;s.high=M+E+(d>>>0<v>>>0?1:0);m=o.low=m+B;o.high=L+D+(m>>>0<B>>>0?1:0);_=l.low=_+T;l.high=J+I+(_>>>0<T>>>0?1:0);$=a.low=$+O;a.high=H+P+($>>>0<O>>>0?1:0)},_doFinalize:function(){let e=this._data;let t=e.words;let r=this._nDataBytes*8;let n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;t[(n+128>>>10<<5)+30]=Math.floor(r/4294967296);t[(n+128>>>10<<5)+31]=r;e.sigBytes=t.length*4;this._process();let i=this._hash.toX32();return i},clone:function(){let e=r.clone.call(this);e._hash=this._hash.clone();return e},blockSize:1024/32});e.SHA512=r._createHelper(a);e.HmacSHA512=r._createHmacHelper(a)})();(function(){const e=d;const t=e.x64;const r=t.Word;const n=t.WordArray;const i=e.algo;const s=i.SHA512;const o=i.SHA384=s.extend({_doReset:function(){this._hash=new n.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){let e=s._doFinalize.call(this);e.sigBytes-=16;return e}});e.SHA384=s._createHelper(o);e.HmacSHA384=s._createHmacHelper(o)})();(function(i){const e=d;const t=e.lib;const r=t.WordArray;const n=t.Hasher;const s=e.algo;let o=[];let _=[];(function(){function e(t){let r=i.sqrt(t);for(let e=2;e<=r;e++){if(!(t%e)){return false}}return true}function t(e){return(e-(e|0))*4294967296|0}let r=2;let n=0;while(n<64){if(e(r)){if(n<8){o[n]=t(i.pow(r,1/2))}_[n]=t(i.pow(r,1/3));n++}r++}})();let $=[];const l=s.SHA256=n.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(l,a){let e=this._hash.words;let c=e[0];let u=e[1];let f=e[2];let g=e[3];let p=e[4];let d=e[5];let h=e[6];let m=e[7];for(let o=0;o<64;o++){if(o<16){$[o]=l[a+o]|0}else{let e=$[o-15];let t=(e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3;let r=$[o-2];let n=(r<<15|r>>>17)^(r<<13|r>>>19)^r>>>10;$[o]=t+$[o-7]+n+$[o-16]}let e=p&d^~p&h;let t=c&u^c&f^u&f;let r=(c<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22);let n=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25);let i=m+n+e+_[o]+$[o];let s=r+t;m=h;h=d;d=p;p=g+i|0;g=f;f=u;u=c;c=i+s|0}e[0]=e[0]+c|0;e[1]=e[1]+u|0;e[2]=e[2]+f|0;e[3]=e[3]+g|0;e[4]=e[4]+p|0;e[5]=e[5]+d|0;e[6]=e[6]+h|0;e[7]=e[7]+m|0},_doFinalize:function(){let e=this._data;let t=e.words;let r=this._nDataBytes*8;let n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;t[(n+64>>>9<<4)+14]=i.floor(r/4294967296);t[(n+64>>>9<<4)+15]=r;e.sigBytes=t.length*4;this._process();return this._hash},clone:function(){let e=n.clone.call(this);e._hash=this._hash.clone();return e}});e.SHA256=n._createHelper(l);e.HmacSHA256=n._createHmacHelper(l)})(Math);(function(){const e=d;const t=e.lib;const r=t.WordArray;const n=e.algo;const i=n.SHA256;const s=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){let e=i._doFinalize.call(this);e.sigBytes-=4;return e}});e.SHA224=i._createHelper(s);e.HmacSHA224=i._createHmacHelper(s)})();(function(){const e=d;const t=e.lib;const r=t.WordArray;const n=t.Hasher;const i=e.algo;let c=[];const s=i.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(r,n){let e=this._hash.words;let i=e[0];let s=e[1];let o=e[2];let l=e[3];let a=e[4];for(let t=0;t<80;t++){if(t<16){c[t]=r[n+t]|0}else{let e=c[t-3]^c[t-8]^c[t-14]^c[t-16];c[t]=e<<1|e>>>31}let e=(i<<5|i>>>27)+a+c[t];if(t<20){e+=(s&o|~s&l)+1518500249}else if(t<40){e+=(s^o^l)+1859775393}else if(t<60){e+=(s&o|s&l|o&l)-1894007588}else{e+=(s^o^l)-899497514}a=l;l=o;o=s<<30|s>>>2;s=i;i=e}e[0]=e[0]+i|0;e[1]=e[1]+s|0;e[2]=e[2]+o|0;e[3]=e[3]+l|0;e[4]=e[4]+a|0},_doFinalize:function(){let e=this._data;let t=e.words;let r=this._nDataBytes*8;let n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;t[(n+64>>>9<<4)+14]=Math.floor(r/4294967296);t[(n+64>>>9<<4)+15]=r;e.sigBytes=t.length*4;this._process();return this._hash},clone:function(){let e=n.clone.call(this);e._hash=this._hash.clone();return e}});e.SHA1=n._createHelper(s);e.HmacSHA1=n._createHmacHelper(s)})();(function(a){const e=d;const t=e.lib;const r=t.WordArray;const n=t.Hasher;const i=e.algo;let b=[];(function(){for(let e=0;e<64;e++){b[e]=a.abs(a.sin(e+1))*4294967296|0}})();const s=i.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(n,i){for(let r=0;r<16;r++){let e=i+r;let t=n[e];n[e]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360}let e=this._hash.words;let t=n[i+0];let r=n[i+1];let s=n[i+2];let o=n[i+3];let l=n[i+4];let a=n[i+5];let c=n[i+6];let u=n[i+7];let f=n[i+8];let g=n[i+9];let p=n[i+10];let d=n[i+11];let h=n[i+12];let m=n[i+13];let _=n[i+14];let $=n[i+15];let C=e[0];let y=e[1];let S=e[2];let w=e[3];C=A(C,y,S,w,t,7,b[0]);w=A(w,C,y,S,r,12,b[1]);S=A(S,w,C,y,s,17,b[2]);y=A(y,S,w,C,o,22,b[3]);C=A(C,y,S,w,l,7,b[4]);w=A(w,C,y,S,a,12,b[5]);S=A(S,w,C,y,c,17,b[6]);y=A(y,S,w,C,u,22,b[7]);C=A(C,y,S,w,f,7,b[8]);w=A(w,C,y,S,g,12,b[9]);S=A(S,w,C,y,p,17,b[10]);y=A(y,S,w,C,d,22,b[11]);C=A(C,y,S,w,h,7,b[12]);w=A(w,C,y,S,m,12,b[13]);S=A(S,w,C,y,_,17,b[14]);y=A(y,S,w,C,$,22,b[15]);C=F(C,y,S,w,r,5,b[16]);w=F(w,C,y,S,c,9,b[17]);S=F(S,w,C,y,d,14,b[18]);y=F(y,S,w,C,t,20,b[19]);C=F(C,y,S,w,a,5,b[20]);w=F(w,C,y,S,p,9,b[21]);S=F(S,w,C,y,$,14,b[22]);y=F(y,S,w,C,l,20,b[23]);C=F(C,y,S,w,g,5,b[24]);w=F(w,C,y,S,_,9,b[25]);S=F(S,w,C,y,o,14,b[26]);y=F(y,S,w,C,f,20,b[27]);C=F(C,y,S,w,m,5,b[28]);w=F(w,C,y,S,s,9,b[29]);S=F(S,w,C,y,u,14,b[30]);y=F(y,S,w,C,h,20,b[31]);C=R(C,y,S,w,a,4,b[32]);w=R(w,C,y,S,f,11,b[33]);S=R(S,w,C,y,d,16,b[34]);y=R(y,S,w,C,_,23,b[35]);C=R(C,y,S,w,r,4,b[36]);w=R(w,C,y,S,l,11,b[37]);S=R(S,w,C,y,u,16,b[38]);y=R(y,S,w,C,p,23,b[39]);C=R(C,y,S,w,m,4,b[40]);w=R(w,C,y,S,t,11,b[41]);S=R(S,w,C,y,o,16,b[42]);y=R(y,S,w,C,c,23,b[43]);C=R(C,y,S,w,g,4,b[44]);w=R(w,C,y,S,h,11,b[45]);S=R(S,w,C,y,$,16,b[46]);y=R(y,S,w,C,s,23,b[47]);C=U(C,y,S,w,t,6,b[48]);w=U(w,C,y,S,u,10,b[49]);S=U(S,w,C,y,_,15,b[50]);y=U(y,S,w,C,a,21,b[51]);C=U(C,y,S,w,h,6,b[52]);w=U(w,C,y,S,o,10,b[53]);S=U(S,w,C,y,p,15,b[54]);y=U(y,S,w,C,r,21,b[55]);C=U(C,y,S,w,f,6,b[56]);w=U(w,C,y,S,$,10,b[57]);S=U(S,w,C,y,c,15,b[58]);y=U(y,S,w,C,m,21,b[59]);C=U(C,y,S,w,l,6,b[60]);w=U(w,C,y,S,d,10,b[61]);S=U(S,w,C,y,s,15,b[62]);y=U(y,S,w,C,g,21,b[63]);e[0]=e[0]+C|0;e[1]=e[1]+y|0;e[2]=e[2]+S|0;e[3]=e[3]+w|0},_doFinalize:function(){let e=this._data;let t=e.words;let r=this._nDataBytes*8;let n=e.sigBytes*8;t[n>>>5]|=128<<24-n%32;let i=a.floor(r/4294967296);let s=r;t[(n+64>>>9<<4)+15]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;t[(n+64>>>9<<4)+14]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;e.sigBytes=(t.length+1)*4;this._process();let o=this._hash;let l=o.words;for(let t=0;t<4;t++){let e=l[t];l[t]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}return o},clone:function(){let e=n.clone.call(this);e._hash=this._hash.clone();return e}});const A=function(e,t,r,n,i,s,o){let l=e+(t&r|~t&n)+i+o;return(l<<s|l>>>32-s)+t};const F=function(e,t,r,n,i,s,o){let l=e+(t&n|r&~n)+i+o;return(l<<s|l>>>32-s)+t};const R=function(e,t,r,n,i,s,o){let l=e+(t^r^n)+i+o;return(l<<s|l>>>32-s)+t};const U=function(e,t,r,n,i,s,o){let l=e+(r^(t|~n))+i+o;return(l<<s|l>>>32-s)+t};e.MD5=n._createHelper(s);e.HmacMD5=n._createHmacHelper(s)})(Math);(function(c){const e=d;const t=e.lib;const u=t.WordArray;const r=t.Hasher;const n=e.x64;const o=n.Word;const i=e.algo;const f=[];const g=[];const l=[];(function(){let n=1,i=0;for(let r=0;r<24;r++){f[n+5*i]=(r+1)*(r+2)/2%64;let e=i%5;let t=(2*n+3*i)%5;n=e;i=t}for(let t=0;t<5;t++){for(let e=0;e<5;e++){g[t+5*e]=e+(2*t+3*e)%5*5}}let s=1;for(let e=0;e<24;e++){let r=0;let n=0;for(let t=0;t<7;t++){if(s&1){let e=(1<<t)-1;if(e<32){n^=1<<e}else{r^=1<<e-32}}if(s&128){s=s<<1^113}else{s<<=1}}l[e]=o.create(r,n)}})();const p=[];(function(){for(let e=0;e<25;e++){p[e]=o.create()}})();const s=i.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){let t=this._state=[];for(let e=0;e<25;e++){t[e]=new o.init}this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(i,s){let a=this._state;let e=this.blockSize/2;for(let n=0;n<e;n++){let e=i[s+2*n];let t=i[s+2*n+1];e=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;t=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360;let r=a[n];r.high^=t;r.low^=e}for(let i=0;i<24;i++){for(let i=0;i<5;i++){let r=0,n=0;for(let t=0;t<5;t++){let e=a[i+5*t];r^=e.high;n^=e.low}let e=p[i];e.high=r;e.low=n}for(let o=0;o<5;o++){let e=p[(o+4)%5];let t=p[(o+1)%5];let r=t.high;let n=t.low;let i=e.high^(r<<1|n>>>31);let s=e.low^(n<<1|r>>>31);for(let t=0;t<5;t++){let e=a[o+5*t];e.high^=i;e.low^=s}}for(let l=1;l<25;l++){let e=a[l];let t=e.high;let r=e.low;let n=f[l];let i,s;if(n<32){i=t<<n|r>>>32-n;s=r<<n|t>>>32-n}else{i=r<<n-32|t>>>64-n;s=t<<n-32|r>>>64-n}let o=p[g[l]];o.high=i;o.low=s}let e=p[0];let t=a[0];e.high=t.high;e.low=t.low;for(let o=0;o<5;o++){for(let s=0;s<5;s++){let e=o+5*s;let t=a[e];let r=p[e];let n=p[(o+1)%5+5*s];let i=p[(o+2)%5+5*s];t.high=r.high^~n.high&i.high;t.low=r.low^~n.low&i.low}}let r=a[0];let n=l[i];r.high^=n.high;r.low^=n.low}},_doFinalize:function(){let e=this._data;let t=e.words;let r=this._nDataBytes*8;let n=e.sigBytes*8;let i=this.blockSize*32;t[n>>>5]|=6<<24-n%32;t[(c.ceil((n+1)/i)*i>>>5)-1]|=128;e.sigBytes=t.length*4;this._process();let s=this._state;let o=this.cfg.outputLength/8;let l=o/8;let a=[];for(let n=0;n<l;n++){let e=s[n];let t=e.high;let r=e.low;t=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360;r=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360;a.push(r);a.push(t)}return new u.init(a,o)},clone:function(){let e=r.clone.call(this);let t=e._state=this._state.slice(0);for(let e=0;e<25;e++){t[e]=t[e].clone()}return e}});e.SHA3=r._createHelper(s);e.HmacSHA3=r._createHmacHelper(s)})(Math);(function(){const e=d;const t=e.lib;const r=t.Base;const u=t.WordArray;const n=e.algo;const i=n.SHA384;const f=n.HMAC;const s=n.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:i,iterations:10}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){let r=this.cfg;let s=f.create(r.hasher,e);let o=u.create();let l=u.create([1]);let n=o.words;let a=l.words;let i=r.keySize;let c=r.iterations;while(n.length<i){let e=s.update(t).finalize(l);s.reset();let r=e.words;let n=r.length;let i=e;for(let e=1;e<c;e++){i=s.finalize(i);s.reset();let t=i.words;for(let e=0;e<n;e++){r[e]^=t[e]}}o.concat(e);a[0]++}o.sigBytes=i*4;return o}});e.PBKDF2=function(e,t,r){let n=s.create(r).compute(e,t);let i=n.toString().substring(0,r.keySize);return d.enc.Hex.parse(i)}})();Object.freeze(d);const h=d;const o=(e,t,r=false,n=false,i=null)=>{const s="sha3";e=g.stringPureVal(e||"");switch(e){case"512":case"384":case"256":case"224":e=g.format_number_int(e,false);break;default:f.error(u,s,"Invalid Mode:",e);return""}t=g.stringPureVal(t||"");r=!!r;let o;if(n===true){o=h.HmacSHA3(t,g.stringPureVal(i||""),{outputLength:e})}else{o=h.SHA3(t,{outputLength:e})}let l=g.stringPureVal(o.toString()||"");if(!!r){l=g.b64Enc(g.hex2bin(l,true),true)}return String(l)};const c=(e,t=false)=>String(o(512,e,t));e.sh3a512=c;const m=(e,t=false)=>String(o(384,e,t));e.sh3a384=m;const _=(e,t=false)=>String(o(256,e,t));e.sh3a256=_;const $=(e,t=false)=>String(o(224,e,t));e.sh3a224=$;const C=(e,t=false,r=false,n=null)=>{e=g.stringPureVal(e||"");t=!!t;let i;if(r===true){i=h.HmacSHA512(e,g.stringPureVal(n||""))}else{i=h.SHA512(e)}let s=g.stringPureVal(i.toString()||"");if(!!t){s=g.b64Enc(g.hex2bin(s,true),true)}return String(s)};const y=(e,t=false)=>String(C(e,t,false));e.sha512=y;const S=(e,t=false,r=false,n=null)=>{e=g.stringPureVal(e||"");t=!!t;let i;if(r===true){i=h.HmacSHA384(e,g.stringPureVal(n||""))}else{i=h.SHA384(e)}let s=g.stringPureVal(i.toString()||"");if(!!t){s=g.b64Enc(g.hex2bin(s,true),true)}return String(s)};const w=(e,t=false)=>String(S(e,t,false));e.sha384=w;const b=(e,t=false,r=false,n=null)=>{e=g.stringPureVal(e||"");t=!!t;let i;if(r===true){i=h.HmacSHA256(e,g.stringPureVal(n||""))}else{i=h.SHA256(e)}let s=g.stringPureVal(i.toString()||"");if(!!t){s=g.b64Enc(g.hex2bin(s,true),true)}return String(s)};const A=(e,t=false)=>String(b(e,t,false));e.sha256=A;const F=(e,t=false,r=false,n=null)=>{e=g.stringPureVal(e||"");t=!!t;let i;if(r===true){i=h.HmacSHA224(e,g.stringPureVal(n||""))}else{i=h.SHA224(e)}let s=g.stringPureVal(i.toString()||"");if(!!t){s=g.b64Enc(g.hex2bin(s,true),true)}return String(s)};const R=(e,t=false)=>String(F(e,t,false));e.sha224=R;const U=(e,t=false,r=false,n=null)=>{e=g.stringPureVal(e||"");t=!!t;let i;if(r===true){i=h.HmacSHA1(e,g.stringPureVal(n||""))}else{i=h.SHA1(e)}let s=g.stringPureVal(i.toString()||"");if(!!t){s=g.b64Enc(g.hex2bin(s,true),true)}return String(s)};const x=(e,t=false)=>String(U(e,t,false));e.sha1=x;const E=(e,t=false,r=false,n=null)=>{e=g.stringPureVal(e||"");t=!!t;let i;if(r===true){i=h.HmacMD5(e,g.stringPureVal(n||""))}else{i=h.MD5(e)}let s=g.stringPureVal(i.toString()||"");if(!!t){s=g.b64Enc(g.hex2bin(s,true),true)}return String(s)};const v=(e,t=false)=>String(E(e,t,false));e.md5=v;const D=(e,t,r,n=false)=>{const i="hmac";n=!!n;e=g.stringPureVal(e,true);e=e.toUpperCase();let s=null;switch(e){case"SHA3-512":s=o(512,r,!!n,true,t);break;case"SHA3-384":s=o(384,r,!!n,true,t);break;case"SHA3-256":s=o(256,r,!!n,true,t);break;case"SHA3-224":s=o(224,r,!!n,true,t);break;case"SHA512":s=C(r,!!n,true,t);break;case"SHA384":s=S(r,!!n,true,t);break;case"SHA256":s=b(r,!!n,true,t);break;case"SHA224":s=F(r,!!n,true,t);break;case"SHA1":s=U(r,!!n,true,t);break;case"MD5":s=E(r,!!n,true,t);break;default:s=false}if(!s){f.error(u,i,"Invalid Algo:",e);return""}return String(s)};e.hmac=D;const B=(e,t,r,n,i,s=false)=>{const o="pbkdf2";e=g.stringPureVal(e,true);e=e.toUpperCase();let l=null;switch(e){case"SHA3-512":l=h.algo.SHA3;l.cfg.outputLength=512;break;case"SHA3-384":l=h.algo.SHA3;l.cfg.outputLength=384;break;case"SHA3-256":l=h.algo.SHA3;l.cfg.outputLength=256;break;case"SHA3-224":l=h.algo.SHA3;l.cfg.outputLength=224;break;case"SHA512":l=h.algo.SHA512;break;case"SHA384":l=h.algo.SHA384;break;case"SHA256":l=h.algo.SHA256;break;case"SHA224":l=h.algo.SHA224;break;case"SHA1":l=h.algo.SHA1;break;case"MD5":l=h.algo.MD5;break;default:l=false}if(!l){f.error(u,o,"Invalid Algo:",e);return""}t=g.stringPureVal(t||"");r=g.stringPureVal(r||"");n=g.format_number_int(n,false);if(n<=0){f.error(u,o,"The length parameter is zero or negative");return""}i=g.format_number_int(i,false);if(i<1){f.warn(u,o,"The Number of iterations is too low:",i);i=1}else if(i>2500){f.warn(u,o,"The Number of iterations is too high:",i);i=2500}let a=n;if(s===true){a=n*2}let c="";try{c=d.PBKDF2(t,r,{hasher:l,keySize:a,iterations:i})}catch(e){f.error(u,o,"("+(s?"B92":"Hex")+") Failed with Error:",e);return""}c=g.stringPureVal(c.toString()||"",true);s=!!s;if(s===true){c=g.stringTrim(p.base_from_hex_convert(c,92));c=c.padEnd(n,"'");c=c.substring(0,n)}if(c==""||c.length!==n){f.error(u,o,"The PBKDF2 ("+(s?"B92":"Hex")+") Derived Key is empty or does not match the expected size ; required size is:",n,"bytes ; but the actual size is:",c.length,"bytes");return""}return String(c)};e.pbkdf2=B}};smartJ$CryptoHash.secureClass();if(typeof window!="undefined"){window.smartJ$CryptoHash=smartJ$CryptoHash}const smartJ$DhKx=new class{constructor(){"use strict";const u="smartJ$DhKx";const o=this;const f=console;let e=false;o.secureClass=()=>{if(e===true){f.warn(u,"Class is already SECURED")}else{e=true;Object.freeze(o)}};let t=typeof window!="undefined"?window:null;const g=smartJ$Utils;const n=smartJ$BaseConv;const r=typeof smartJ$Options!="undefined"&&smartJ$Options&&smartJ$Options.DhKx!=undefined&&typeof smartJ$Options==="object"&&typeof smartJ$Options.DhKx==="object"?smartJ$Options.DhKx:null;const i=r&&!!r.BigIntSupport||t&&t.crypto&&t.crypto.getRandomValues&&t.BigInt?true:false;o.param_Size=r&&typeof r.Size=="string"&&r.Size?g.stringTrim(r.Size):"default";o.param_Prix=r&&typeof r.Prix=="string"&&r.Prix?g.stringTrim(r.Prix):"default";o.param_UseBigInt=i&&(r&&!!r.UseBigInt)?true:false;t=null;const s=()=>{return!!o.param_UseBigInt};o.useBigInt=s;const l=()=>{let e="??";if(o.param_UseBigInt===true){e="BigInt"}else{e="Int64"}return String(e)};o.getMode=l;const a=function(){return $(String(o.param_Size))};o.getBaseGen=a;const c=function(e){const t=String(o.param_Size);const r=String(o.param_Prix);const n=y(r);const i=$(t);const s=C(e,i,n);return{base:e,prix:r,sec:i,pub:s}};o.getSrvData=c;const p=function(e,t){const r=String(o.param_Prix);const n=y(r);const i=C(t,e,n);return _(i)};o.getSrvShad=p;const d=function(e){const t=String(o.param_Size);const r=String(o.param_Prix);const n=y(r);const i=$(t);const s=C(e,i,n);return{base:e,prix:r,sec:i,pub:s}};o.getCliData=d;const h=function(e,t){const r=String(o.param_Prix);const n=y(r);const i=C(t,e,n);return _(i)};o.getCliShad=h;const m=function(e){e=g.stringPureVal(e,true);const t=e.length;if(t<=0){e="00"}else if(t%2!==0){e="0"+e}return String(e)};const _=function(e){let t="";if(o.param_UseBigInt===true){const r=String(m(e.toString(16)));t=n.base_from_hex_convert(r,92)}else{const r=String(m(e.toString(16)));t=n.base_from_hex_convert(r,85)+"'"+n.base_from_hex_convert(r,62)+"'"+n.base_from_hex_convert(r,92)+"'"+n.base_from_hex_convert(r,58)}return String(t)};const $=e=>{if(o.param_UseBigInt===true){return w(e)}else{return S(e)}};const C=(e,t,r)=>{if(o.param_UseBigInt===true){return A(e,t,r)}else{return b(e,t,r)}};const y=e=>{if(o.param_UseBigInt===true){return R(e)}else{return F(e)}};const S=function(e){e=g.stringPureVal(e,true);if(e===""||e==="default"){e=24}e=Math.ceil(e);switch(e){case 12:case 16:case 24:break;default:e=24;f.warn(u,"rngInt64: Invalid Size Selection, using defaults:",e)}let t=~~(Math.random()*(Math.pow(2,e)-1))>>>0;if(t<=0){t=1}return t};const w=function(e){e=g.stringPureVal(e,true);if(e===""||e==="default"){e=16}e=Math.ceil(e);switch(e){case 128:case 96:case 64:case 48:case 32:case 16:case 8:break;default:e=16;f.warn(u,"rngBigint: Invalid Size Selection, using defaults:",e)}const r=new Uint32Array(e);for(let e=0,t=r.length;e<t;e++){r[e]=Math.floor(Math.random()*256)}return String(Array.from(r).map(e=>String(e)).join(""))};const b=(e,t,r)=>{if(t<=0){return 1}else if(t===1){return e%r}else if(t%2===0){return b(e*e%r,t/2|0,r)%r}return b(e*e%r,t/2|0,r)*e%r};const A=(e,t,r)=>{e=BigInt(e);t=BigInt(t);r=BigInt(r);if(t<=BigInt(0)){return BigInt(1)}else if(t==BigInt(1)){return e%r}else if(t%BigInt(2)==BigInt(0)){return A(e*e%r,t/BigInt(2),r)%r}return A(e*e%r,t/BigInt(2),r)*e%r};const F=function(e){const t=[72419213,54795931,32926051,21801887,77635013,25470191,77639819,42010253,33563273,32792339,15923857,67022173,84250253,67680727,63438329,52164643,51603269,61444631,58831133,55711141,73596863,48905489,61642963,53812273,16600799,79158229,56490361,73391389,64351751,14227727,40517299,95234563,42913363,63566527,52338703,80146337,37597201,93581269,32547497,75587359,26024821,57042743,13862969,46496719,42787387,29830469,59912407,75206447,40343341,72357113,23434063,24336373,39422399,12866611,11592293,83937899,79746883,37997129,76431193,67774627,72107393,31363271,30388361,25149569,54104161,50575709,70327973,54960077,92119793,80615231,38967139,65609657,66432673,56145097,73864853,70708361,23913011,35283481,58352201,57881491,89206109,70619069,96913759,66156679,63395257,70022237,93547543,10891057,75492367,86902223,33054397,36325571,49119293,64100537,31986431,16636237];e=g.stringPureVal(e,true);if(e===""||e==="default"){e=-1}e=Math.floor(e);let r=t[47];if(e>=0&&e<t.length){r=t[e]}else if(e!==-1){f.warn(u,"prime: Invalid Prime Selection (Int64), using defaults:",e)}return"0x"+r.toString(16)};const R=function(e){const t="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A63";const r="7ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE";const n="45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA";const i="18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AA";const s="AC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A9";const o="2108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C9340";const l="2849236C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B332051512BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97FBEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AACC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58BB7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E6D";const a={h017:"0x1141317432f7b89",h031:"0x6febe061005175e46c896e4079",h047:"0xf3f2b0ee30050c5f6bfcb9df1b9454e77bc3503",h061:"0x4771cfc3c2b8ad4561cb5437132e35e8398e8f956a2f2c94c51",h097:"0x426f09b2b25aba6bbcbf9ca5edb660b91d033440916732af9ae175a84afb665a25b392361c6952119",h127:"0x2c6121e6b14ecf756c083544de0e0933cac90dbeb6239905bfbec764527bbb4166ff832a2bcc3b4d6f634eddd30e40634adbbb5bfd",h257:"0x279e569032f0c7256218b58ad6418aa0e9436be424ab8f1431b1f9e6b5814e0ebda0ff65ef085d7e73fee51744dec07fe08c1a1cc65855630ca983927ca277406ac42094064387d65aeaa849f9bf449e04df8cb0e99a44b004ce0efca3386f1e82c078723cd265288d9a41",h232c1:"0x"+t+"A3620FFFFFFFFFFFFFFFF",h309c2:"0x"+t+r+"65381FFFFFFFFFFFFFFFF",h463c5:"0x"+t+r+n+"237327FFFFFFFFFFFFFFFF",h617c14:"0x"+t+r+n+i+"CAA68FFFFFFFFFFFFFFFF",h925c15:"0x"+t+r+n+i+s+"3AD2CAFFFFFFFFFFFFFFFF",h1234c16:"0x"+t+r+n+i+s+o+"63199FFFFFFFFFFFFFFFF",h1850c17:"0x"+t+r+n+i+s+o+l+"CC4024FFFFFFFFFFFFFFFF",h2467c18:"0x"+t+r+n+i+s+o+l+"BE115974A3926F12FEE5E438777CB6A932DF8CD8BEC4D073B931BA3BC832B68D9DD300741FA7BF8AFC47ED2576F6936BA424663AAB639C5AE4F5683423B4742BF1C978238F16CBE39D652DE3FDB8BEFC848AD922222E04A4037C0713EB57A81A23F0C73473FC646CEA306B4BCBC8862F8385DDFA9D4B7FA2C087E879683303ED5BDD3A062B3CF5B3A278A66D2A13F83F44F82DDF310EE074AB6A364597E899A0255DC164F31CC50846851DF9AB48195DED7EA1B1D510BD7EE74D73FAF36BC31ECFA268359046F4EB879F924009438B481C6CD7889A002ED5EE382BC9190DA6FC026E479558E4475677E9AA9E3050E2765694DFC81F56E880B96E7160C980DD98EDD3DFFFFFFFFFFFFFFFFF"};let c=null;e=g.stringPureVal(e,true);if(e===""){e="default"}switch(String(e)){case"h017":case"h031":case"h047":case"h061":case"h097":case"h127":case"h257":case"h232c1":case"h309c2":case"h463c5":case"h617c14":case"h925c15":case"h1234c16":case"h1850c17":case"h2467c18":c=a[String(e)];break;default:if(e!=="default"){f.warn(u,"prime: Invalid Prime Selection (Bigint), using defaults:",e)}c=a["h127"]}return String(c)}}};smartJ$DhKx.secureClass();if(typeof window!="undefined"){window.smartJ$DhKx=smartJ$DhKx}smartJ$CryptoCipherTwofish=new class{constructor(){"use strict";const m="smartJ$CryptoCipherTwofish";const e=this;const _=console;let t=false;e.secureClass=()=>{if(t===true){_.warn(m,"Class is already SECURED")}else{t=true;Object.freeze(e)}};const $=smartJ$Utils;const x=function(e){if(Array.isArray(e)||Object.prototype.toString.call(e)==="[object Uint8Array]"){return true}return false};const C=16;const E=16;const q=33686018;const Y=16843009;const v=9;const g=0;const p=g+C/4;const D=p+C/4;const r=new Uint8Array([169,103,179,232,4,253,163,118,154,146,128,120,228,221,209,56,13,198,53,152,24,247,236,108,67,117,55,38,250,19,148,72,242,208,139,48,132,84,223,35,25,91,61,89,243,174,162,130,99,1,131,46,217,81,155,124,166,235,165,190,22,12,227,97,192,140,58,245,115,44,37,11,187,78,137,107,83,106,180,241,225,230,189,69,226,244,182,102,204,149,3,86,212,28,30,215,251,195,142,181,233,207,191,186,234,119,57,175,51,201,98,113,129,121,9,173,36,205,249,216,229,197,185,77,68,8,134,231,161,29,170,237,6,112,178,210,65,123,160,17,49,194,39,144,32,246,96,255,150,92,177,171,158,156,82,27,95,147,10,239,145,133,73,238,45,79,143,59,71,135,109,70,214,62,105,100,42,206,203,47,252,151,5,122,172,127,213,26,75,14,167,90,40,20,63,41,136,60,76,2,184,218,176,23,85,31,138,125,87,199,141,116,183,196,159,114,126,21,34,18,88,7,153,52,110,80,222,104,101,188,219,248,200,168,43,64,220,254,50,164,202,16,33,240,211,93,15,0,111,157,54,66,74,94,193,224]);const n=new Uint8Array([117,243,198,244,219,123,251,200,74,211,230,107,69,125,232,75,214,50,216,253,55,113,241,225,48,15,248,27,135,250,6,63,94,186,174,91,138,0,188,157,109,193,177,14,128,93,210,213,160,132,7,20,181,144,44,163,178,115,76,84,146,116,54,81,56,176,189,90,252,96,98,150,108,66,247,16,124,40,39,140,19,149,156,199,36,70,59,112,202,227,133,203,17,208,147,184,166,131,32,255,159,119,195,204,3,111,8,191,64,231,43,226,121,12,170,130,65,58,234,185,228,154,164,151,126,218,122,23,102,148,161,29,61,240,222,179,11,114,167,28,239,209,83,62,143,51,38,95,236,118,42,73,129,136,238,33,196,26,235,217,197,57,153,205,173,49,139,1,24,35,221,31,78,45,249,72,79,242,101,142,120,92,88,25,141,229,152,87,103,127,5,100,175,99,182,254,245,183,60,165,206,233,104,68,224,77,67,105,41,46,172,21,89,168,10,158,110,71,223,52,53,106,207,220,34,201,192,155,137,212,237,171,18,162,13,82,187,2,47,169,215,97,30,180,80,4,246,194,22,37,134,86,85,9,190,145]);const B=[r,n];const o=1;const I=0;const T=0;const P=I^1;const O=1;const l=0;const N=0;const k=1;const M=N^1;const L=0;const a=1;const J=1;const H=0;const Z=J^1;const X=0;const c=0;const V=1;const Q=1;const ee=V^1;const te=1;const s=Math.floor(361/2);const u=Math.floor(361/4);const f=333;const h=e=>{return e>>1^((e&1)!==0?s:0)};const S=e=>{return e>>2^((e&2)!==0?s:0)^((e&1)!==0?u:0)};const w=e=>{return e^S(e)};const b=e=>{return e^h(e)^S(e)};const A=()=>{let e=[[],[],[],[]];let t=[],r=[],n=[];let i,s;for(i=0;i<256;i+=1){s=B[0][i]&255;t[0]=s;r[0]=w(s)&255;n[0]=b(s)&255;s=B[1][i]&255;t[1]=s;r[1]=w(s)&255;n[1]=b(s)&255;e[0][i]=t[o]<<0|r[o]<<8|n[o]<<16|n[o]<<24;e[1][i]=n[l]<<0|n[l]<<8|r[l]<<16|t[l]<<24;e[2][i]=r[a]<<0|n[a]<<8|t[a]<<16|n[a]<<24;e[3][i]=r[c]<<0|t[c]<<8|n[c]<<16|r[c]<<24}return[new Uint32Array(e[0]),new Uint32Array(e[1]),new Uint32Array(e[2]),new Uint32Array(e[3])]};const j=A();const W=e=>e&255;const z=e=>e>>>8&255;const K=e=>e>>>16&255;const G=e=>e>>>24&255;const i=(e,t)=>{let r=0;switch(t%4){case 0:r=W(e);break;case 1:r=z(e);break;case 2:r=K(e);break;case 3:r=G(e);break;default:}return r};const F=e=>{const t=e>>>24&255;const r=(t<<1^((t&128)!==0?f:0))&255;const n=t>>>1^((t&1)!==0?f>>>1:0)^r;const i=e<<8^n<<24^r<<16^n<<8^t;return i};const re=(e,t)=>{let r=0;for(;r<4;r+=1){t=F(t)}t^=e;for(r=0;r<4;r+=1){t=F(t)}return t};const ne=(e,t,r)=>{let n=W(t),i=z(t),s=K(t),o=G(t);let l=r[0]||0,a=r[1]||0,c=r[2]||0,u=r[3]||0;let f=0;switch(e&3){case 1:f=j[0][B[I][n]&255^W(l)]^j[1][B[N][i]&255^z(l)]^j[2][B[J][s]&255^K(l)]^j[3][B[V][o]&255^G(l)];break;case 0:n=B[O][n]&255^W(u);i=B[L][i]&255^z(u);s=B[X][s]&255^K(u);o=B[te][o]&255^G(u);case 3:n=B[P][n]&255^W(c);i=B[M][i]&255^z(c);s=B[Z][s]&255^K(c);o=B[ee][o]&255^G(c);case 2:f=j[0][B[I][B[T][n]&255^W(a)]&255^W(l)]^j[1][B[N][B[k][i]&255^z(a)]&255^z(l)]^j[2][B[J][B[H][s]&255^K(a)]&255^K(l)]^j[3][B[V][B[Q][o]&255^G(a)]&255^G(l)];break;default:}return f};const d=(e,t,r)=>{const n=e[2*i(t,r)]^e[2*i(t,r+1)+1]^e[512+2*i(t,r+2)]^e[512+2*i(t,r+3)+1];return new Uint32Array([n])[0]};const R=(e,t)=>{const r="xorBuffers";if(!e||!x(e)||!e.length||!t||!x(t)||!t.length){throw r+": Invalid Input";return new Uint8Array}if(e.length!==t.length){throw r+": Buffer length (xor) must be equal";return new Uint8Array}e=new Uint8Array(e);t=new Uint8Array(t);let n=[],i=0;for(i=0;i<e.length;i+=1){n[i]=(e[i]^t[i])&255}return new Uint8Array(n)};const U=e=>{const t="expandKey";if(!e||!x(e)){throw t+": key parameter is undefined or not an array";return[]}if(e.length!=32){throw t+": key size must be 32";return[]}let r=[];let n=0;let i,s;let o=e.length;let l=o/8;let a=[],c=D+2*E;let u=[],f=[],g=[],p=[];let d,h;let m=0;let _,$,C;let y,S,w,b;let A,F,R,U;e=new Uint8Array(e);o=e.length;for(d=0,h=l-1;d<4&&m<o;d+=1,h-=1){u[d]=e[m++]&255|(e[m++]&255)<<8|(e[m++]&255)<<16|(e[m++]&255)<<24;f[d]=e[m++]&255|(e[m++]&255)<<8|(e[m++]&255)<<16|(e[m++]&255)<<24;g[h]=re(u[d],f[d])}for(d=_=0;d<c/2;d+=1,_+=q){$=ne(l,_,u);C=ne(l,_+Y,f);C=C<<8|C>>>24;$+=C;a[2*d]=$;$+=C;a[2*d+1]=$<<v|$>>>32-v}A=g[0];F=g[1];R=g[2];U=g[3];for(d=0;d<256;d+=1){y=S=w=b=d;switch(l&3){case 1:p[2*d]=j[0][B[I][y]&255^W(A)];p[2*d+1]=j[1][B[N][S]&255^z(A)];p[512+2*d]=j[2][B[J][w]&255^K(A)];p[512+2*d+1]=j[3][B[V][b]&255^G(A)];break;case 0:y=B[O][y]&255^W(U);S=B[L][S]&255^z(U);w=B[X][w]&255^K(U);b=B[te][b]&255^G(U);case 3:y=B[P][y]&255^W(R);S=B[M][S]&255^z(R);w=B[Z][w]&255^K(R);b=B[ee][b]&255^G(R);case 2:p[2*d]=j[0][B[I][B[T][y]&255^W(F)]&255^W(A)];p[2*d+1]=j[1][B[N][B[k][S]&255^z(F)]&255^z(A)];p[512+2*d]=j[2][B[J][B[H][w]&255^K(F)]&255^K(A)];p[512+2*d+1]=j[3][B[V][B[Q][b]&255^G(F)]&255^G(A)];break;default:}}return[p,a]};const ie=(e,t,r)=>{if(!e||!x(e)||!e.length||!t||!x(t)||!t.length){throw"blockEncrypt: sessionKey is empty or input block is not a non-empty array";return new Uint8Array}t=new Uint8Array(t);const n=e[0];const i=e[1];let s=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let o=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let l=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let a=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let c=D;let u,f;s^=i[g];o^=i[g+1];l^=i[g+2];a^=i[g+3];for(let e=0;e<E;e+=2){u=d(n,s,0);f=d(n,o,3);l^=u+f+i[c++];l=l>>>1|l<<31;a=a<<1|a>>>31;a^=u+2*f+i[c++];u=d(n,l,0);f=d(n,a,3);s^=u+f+i[c++];s=s>>>1|s<<31;o=o<<1|o>>>31;o^=u+2*f+i[c++]}l^=i[p];a^=i[p+1];s^=i[p+2];o^=i[p+3];return new Uint8Array([l,l>>>8,l>>>16,l>>>24,a,a>>>8,a>>>16,a>>>24,s,s>>>8,s>>>16,s>>>24,o,o>>>8,o>>>16,o>>>24])};const se=(e,t,r)=>{if(!e||!x(e)||!e.length||!t||!x(t)||!t.length){throw"blockDecrypt: sessionKey is empty or input block is not a non-empty array";return new Uint8Array}const n=e[0];const i=e[1];let s=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let o=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let l=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let a=t[r++]&255|(t[r++]&255)<<8|(t[r++]&255)<<16|(t[r++]&255)<<24;let c=D+2*E-1;let u,f;s^=i[p];o^=i[p+1];l^=i[p+2];a^=i[p+3];for(let e=0;e<E;e+=2){u=d(n,s,0);f=d(n,o,3);a^=u+2*f+i[c--];a=a>>>1|a<<31;l=l<<1|l>>>31;l^=u+f+i[c--];u=d(n,l,0);f=d(n,a,3);o^=u+2*f+i[c--];o=o>>>1|o<<31;s=s<<1|s>>>31;s^=u+f+i[c--]}l^=i[g];a^=i[g+1];s^=i[g+2];o^=i[g+3];return new Uint8Array([l,l>>>8,l>>>16,l>>>24,a,a>>>8,a>>>16,a>>>24,s,s>>>8,s>>>16,s>>>24,o,o>>>8,o>>>16,o>>>24])};const y=t=>{var r=[];for(let e=0;e<t.length;e++){r.push(t.charCodeAt(e)&255)}return r};const oe=e=>{e=String(e||"");const t=Math.ceil(e.length/C)*C;e=e.padEnd(t," ");return String(e||"")};const le=(e,t,r)=>{const n="encryptCBC";e=$.stringPureVal(e);if(e==""){return""}t=$.stringPureVal(t,true);if(t==""||t.length!==C*2){_.error(m,n,"ERR:","Key Length is Invalid (req: 256 bit)",t.length);return""}r=$.stringPureVal(r,true);if(r==""||r.length!==C){_.error(m,n,"ERR:","IV Length is Invalid (req: 128 bit)",r.length);return""}e=oe(e);e=y(e);e=new Uint8Array(e);t=y(t);t=new Uint8Array(t);try{t=U(t)}catch(e){_.error(m,n,"ERR:","Key Expand",e);return""}r=y(r);r=new Uint8Array(r);let i=r;let s=[],o=[],l=[],a=[];let c=0,u=0,f=0;let g,p,d;const h=e.length/C;for(;u<h;u+=1){o=e.subarray(c,c+C);if(o.length<C){g=[];for(let e=0;e<C;e+=1){p=o[e];if(p!==undefined){g.push(p)}else{g.push(0)}}o=g}try{l=R(o,i)}catch(e){_.error(m,n,"ERR:","Buff#1",e);return""}try{a=ie(t,l,0)}catch(e){_.error(m,n,"ERR:","Buff#2",e);return""}for(f=c;f<a.length+c;f+=1){d=f-c;if(a[d]!==undefined){s.splice(f,0,a[d])}}i=a;c+=C}return String.fromCharCode(...s)};e.encryptCBC=le;const ae=(e,t,r)=>{const n="decryptCBC";e=$.stringPureVal(e);if(e==""){return""}t=$.stringPureVal(t,true);if(t==""||t.length!==C*2){_.error(m,n,"ERR:","Key Length is Invalid (req: 256 bit)",t.length);return""}r=$.stringPureVal(r,true);if(r==""||r.length!==C){_.error(m,n,"ERR:","IV Length is Invalid (req: 128 bit)",r.length);return""}e=y(e);e=new Uint8Array(e);t=y(t);t=new Uint8Array(t);try{t=U(t)}catch(e){_.error(m,n,"ERR:","Key Expand",e);return""}r=y(r);r=new Uint8Array(r);let i=r;let s=[],o=[],l=[],a=[];let c=0,u=0,f=0;let g,p,d;const h=e.length/C;for(;u<h;u+=1){o=e.subarray(c,c+C);if(o.length<C){g=[];for(let e=0;e<C;e+=1){p=o[e];if(p!==undefined){g.push(p)}else{g.push(0)}}o=g}try{l=se(t,o,0)}catch(e){_.error(m,n,"ERR:","Buff#1",e);return""}try{a=R(l,i)}catch(e){_.error(m,n,"ERR:","Buff#2",e);return""}for(f=c;f<a.length+c;f+=1){d=f-c;if(a[d]!==undefined){s.splice(f,0,a[d])}}a=[];i=o;c+=C}s=$.stringTrim(String.fromCharCode(...s));return String(s||"")};e.decryptCBC=ae}};smartJ$CryptoCipherTwofish.secureClass();if(typeof window!="undefined"){window.smartJ$CryptoCipherTwofish=smartJ$CryptoCipherTwofish}smartJ$CryptoCipherBlowfish=new class{constructor(){"use strict";const g="smartJ$CryptoCipherBlowfish";const e=this;const p=console;let t=false;e.secureClass=()=>{if(t===true){p.warn(g,"Class is already SECURED")}else{t=true;Object.freeze(e)}};const d=smartJ$Utils;const h=8;const r=Math.pow(2,2);const n=Math.pow(2,3);const i=Math.pow(2,4);const m=Math.pow(2,8);const _=Math.pow(2,16);const $=Math.pow(2,24);const c={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]};const u=e=>{return!!(typeof e=="string"||e instanceof String)};const s=(e,t)=>{return(e>>16)+(t>>16)+((e&65535)+(t&65535)>>16)<<16|(e&65535)+(t&65535)&65535};const o=(e,t)=>{return(e>>16^t>>16)<<16|(e&65535^t&65535)&65535};const l=(e,t)=>{const r=t.s3[e&255];e>>=8;const n=t.s2[e&255];e>>=8;const i=t.s1[e&255];e>>=8;const s=t.s0[e&255];let o;o=(s>>16)+(i>>16)+((s&65535)+(i&65535)>>16)<<16|(s&65535)+(i&65535)&65535;o=(o>>16^n>>16)<<16|(o&65535^n&65535)&65535;return(o>>16)+(r>>16)+((o&65535)+(r&65535)>>16)<<16|(o&65535)+(r&65535)&65535};const f=(e,t)=>{let r=e.left;let n=e.right;r=o(r,t.p[0]);n=o(n,o(l(r,t),t.p[1]));r=o(r,o(l(n,t),t.p[2]));n=o(n,o(l(r,t),t.p[3]));r=o(r,o(l(n,t),t.p[4]));n=o(n,o(l(r,t),t.p[5]));r=o(r,o(l(n,t),t.p[6]));n=o(n,o(l(r,t),t.p[7]));r=o(r,o(l(n,t),t.p[8]));n=o(n,o(l(r,t),t.p[9]));r=o(r,o(l(n,t),t.p[10]));n=o(n,o(l(r,t),t.p[11]));r=o(r,o(l(n,t),t.p[12]));n=o(n,o(l(r,t),t.p[13]));r=o(r,o(l(n,t),t.p[14]));n=o(n,o(l(r,t),t.p[15]));r=o(r,o(l(n,t),t.p[16]));e.right=r;e.left=o(n,t.p[17])};const C=(e,t)=>{let r=e.left;let n=e.right;r=o(r,t.p[17]);n=o(n,o(l(r,t),t.p[16]));r=o(r,o(l(n,t),t.p[15]));n=o(n,o(l(r,t),t.p[14]));r=o(r,o(l(n,t),t.p[13]));n=o(n,o(l(r,t),t.p[12]));r=o(r,o(l(n,t),t.p[11]));n=o(n,o(l(r,t),t.p[10]));r=o(r,o(l(n,t),t.p[9]));n=o(n,o(l(r,t),t.p[8]));r=o(r,o(l(n,t),t.p[7]));n=o(n,o(l(r,t),t.p[6]));r=o(r,o(l(n,t),t.p[5]));n=o(n,o(l(r,t),t.p[4]));r=o(r,o(l(n,t),t.p[3]));n=o(n,o(l(r,t),t.p[2]));r=o(r,o(l(n,t),t.p[1]));e.right=r;e.left=o(n,t.p[0])};const y=function(e,t){const r="arrMap";if(!Array.isArray(e)){p.error(g,r,"Input must be array");return[]}if(typeof t!="function"){p.error(g,r,"CallBack must be function");return[]}return e.map(t)};const S=e=>{let r=e;if(u(r)){r=y(r.split(""),e=>{return e.charCodeAt(0)&255})}let n=0,i=0;const t={left:0,right:0};const s={p:y(c.p.slice(0),e=>{const t=r.length;for(let e=0;e<4;e++){i=i*m|r[n++%t]}return(e>>16^i>>16)<<16|(e&65535^i&65535)&65535}),s0:c.s0.slice(0),s1:c.s1.slice(0),s2:c.s2.slice(0),s3:c.s3.slice(0)};let o,l,a;for(o=0,a=s.p.length;o<a;){f(t,s);s.p[o++]=t.left,s.p[o++]=t.right}for(o=0;o<4;o++){for(l=0,a=s["s"+o].length;l<a;){f(t,s);s["s"+o][l++]=t.left,s["s"+o][l++]=t.right}}return s};const w=e=>{e=d.stringPureVal(e,true);return String(e||"")};const b=e=>{const t={IV:"",left:null,right:null};t.IV=d.stringPureVal(e,true);const r=y(t.IV.split(""),e=>{return e.charCodeAt(0)});t.left=r[0]*$|r[1]*_|r[2]*m|r[3];t.right=r[4]*$|r[5]*_|r[6]*m|r[7];return t};const A=e=>{e=String(e||"");const t=Math.ceil(e.length/h)*h;e=e.padEnd(t," ");return String(e||"")};const a="b"+"f"+56*8+"."+"v"+21/7;const F=function(t,e,r){const n="encryptCBC";t=d.stringPureVal(t);if(t==""){return""}e=d.stringPureVal(e,true);if(e==""||e.length!==56){p.error(g,n,"ERR:","Key Length is Invalid (req: 448 bit)",e.length);return""}r=d.stringPureVal(r,true);if(r==""||r.length!==8){p.error(g,n,"ERR:","IV Length is Invalid (req: 64 bit)",r.length);return""}const i=b(r);e=w(e);if(e.length!=7*h){p.error(g,n,"Invalid Key Init",e.length);return""}if(i.IV.length!=h){p.error(g,n,"Invalid IV Init",i.IV.length);return""}const s=S(e);t=A(t);let o=[];const l=t.length>>3;let a=0,c={};const u={left:i.left||null,right:i.right||null};for(let e=0;e<l;e++){c.left=t.charCodeAt(a)*$|t.charCodeAt(a+1)*_|t.charCodeAt(a+2)*m|t.charCodeAt(a+3);c.right=t.charCodeAt(a+4)*$|t.charCodeAt(a+5)*_|t.charCodeAt(a+6)*m|t.charCodeAt(a+7);c.left=(c.left>>16^u.left>>16)<<16|(c.left&65535^u.left&65535)&65535;c.right=(c.right>>16^u.right>>16)<<16|(c.right&65535^u.right&65535)&65535;f(c,s);u.left=c.left;u.right=c.right;o.push(c.left>>24&255);o.push(c.left>>16&255);o.push(c.left>>8&255);o.push(c.left&255);o.push(c.right>>24&255);o.push(c.right>>16&255);o.push(c.right>>8&255);o.push(c.right&255);a+=8}return String(y(o,e=>String.fromCharCode(e)).join(""))};e.encryptCBC=F;const R=function(e,t,r){const n="decryptCBC";e=d.stringPureVal(e);if(e==""){return""}t=d.stringPureVal(t,true);if(t==""||t.length!==56){p.error(g,n,"ERR:","Key Length is Invalid (req: 448 bit)",t.length);return""}r=d.stringPureVal(r,true);if(r==""||r.length!==8){p.error(g,n,"ERR:","IV Length is Invalid (req: 64 bit)",r.length);return""}const i=b(r);t=w(t);if(t.length!=7*h){p.error(g,n,"Invalid Key Init",t.length);return""}if(i.IV.length!=h){p.error(g,n,"Invalid IV Init",i.IV.length);return""}const s=S(t);let o=[];let l=null;l=y(e.split(""),e=>{return e.charCodeAt(0)});e=null;const a=l.length>>3;let c=0,u={};const f={left:i.left||null,right:i.right||null};for(let e=0;e<a;e++){u.left=l[c]*$|l[c+1]*_|l[c+2]*m|l[c+3];u.right=l[c+4]*$|l[c+5]*_|l[c+6]*m|l[c+7];let e=null,t=null;e=u.left;t=u.right;C(u,s);u.left=(u.left>>16^f.left>>16)<<16|(u.left&65535^f.left&65535)&65535;u.right=(u.right>>16^f.right>>16)<<16|(u.right&65535^f.right&65535)&65535;f.left=e;f.right=t;o.push(u.left>>24&255);o.push(u.left>>16&255);o.push(u.left>>8&255);o.push(u.left&255);o.push(u.right>>24&255);o.push(u.right>>16&255);o.push(u.right>>8&255);o.push(u.right&255);c+=8}o=d.stringTrim(y(o,e=>String.fromCharCode(e)).join(""));return String(o||"")};e.decryptCBC=R}};smartJ$CryptoCipherBlowfish.secureClass();if(typeof window!="undefined"){window.smartJ$CryptoCipherBlowfish=smartJ$CryptoCipherBlowfish}smartJ$CipherCrypto=new class{constructor(){"use strict";const a="smartJ$CipherCrypto";const e=this;const c=console;let t=false;e.secureClass=()=>{if(t===true){c.warn(a,"Class is already SECURED")}else{t=true;Object.freeze(e)}};const n=smartJ$Utils;const i=smartJ$BaseConv;const o=smartJ$CryptoHash;const u=smartJ$DhKx;const f=smartJ$CryptoCipherTwofish;const g=smartJ$CryptoCipherBlowfish;const p="2"+"f"+32*8+"."+"v"+16/16;const k="b"+"f"+56*8+"."+"v"+21/7;const d="#"+"CK"+"SUM"+1024/2+"V"+24/8+"#";const m=12/4;const _=1024*4;const $=8*10;const M=80+7;const L=70+8;const C=(e,t)=>n.stringPureVal(e,t);const y=e=>n.stringTrim(e);const J=(e,t)=>n.stringStartsWith(e,t);const h=(e,t,r=0)=>n.stringContains(e,t,r);const H=(e,t,r)=>n.stringReplaceAll(e,t,r);const S=e=>n.strRRot13(e);const w=(e,t)=>n.bin2hex(e,t);const l=(e,t)=>n.hex2bin(e,t);const V=(e,t)=>n.b64Enc(e,t);const j=(e,t)=>n.b64Dec(e,t);const b=(e,t,r=!0)=>i.b64s_enc(e,t,r);const A=(e,t)=>i.b64s_dec(e,t);const F=(e,t)=>i.base_to_hex_convert(e,t);const R=(e,t)=>i.base_from_hex_convert(e,t);const U=e=>R(e,62);const W=e=>R(e,85);const x=e=>R(e,92);const E=(e,t)=>o.crc32b(e,t);const v=(e,t)=>o.md5(e,t);const z=(e,t)=>o.sha1(e,t);const D=(e,t)=>o.sha256(e,t);const K=(e,t)=>o.sha512(e,t);const B=(e,t)=>o.sh3a224(e,t);const G=(e,t)=>o.sh3a384(e,t);const I=(e,t)=>o.sh3a512(e,t);const q="Sh"+"A3"+"-5"+"12";const Y="Sh"+"A3"+"-2"+"56";const T=(e,t,r,n,i,s)=>o.pbkdf2(e,t,r,n,i,s);const P=(e,t,r,n)=>o.hmac(e,t,r,n);const O="\v";const N="\0";const Z=e=>{const t="pbkdf2PreDv";e=C(e,true);const r=e.length;if(e==""||r<m||r>_){c.error(a,t,"ERR:","Invalid Key Length");return""}const n=G(e,!0);const i=I(e+O+E(e,!0)+O+S(n));const s=x(i);const o=y(S(y(s).substring(0,$).padEnd($,"'")));if(y(o)==""||y(H("'","",y(o)))==""||o.length!=$){c.error(a,t,"ERR:","The B92 PBKDF2 Pre-Derived Key is empty or does not match the expected size");return""}return String(o||"")};const X=e=>{const t="tfKdIv";const r={err:"?",key:"",iv:""};const n=256/8;const i=128/8;e=C(e,true);const s=e.length;if(e==""||s<m||s>_){r.err="Invalid Key Length";return r}const o=n*2;const l=i*2;const a=Z(e);if(a==""||a.length!=$){r.err="Invalid Pre-Derived Key Length";return r}const c=Z(S(b(e,!1))+N+a);if(c==""||c.length!=$){r.err="Invalid Pre-Derived Iv Length";return r}const u="["+N+c+O+E(O+e+N,!0)+N+"]";const f=y(T(q,a,u,o,M,false));if(f==""||f.length!=o){r.err="Invalid Derived Key Length";return r}const g=y(S(y(x(f).substring(0,n))));if(g==""||g.length!=n){r.err="Invalid Derived B92 Key Length";return r}const p="("+N+a+O+E(O+e+N)+N+")";const d=y(T(Y,c,p,l,L,false));if(d==""||d.length!=l){r.err="Invalid Derived Iv Length";return r}const h=y(S(y(W(d).substring(0,i))));if(h==""||h.length!=i){r.err="Invalid Derived B85 Iv Length";return r}r.err="";r.key=String(g||"");r.iv=String(h||"");return r};const Q=(e,t,r=false)=>{const n="tfEnc";t=C(t);if(t==""){return""}const i=t;t=V(t,r);t=t+d+U(I(t));const s=X(e);if(!!s.err){c.error(a,n,"ERR:","KD Failed:",s.err);return""}t=f.encryptCBC(t,s.key,s.iv);const o=b(t,!0);const l=U(B(o+N+i));return String(p+"!"+S(o+";"+l))};e.tfEnc=Q;const ee=(e,t,r=false)=>{const n="tfDec";t=C(t);if(t==""){return""}if(!J(t,p+"!")){c.warn(a,n,"Invalid TF Data");return""}t=t.split("!",2);t=S(C(t[1],true));t=t.split(";",2);const i=C(t[1],true);const s=C(t[0],true);t=String(s);t=A(t,!0);if(t==""){c.error(a,n,"ERR:","B64 Decode Failed");return""}const o=X(e);if(!!o.err){c.error(a,n,"ERR:","KD Failed:",o.err);return""}t=f.decryptCBC(t,o.key,o.iv);if(t==""){c.error(a,n,"ERR:","Decrypt Failed");return""}if(t==""||!h(t,d)){c.error(a,n,"ERR:","Data Checksum N/A");return""}t=t.split(d,2);const l=C(t[1],true);t=C(t[0],true);if(U(I(t))!==l){c.error(a,n,"ERR:","Data Checksum Failed");return""}t=j(t,r);if(i!==U(B(s+N+t))){c.warn(a,n,"ERR:","Checksum Failed");return""}return String(t)};e.tfDec=ee;const te=e=>{const t=String(N+(e||""));const r=String(E(e)+N+v(e)+N+z(e)+N+D(e)+N+K(e));const n=String(E(t)+N+v(t)+N+z(t)+N+D(t)+N+K(t));const i=String(r+N+n);const s=String(x(D(i)))+"'"+String(x(v(i)));const o=y(String(s).substring(0,448/8));return String(o||"")};const re=e=>{const t="bfKdIv";const r={err:"?",key:"",iv:""};const n=448/8;const i=64/8;e=C(e,true);const s=e.length;if(e==""||s<m||s>_){r.err="Invalid Key Length";return r}const o=te(e);const l=String(String(E(e,!0)).padStart(8,"0")).substring(0,64/8);r.err="";r.key=String(o||"");r.iv=String(l||"");return r};const ne=(e,t,r=false)=>{const n="bfEnc";t=C(t);if(t==""){return""}const i=t;t=V(t,r);t=t+d+U(I(t));const s=re(e);if(!!s.err){c.error(a,n,"ERR:","KD Failed:",s.err);return""}t=g.encryptCBC(t,s.key,s.iv);const o=b(t,!0);const l=U(B(o+N+i));return String(k+"!"+S(o+";"+l))};e.bfEnc=ne;const ie=(e,t,r=false)=>{const n="bfDec";t=C(t);if(t==""){return""}if(!J(t,k+"!")){c.warn(a,n,"Invalid BF Data");return""}t=t.split("!",2);t=S(C(t[1],true));t=t.split(";",2);const i=C(t[1],true);const s=C(t[0],true);t=String(s);t=A(t,!0);if(t==""){c.error(a,n,"ERR:","B64 Decode Failed");return""}const o=re(e);if(!!o.err){c.error(a,n,"ERR:","KD Failed:",o.err);return""}t=g.decryptCBC(t,o.key,o.iv);if(t==""){c.error(a,n,"ERR:","Decrypt Failed");return""}if(t==""||!h(t,d)){c.error(a,n,"ERR:","Data Checksum N/A");return""}t=t.split(d,2);const l=C(t[1],true);t=C(t[0],true);if(U(I(t))!==l){c.error(a,n,"ERR:","Data Checksum Failed");return""}t=j(t,r);if(i!==U(B(s+N+t))){c.warn(a,n,"ERR:","Checksum Failed");return""}return String(t)};e.bfDec=ie;const s=e=>{e=C(e,true);if(e==""){return{err:"Invalid IDZ (1)"}}if(!h(e,"!")){return{err:"Invalid IDZ (2)"}}const t=e.split("!");if(t.length!==3){return{err:"Invalid IDZ (3)"}}const r="dH.";const n="v3";let i="";let s="0";if(u.useBigInt()===true){i="iHg.";s="1"}else{i="i64.";s="2"}t[0]=C(t[0],true);if(t[0]!==r+i+n){return{err:"Invalid IDZ (4."+s+")"}}t[1]=y(A(S(C(t[1],true)),!0));if(t[1]==""){return{err:"Invalid IDZ (5)"}}t[2]=y(ie(T("sha3-384",r+i,P("sha224",r+i,S(w(r+i,!0)),!1),56,14,true),y(l(F(S(C(t[2],true)),62),!0))));if(t[2]==""){return{err:"Invalid IDZ (6)"}}const o=y(F(t[2],85));if(o==""){return{err:"Invalid IDZ (7)"}}t[2]=y(String(y(l(o,!0))).substring(1));if(t[2]==""){return{err:"Invalid IDZ (8)"}}t[1]=y(ee(R(P("sha3-224",r+i,"&="+o+"#",!1),92),String(t[1])));if(t[1]==""){return{err:"Invalid IDZ (9)"}}t[1]=y(String(l(S(y(F(t[1],92))),!0)).substring(1));if(t[1]==""){return{err:"Invalid IDZ (10)"}}return{csec:String(t[1]),spub:String(t[2])}};const r=e=>{e=C(e,true);let t="";let r="";if(e==""){t="Empty Idz"}else{const n=s(e);if(n.err&&n.err!=""){t=String(n.err)}else{r=C(u.getCliShad(n.csec,n.spub),true);if(r==""){t="Empty Shad"}}}return{type:"DhkxShadData",mode:String(u.getMode()),shad:String(r),err:String(t)}};e.dhkxDs=r;const se=()=>{const e={err:"?",shad:"",eidz:""};const t=u.getBaseGen();const r=u.getSrvData(t);const n=u.getCliData(t);const i=u.getSrvShad(String(r["sec"]),String(n["pub"]));const s=u.getCliShad(String(n["sec"]),String(r["pub"]));if(y(i)==""||y(s)==""||i!==s){e.err="Shad Mismatch";return e}let o="dH";if(u.useBigInt()===true){o+=".iHg"}else{o+=".i64"}const l=w("@"+r["pub"],!0);const a=Q(R(P("sha3-224",o+".","&="+l+"#",!1),92),R(S(w("$"+n["sec"],!0)),92));const c=ne(T("sha3-384",o+".",P("sha224",o+".",S(w(o+".",!0)),!1),56,14,true),R(l,85));e.err="";e.shad=String(i||"");e.eidz=String(o+".v3!"+S(b(a,!0,!1))+"!"+S(R(w(c,!0),62)));return e};e.dhkxEs=se}};smartJ$CipherCrypto.secureClass();if(typeof window!="undefined"){window.smartJ$CipherCrypto=smartJ$CipherCrypto}const smartJ$ModalBox=new class{constructor(){const r="smartJ$ModalBox";const e="r.20220730";const t=this;const n=console;let i=false;t.secureClass=()=>{if(i===true){n.warn(r,"Class is already SECURED")}else{i=true;Object.freeze(t)}};const c=jQuery;const s=typeof smartJ$Options!="undefined"&&smartJ$Options&&typeof smartJ$Options==="object"&&smartJ$Options.ModalBox!=undefined&&typeof smartJ$Options.ModalBox==="object"?smartJ$Options.ModalBox:null;const u=smartJ$Utils;let f="";let o=0;let l="";let g=200;let p=100;let a=null;const d="smart__iFModalBox_";const h=d+"_iFrame";const m=d+"_Bg";const _=d+"_Div";const $=d+"_X";const C=d+"_Ldr";const y="[X]";let S=s&&!!s.UseProtection?1:0;const w=s&&typeof s.LoaderImg=="string"&&s.LoaderImg?u.stringTrim(s.LoaderImg):"lib/js/framework/img/loading.svg";const b=s&&typeof s.LoaderBlank=="string"&&s.LoaderBlank?u.stringTrim(s.LoaderBlank):"lib/js/framework/loading.html";const A=s&&typeof s.CloseImg=="string"&&s.CloseImg?u.stringTrim(s.CloseImg):"lib/js/framework/img/close.svg";const F=s&&s.CloseAlign==="left"?"left":"right";const R=s&&typeof s.CloseBtnAltHtml=="string"&&s.CloseBtnAltHtml?u.stringTrim(s.CloseBtnAltHtml):"";const U=s&&typeof s.vAlign=="string"&&(s.vAlign=="middle"||s.vAlign=="center")?String(s.vAlign):"top";const x=s&&typeof s.DelayOpen=="number"&&s.DelayOpen&&u.isFiniteNumber(s.DelayOpen)?u.format_number_int(s.DelayOpen,false):850;const E=s&&typeof s.DelayClose=="number"&&s.DelayClose&&u.isFiniteNumber(s.DelayClose)?u.format_number_int(s.DelayClose,false):500;const O=s&&typeof s.CssOverlayBgColor=="string"&&s.CssOverlayBgColor&&String(s.CssOverlayBgColor).match(/^\#([0-9a-f]{6})$/i)?u.stringTrim(s.CssOverlayBgColor):"#333333";const N=s&&typeof s.CssOverlayOpacity=="number"&&u.isFiniteNumber(s.CssOverlayOpacity)&&u.format_number_float(s.CssOverlayOpacity,false)>=0&&u.format_number_float(s.CssOverlayOpacity,false)<=1?u.format_number_dec(s.CssOverlayOpacity,2,false,true):.85;const k=()=>{return String(h)};t.getName=k;const v=()=>{return String(f)};t.getStatus=v;const M=()=>{return String(e)};t.getVersion=M;const L=(e,t)=>{t=u.stringPureVal(t,true);if(!!e){o=1;l=String(t)}else{o=0;l=""}};t.setRefreshParent=L;const J=e=>{if(typeof e==="function"){a=e;return true}n.error(r,"ERR: setHandlerOnBeforeUnload","fx is not a function");return false};t.setHandlerOnBeforeUnload=J;const H=function(e,t=null,r=0,n=0){e=u.stringPureVal(e,true);f="visible";if(t!==null){S=t?1:0}g=u.format_number_int(parseInt(r),false);p=u.format_number_int(parseInt(n),false);c("body").css({overflow:"hidden"});c("#"+C).empty();if(w){c("#"+C).html('<br><br><img src="'+u.escape_html(w)+'" alt="..." title="...">')}P(S,g,p);const i=(new Date).getTime();if(e.indexOf("?")!=-1){e+="&"}else{e+="?"}e+=String(h+"="+u.escape_url(i));c("#"+h).show().css({width:"100%",height:"100%",visibility:"hidden"}).attr("src",String(e));let s;if(R===""){s='<img id="ifrm-close" src="'+u.escape_html(A)+'" alt="'+u.escape_html(y)+'" title="'+u.escape_html(y)+'">'}else{s=String(R)}let o="auto";let l="auto";if(F==="left"){o="-20px"}else{l="-20px"}c("#"+$).show().css({position:"absolute","z-index":2111111099,cursor:"pointer",top:"-12px",left:o,right:l,"min-width":"32px","max-width":"64px","min-height":"32px","max-height":"64px",visibility:"hidden"}).empty().html(s).click(()=>{D()});if(!t){c("#"+m).click(()=>{D()})}else{c("#"+m).unbind("click")}let a=u.format_number_int(x,false);if(a<500){a=500}if(a>1e3){a=1e3}setTimeout(()=>{V()},a);return false};t.LoadURL=H;const D=function(){let t=true;try{t=!!j()}catch(e){n.error(r,"ERR: UnloadURL",e);t=true}if(!t){return false}W();let e=u.format_number_int(E,false);if(e<250){e=250}if(e>750){e=750}setTimeout(()=>{B()},e);return false};t.UnloadURL=D;const B=function(){c("#"+_).css({position:"absolute",width:"1px",height:"1px",left:"0px",top:"0px"}).hide();c("#"+m).css({position:"absolute",width:"1px",height:"1px",left:"0px",top:"0px"}).hide();if(o){const e=u.stringTrim(l);if(e==""){self.location=self.location}else{self.location=String(e)}o=0;l=""}return false};const V=()=>{c("#"+$).css({visibility:"visible"});c("#"+h).css({"background-color":"#FFFFFF",visibility:"visible"});c("#"+C).empty().html("");return false};const j=()=>{if(typeof a==="function"){return!!a()}return true};const I=e=>{e=u.format_number_int(parseInt(e),false);if(e<=0){e=u.format_number_int(parseInt(c(window).width())-40,false)}if(e<200){e=200}return e};const T=e=>{e=u.format_number_int(parseInt(e),false);if(e<=0){e=u.format_number_int(parseInt(c(window).height())-20,false)}if(e<100){e=100}return e};const W=function(){c("#"+m).unbind("click");c("#"+$).unbind("click");c("#"+C).empty().html("");let e="auto";let t="auto";if(F==="left"){e="0px"}else{t="0px"}c("#"+$).css({position:"absolute",width:"1px",height:"1px",left:e,right:t,top:"0px"}).empty().html("").hide();c("#"+h).css({width:"1px",height:"1px"});if(b){c("#"+h).attr("src",u.escape_html(b))}c("#"+h).attr("src","").hide();c("#"+_).css({position:"absolute",width:"1px",height:"1px",left:"0px",top:"0px"}).hide();c("body").css({overflow:"auto"});f="";return false};const z=function(e,t){let r=u.format_number_int(parseInt(c(window).scrollLeft())+(parseInt(c(window).width())-e)/2)+"px";let n=u.format_number_int(parseInt(c(window).scrollTop())+10)+"px";if(U==="center"||U==="middle"){n=u.format_number_int(parseInt(c(window).scrollTop())+(parseInt(c(window).height())-t)/2)+"px"}c("#"+_).css({position:"absolute","z-index":2111111098,"text-align":"center",left:r,top:n,width:e+"px",height:t+"px"}).show()};const P=function(e,t,r){let n=I(t);let i=T(r);const s=I(0);if(s<t){n=s}const o=T(0);if(o<r){i=o}let l="auto";if(e!=1){l="pointer"}c("#"+m).css({position:"fixed","z-index":2111111097,cursor:l,"text-align":"center",left:"0px",top:"0px",width:"100%",height:"100%"}).show();z(n,i);return false};c(()=>{c("body").append('\x3c!-- SmartJS.Modal.Loader :: Start --\x3e<div id="'+u.escape_html(m)+'" data-info-smartframework="SmartFramework.Js.ModalBox: '+u.escape_html(e)+'" style="background-color:'+u.escape_html(O)+"; position:absolute; top:0px; left:0px; width:1px; height:1px; opacity: "+u.escape_html(u.format_number_dec(N,2,false,true))+';"></div><div id="'+u.escape_html(_)+'" style="position:absolute; top:0px; left:0px; width:1px; height:1px;"><center><div id="'+u.escape_html(C)+'"></div></center><div id="'+u.escape_html($)+'" title="[X]"></div><iframe name="'+u.escape_html(h)+'" id="'+u.escape_html(h)+'" width="1" height="1" scrolling="auto" src="" marginwidth="5" marginheight="5" hspace="0" vspace="0" frameborder="0"></iframe></div>\x3c!-- END: SmartJS.Modal.Loader --\x3e');B();c(window).on("resize scroll",e=>{if(v()==="visible"){P(S,g,p)}})})}};smartJ$ModalBox.secureClass();window.smartJ$ModalBox=smartJ$ModalBox;const smartJ$TestBrowser=new class{constructor(){const e="smartJ$TestBrowser";const t=this;const r=console;let n=false;t.secureClass=()=>{if(n===true){r.warn(e,"Class is already SECURED")}else{n=true;Object.freeze(t)}};const i=typeof smartJ$Options!="undefined"&&smartJ$Options&&typeof smartJ$Options==="object"&&smartJ$Options.BrowserTest!=undefined&&typeof smartJ$Options.BrowserTest==="object"?smartJ$Options.BrowserTest:null;const s=i&&i.isMobile==="yes"?"yes":i&&i.isMobile==="no"?"no":"auto";let o=typeof window!="undefined"?window:null;let l=typeof navigator!="undefined"?navigator:null;const a=function(e=false){if(s==="yes"){return true}else if(s==="no"){return false}let t=false;if(o&&(o.ontouchstart!==undefined||o.orientation!==undefined)){t=true}else if(o&&o.screen&&(o.screen.width!=undefined&&o.screen.width>0&&o.screen.width<768)&&(o.screen.height!=undefined&&o.screen.height>0&&o.screen.height<768)){if(e!==true){t=true}}return!!t};t.checkIsMobileDevice=a;const c=()=>{if(l&&l.cookieEnabled===true){return true}return false};t.checkCookies=c}};smartJ$TestBrowser.secureClass();window.smartJ$TestBrowser=smartJ$TestBrowser;const smartJ$Browser=new class{constructor(){const _N$="smartJ$Browser";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Option$=typeof smartJ$Options!="undefined"&&smartJ$Options&&typeof smartJ$Options==="object"&&smartJ$Options.BrowserUtils!=undefined&&typeof smartJ$Options.BrowserUtils==="object"?smartJ$Options.BrowserUtils:null;const _Te$tBrowser=smartJ$TestBrowser;const _Utils$=smartJ$Utils;const _Date$=smartJ$Date;const _Crypto$Hash=smartJ$CryptoHash;_C$.param_LanguageId=_Option$&&typeof _Option$.LanguageId=="string"&&_Option$.LanguageId?_Utils$.stringTrim(_Option$.LanguageId):"en";_C$.param_Charset=_Option$&&typeof _Option$.Charset=="string"&&_Option$.Charset?_Utils$.stringTrim(_Option$.Charset):"UTF-8";_C$.param_CookieLifeTime=_Option$&&typeof _Option$.CookieLifeTime=="number"&&_Option$.CookieLifeTime&&_Utils$.isFiniteNumber(_Option$.CookieLifeTime)?_Utils$.format_number_int(_Option$.CookieLifeTime,false):0;_C$.param_CookieDomain=_Option$&&typeof _Option$.CookieDomain=="string"&&_Option$.CookieDomain?_Utils$.stringTrim(_Option$.CookieDomain):"";_C$.param_CookieSameSitePolicy=_Option$&&typeof _Option$.CookieSameSitePolicy=="string"&&_Option$.CookieSameSitePolicy?_Utils$.stringTrim(_Option$.CookieSameSitePolicy):"Lax";_C$.param_Notifications=_Option$&&typeof _Option$.Notifications=="string"&&_Option$.Notifications?_Utils$.stringTrim(_Option$.Notifications):"growl";_C$.param_NotificationDialogType=_Option$&&typeof _Option$.NotificationDialogType=="string"&&_Option$.NotificationDialogType?_Utils$.stringTrim(_Option$.NotificationDialogType):"auto";_C$.param_NotificationGrowlType=_Option$&&typeof _Option$.NotificationGrowlType=="string"&&_Option$.NotificationGrowlType?_Utils$.stringTrim(_Option$.NotificationGrowlType):"auto";_C$.param_NotificationTimeOK=_Option$&&typeof _Option$.NotificationTimeOK=="number"&&_Option$.NotificationTimeOK&&_Utils$.isFiniteNumber(_Option$.NotificationTimeOK)?_Utils$.format_number_int(_Option$.NotificationTimeOK,false):1e3;_C$.param_NotificationTimeERR=_Option$&&typeof _Option$.NotificationTimeERR=="number"&&_Option$.NotificationTimeERR&&_Utils$.isFiniteNumber(_Option$.NotificationTimeERR)?_Utils$.format_number_int(_Option$.NotificationTimeERR,false):3500;_C$.param_NotifyLoadError=_Option$&&!!_Option$.NotifyLoadError?true:false;_C$.param_ModalBoxActive=_Option$&&_Option$.ModalBoxActive===2?2:_Option$&&_Option$.ModalBoxActive===0?0:1;_C$.param_ModalBoxNoCascade=_Option$&&_Option$.ModalBoxNoCascade===false?false:true;_C$.param_ModalBoxProtected=_Option$&&!!_Option$.ModalBoxProtected?true:false;_C$.param_LoaderImg=_Option$&&typeof _Option$.LoaderImg=="string"&&_Option$.LoaderImg?_Utils$.stringTrim(_Option$.LoaderImg):"lib/js/framework/img/loading.svg";_C$.param_LoaderBlank=_Option$&&typeof _Option$.LoaderBlank=="string"&&_Option$.LoaderBlank?_Utils$.stringTrim(_Option$.LoaderBlank):"lib/js/framework/loading.html";_C$.param_ImgOK=_Option$&&typeof _Option$.ImgOK=="string"&&_Option$.ImgOK?_Utils$.stringTrim(_Option$.ImgOK):"lib/framework/img/sign-ok.svg";_C$.param_ImgNotOK=_Option$&&typeof _Option$.ImgNotOK=="string"&&_Option$.ImgNotOK?_Utils$.stringTrim(_Option$.ImgNotOK):"lib/framework/img/sign-warn.svg";_C$.param_ImgCloneInsert=_Option$&&typeof _Option$.ImgCloneInsert=="string"&&_Option$.ImgCloneInsert?_Utils$.stringTrim(_Option$.ImgCloneInsert):"lib/js/framework/img/clone-insert.svg";_C$.param_ImgCloneRemove=_Option$&&typeof _Option$.ImgCloneRemove=="string"&&_Option$.ImgCloneRemove?_Utils$.stringTrim(_Option$.ImgCloneRemove):"lib/js/framework/img/clone-remove.svg";_C$.param_IconImgFullScreen=_Option$&&typeof _Option$.IconImgFullScreen=="string"&&_Option$.IconImgFullScreen?_Utils$.stringTrim(_Option$.IconImgFullScreen):"lib/js/framework/img/fullscreen-on.svg";_C$.param_CssOverlayBgColor=_Option$&&typeof _Option$.CssOverlayBgColor=="string"&&_Option$.CssOverlayBgColor&&String(_Option$.CssOverlayBgColor).match(/^\#([0-9a-f]{6})$/i)?_Utils$.stringTrim(_Option$.CssOverlayBgColor):"#FFFFFF";_C$.param_CssOverlayOpacity=_Option$&&typeof _Option$.CssOverlayOpacity=="number"&&_Utils$.isFiniteNumber(_Option$.CssOverlayOpacity)&&_Utils$.format_number_float(_Option$.CssOverlayOpacity,false)>=0&&_Utils$.format_number_float(_Option$.CssOverlayOpacity,false)<=1?_Utils$.format_number_dec(_Option$.CssOverlayOpacity,2,false,true):.85;_C$.param_TimeDelayCloseWnd=_Option$&&typeof _Option$.TimeDelayCloseWnd=="number"&&_Option$.TimeDelayCloseWnd&&_Utils$.isFiniteNumber(_Option$.TimeDelayCloseWnd)?_Utils$.format_number_int(_Option$.TimeDelayCloseWnd,false):750;let flag_PageUnloadConfirm=false;let flag_PageAway=false;let flag_RefreshState=0;let flag_RefreshURL="";let flag_DebugEnabled=false;let flag_DebugPageAway=false;const defSmartPopupTarget="smartPWin";let objRefWinPopup=null;const sfOverlayID="smart-framework-overlay";const cssAlertable="background:#555566; color:#FFFFFF; font-size:1.5rem; font-weight:bold; text-align:right; padding-top:2px; padding-bottom:2px; padding-left:7px; padding-right:7px; margin:-8px; margin-bottom:10px;";const regexValidCookieName=RegExp(/^[a-zA-Z0-9_\-]+$/);const HTTP_STATUS_CODES={200:"OK",202:"Accepted",203:"Non-Authoritative Information",208:"Already Reported",301:"Moved Permanently",302:"Found",304:"Not Modified",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};const setFlag=(e,t)=>{e=String(e||"");switch(e){case"PageUnloadConfirm":flag_PageUnloadConfirm=!!t;return true;break;case"PageAway":if(flag_DebugEnabled===true){_p$.log(_N$,"Debug is ON, the setFlag:PageAway is overriden ...");flag_DebugPageAway=!!t}else{flag_PageAway=!!t}return true;break;case"RefreshState":flag_RefreshState=!!t?1:0;return true;break;case"RefreshURL":flag_RefreshURL=_Utils$.stringPureVal(t,true);return true;break;case"DebugEnabled":flag_DebugEnabled=!!t;if(flag_DebugEnabled===true){PageAwayControl("Debug is ON. Confirm Leaving the page. This confirmation is to avoid javascript redirects without explicit confirmation when Debug is enabled.")}else{flag_PageAway=!!flag_DebugPageAway}return true;break;default:_p$.warn(_N$,"Set Invalid Flag:",e,t)}return false};_C$.setFlag=setFlag;const getFlag=e=>{e=String(e||"");switch(e){case"PageUnloadConfirm":return!!flag_PageUnloadConfirm;break;case"PageAway":return!!flag_PageAway;break;case"RefreshState":return flag_RefreshState?1:0;break;case"RefreshURL":return _Utils$.stringPureVal(flag_RefreshURL,true);break;case"DebugEnabled":return!!flag_DebugEnabled;break;default:_p$.warn(_N$,"Get Invalid Flag:",e)}return null};_C$.getFlag=getFlag;const getRefPopup=()=>objRefWinPopup;_C$.getRefPopup=getRefPopup;const getCurrentIsoDateTime=()=>{const e=new Date;return String(_Date$.getIsoDate(e,true))};_C$.getCurrentIsoDateTime=getCurrentIsoDateTime;const stripTags=e=>{e=_Utils$.stringPureVal(e);if(e==""){return""}return $("<div>"+e.replace(/(<([^>]+)>)/g," ")+"</div>").text()};_C$.stripTags=stripTags;const parseCurrentUrlGetParams=function(i=true){let s={};if(!location.search){return s}let e=String(location.search.substring(1));if(!e){return s}e.split("&").forEach(e=>{let t="";let n="";let r="";e=String(e);if(e){t=e.split("=");n=String(t[0]);if(i===true&&n.indexOf("/")!==-1){let t=n.split("/");let r=false;for(let e=0;e<t.length;e++){if(r!==true){if(t[e]!==""){r=true}else{continue}}s[String(t[e])]=String(decodeURIComponent(String(t[e+1]?t[e+1]:""))||"");e+=1}}else{s[String(t[0])]=String(decodeURIComponent(String(t[1]?t[1]:""))||"")}}});return s};_C$.parseCurrentUrlGetParams=parseCurrentUrlGetParams;const PrintPage=()=>{try{self.print()}catch(e){_p$.warn(_N$,"Print Page is N/A:",e);AlertDialog("NOTICE: Printing may not be available in your browser")}};_C$.PrintPage=PrintPage;const CountDown=function(counter,elID,evcode,prettyFormat){const _m$="CountDown";if(counter==undefined||counter==""){_p$.error(_N$,_m$,"ERR: undefined Counter Init");return}counter=_Utils$.format_number_int(counter,false);if(counter<1){return}const cdwn=setInterval(()=>{if(counter>0){counter=counter-1;if(elID!=undefined&&elID!=""){const theID=_Utils$.create_htmid(elID);let cntTxt=String(counter);if(prettyFormat===true){cntTxt=String(_Date$.prettySecondsToDHMS(counter))}if(theID!=""){$("#"+theID).empty().text(cntTxt)}}}else{clearInterval(cdwn);_Utils$.evalJsFxCode(_N$+"."+_m$,typeof evcode==="function"?()=>{"use strict";evcode(counter,elID)}:()=>{"use strict";!!evcode?eval(evcode):null})}},1e3)};_C$.CountDown=CountDown;const windowFocus=e=>{try{e.focus()}catch(e){}};_C$.windowFocus=windowFocus;const WindowIsiFrame=()=>{if(window.self!==window.top){return true}return false};_C$.WindowIsiFrame=WindowIsiFrame;const WindowIsPopup=()=>{if(window.opener){return true}return false};_C$.WindowIsPopup=WindowIsPopup;const PageAwayControl=function(i){_C$.setFlag("PageUnloadConfirm",true);i=_Utils$.stringPureVal(i,true);if(i==""){i="Confirm leaving the page ... ?"}$(window).on("beforeunload",e=>{let t=e||window.event;if(_C$.getFlag("PageAway")!=true){t.preventDefault();if(_C$.getFlag("DebugEnabled")==true){const r="*** DEBUG IS ON ***";const n="Page Leave Confirmation is ENABLED";_p$.log(_N$,r,n);if(GrowlSelectType()!=""){GrowlNotificationAdd(r,_Utils$.escape_html(n),"",1e4,false,"yellow")}}return String(i)}}).on("unload",()=>{_C$.setFlag("PageAway",true)});if(WindowIsiFrame()===true){if(typeof parent.smartJ$ModalBox!="undefined"){try{parent.smartJ$ModalBox.setHandlerOnBeforeUnload(()=>{if(_C$.getFlag("PageAway")!=true){let e=confirm(String(i));if(e){_C$.setFlag("PageAway",true)}return e}else{return true}})}catch(e){_p$.error(_N$,"ERR: PageAwayControl failed on ModalBox:",e)}}}};_C$.PageAwayControl=PageAwayControl;const RedirectToURL=e=>{e=_Utils$.stringPureVal(e,true);if(e==""){_p$.warn(_N$,"WARN: RedirectToURL: empty URL");return}setFlag("PageAway",true);if(e==="@"){self.location=self.location}else{self.location=String(e)}};_C$.RedirectToURL=RedirectToURL;const RedirectDelayedToURL=function(e,t){t=_Utils$.format_number_int(t,false);setTimeout(()=>{RedirectToURL(e)},t)};_C$.RedirectDelayedToURL=RedirectDelayedToURL;const RedirectParent=function(e){const t="RedirectParent";e=_Utils$.stringPureVal(e,true);if(e==""){_p$.warn(_N$,t,"WARN: empty URL");return}e=String(e);if(WindowIsPopup()===true){try{window.opener.location=e}catch(e){_p$.error(_N$,t,"ERR: PopUp:",e)}}else if(WindowIsiFrame()===true){try{parent.location=e}catch(e){_p$.error(_N$,t,"ERR: iFrame:",e)}}};_C$.RedirectParent=RedirectParent;const RefreshParent=function(e){const t="RefreshParent";e=_Utils$.stringPureVal(e,true);if(WindowIsPopup()===true){try{if(window.opener){if(typeof window.opener.smartJ$Browser=="undefined"||typeof window.opener.smartJ$ModalBox=="undefined"){_p$.warn(_N$,t,"ERR: N/A for PopUp Parent");return}if(window.opener.smartJ$Browser.getFlag("PageUnloadConfirm")===true){return}if(window.opener.smartJ$ModalBox.getStatus()==="visible"){window.opener.smartJ$ModalBox.setRefreshParent(1,String(e));return}window.opener.smartJ$Browser.setFlag("RefreshState",1);window.opener.smartJ$Browser.setFlag("RefreshURL",e)}}catch(e){_p$.error(_N$,t,"ERR: Failed for PopUp:",e)}}else if(WindowIsiFrame()===true){try{if(self.name){if(typeof parent.smartJ$Browser=="undefined"||typeof parent.smartJ$ModalBox=="undefined"){_p$.warn(_N$,t,"ERR: N/A for iFrame Parent");return}if(self.name===parent.smartJ$ModalBox.getName()){if(parent.smartJ$Browser.getFlag("PageUnloadConfirm")!==true){parent.smartJ$ModalBox.setRefreshParent(true,e)}}}}catch(e){_p$.error(_N$,t,"ERR: Failed from iFrame:",e)}}};_C$.RefreshParent=RefreshParent;const CloseModalPopUp=function(){const t="CloseModalPopUp";if(WindowIsPopup()===true){if(window.opener&&typeof window.opener.smartJ$Browser!="undefined"){try{if(window.opener.smartJ$Browser.getRefPopup()&&window.opener.smartJ$Browser.getRefPopup()===self){}else{if(window.opener.smartJ$Browser.getFlag("RefreshState")){if(window.opener.smartJ$Browser.getFlag("RefreshURL")){window.opener.location=String(window.opener.smartJ$Browser.getFlag("RefreshURL"))}else{window.opener.location=window.opener.location}window.opener.smartJ$Browser.setFlag("RefreshState",0);window.opener.smartJ$Browser.setFlag("RefreshURL","")}}}catch(e){_p$.error(_N$,t,"ERR: Failed with PopUp:",e)}}else{_p$.warn(_N$,t,"ERR: PopUp Parent BrowserUtils is N/A")}try{self.close()}catch(e){}}else if(WindowIsiFrame()===true){if(typeof parent.smartJ$ModalBox=="undefined"){_p$.warn(_N$,t,"ERR: iFrame Parent ModalBox is N/A");return}try{if(self.name){if(self.name===parent.smartJ$ModalBox.getName()){parent.smartJ$ModalBox.UnloadURL()}}}catch(e){_p$.error(_N$,t,"ERR: Failed with iFrame:",e)}}else{try{self.close()}catch(e){}}};_C$.CloseModalPopUp=CloseModalPopUp;const CloseDelayedModalPopUp=function(e){e=_Utils$.format_number_int(e,false);if(e<=0){e=_Utils$.format_number_int(_C$.param_TimeDelayCloseWnd,false)}if(e<100){e=100}else if(e>6e4){e=6e4}setTimeout(()=>{setFlag("PageAway",true);CloseModalPopUp()},e)};_C$.CloseDelayedModalPopUp=CloseDelayedModalPopUp;const getCurrentPointerEventXY=function(e,t=false){let r={x:-1,y:-1,t:null,q:null};if(!e){return r}let n=e;if(e.touches&&e.touches.length>0){n=e.touches[0]}let i=-1;let s=-1;if(t===true){r.q="clientXY";i=n.clientX||-1;s=n.clientY||-1}else{r.q="pageXY";i=n.pageX||-1;s=n.pageY||-1}r.x=_Utils$.format_number_int(i);r.y=_Utils$.format_number_int(s);r.t=_Utils$.stringPureVal(e.type||"unknown",true).toLowerCase();return r};_C$.getCurrentPointerEventXY=getCurrentPointerEventXY;const getHighestZIndex=function(){let n=1;let i=1;$("div").each((e,t)=>{let r=$(t);if(r.css("display")=="none"||r.css("visibility")=="hidden"||r.attr("id")=="SmartFramework___Debug_InfoBar"){}else{i=_Utils$.format_number_int(parseInt(r.css("z-index"),10));if(i>0){if(i>n){n=i}}}});if(n<2147483647){n+=1}return n};_C$.getHighestZIndex=getHighestZIndex;const createMaxContainer=function(e,t=false){e=_Utils$.stringPureVal(e,true);e=_Utils$.create_htmid(e);if(e==""){_p$.error(_N$,"ERR: createMaxContainer: empty ID");return}const r=$("#"+e);if(r.attr("data-fullscreen")=="default"||r.attr("data-fullscreen")=="fullscreen"){return}r.attr("data-fullscreen","default").append('<div style="position:absolute; top:-4px; left:-4px; width:20px; height: 20px; overflow:hidden; text-align:center; cursor:pointer; opacity:0.7;" title="Toggle Element Full Screen"><img height="20" src="'+_Utils$.escape_html(_C$.param_IconImgFullScreen)+'"></div>').css({position:"relative",border:"1px solid #DDDDDD","z-index":1}).click(e=>{const t=$(e.currentTarget);if(t.attr("data-fullscreen")=="fullscreen"){OverlayHide();t.attr("data-fullscreen","default");t.css({position:"relative",top:0,left:0,width:Math.max(_Utils$.format_number_int(parseInt(t.attr("data-width"))),100),height:Math.max(_Utils$.format_number_int(parseInt(t.attr("data-height"))),100),"z-index":1})}else{OverlayShow();OverlayClear();t.attr("data-width",String(_Utils$.escape_html(String(t.width()))));t.attr("data-height",String(_Utils$.escape_html(String(t.height()))));t.attr("data-fullscreen","fullscreen");t.css({position:"fixed",top:"7px",left:"7px",width:"99%",height:"98%","z-index":2147403e3})}});if(t===true){r.trigger("click")}};_C$.createMaxContainer=createMaxContainer;const OverlayShow=function(e,t,r,n=null,i=false){e=_Utils$.stringPureVal(e,true);t=_Utils$.stringPureVal(t,true);r=_Utils$.stringPureVal(r,true);if(r==""){r="white"}n=OverlayValidID(n);let s='style="display: none; background-color:'+_Utils$.escape_html(_C$.param_CssOverlayBgColor)+"; opacity: "+_Utils$.escape_html(_C$.param_CssOverlayOpacity)+'; position: fixed; top: -50px; left: -50px; width: 1px; height: 1px;"';if(typeof smartJ$UI=="object"){if(typeof smartJ$UI.overlayCssClass!="undefined"&&smartJ$UI.overlayCssClass!=null&&smartJ$UI.overlayCssClass!=""){s='class="'+_Utils$.escape_html(smartJ$UI.overlayCssClass)+'"'}}const o=GrowlSelectType()!=""?true:false;let l='<img src="'+_Utils$.escape_html(_C$.param_LoaderImg)+'" alt="... loading ..." style="background:transparent!important;color:#555555!important;opacity:1!important;">';if(i===true){l=""}if(o!==true){l=l+"<div>"+"<h1>"+_Utils$.escape_html(t)+"</h1>"+"<div>"+e+"</div>"+"</div>"}$("#"+n).remove();const a=$('<div id="'+_Utils$.escape_html(n)+'" '+s+"></div>").css({"z-index":21474e5,position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%"}).hide().appendTo("body");$("#"+n).html('<div style="width:100%; position:fixed; top:25px; left:0px;"><center><div>'+l+"</div></center></div>");try{a.fadeIn()}catch(e){a.show()}if(e!=""||t!=""){if(o===true){GrowlNotificationAdd(t,e,"",500,false,r)}}return a};_C$.OverlayShow=OverlayShow;const OverlayClear=(e=null)=>{e=OverlayValidID(e);$("#"+e).empty().html("")};_C$.OverlayClear=OverlayClear;const OverlayHide=function(e=null){e=OverlayValidID(e);let t=$("#"+e);try{t.fadeOut()}catch(e){t.hide()}t.css({"z-index":1,position:"fixed",top:"-50px",left:"-50px",width:1,height:1}).remove()};_C$.OverlayHide=OverlayHide;const GrowlNotificationAdd=function(t,r,e,n,i=false,s=null,o=null,l=false){const a="GrowlNotificationAdd";t=_Utils$.stringPureVal(t);if(l===true){}else{t=_Utils$.nl2br(_Utils$.escape_html(t))}r=_Utils$.stringPureVal(r,true);n=_Utils$.format_number_int(n,false);if(n<0){n=0}else if(n>6e4){n=6e4}s=_Utils$.stringPureVal(s,true);if(s=="undefined"){s=""}let c=null;let u=null;let f=null;let g=null;if(o){if(o.hasOwnProperty("before_open")){c=o.before_open}if(o.hasOwnProperty("after_open")){u=o.after_open}if(o.hasOwnProperty("before_close")){f=o.before_close}if(o.hasOwnProperty("after_close")){g=o.after_close}}const p=GrowlSelectType();if(p==="ui"){try{smartJ$UI.GrowlAdd(t,r,e,n,i,s,o)}catch(e){_p$.error(_N$,a,"ERR: growl:",e)}}else if(p==="toastr"){if(e!=undefined&&e!=""&&e!==false){e='<img src="'+_Utils$.escape_html(e)+'" align="right">'}else{e=""}s=$.toastr.translateCssClasses(s);try{$.toastr.notify({appearanceClass:String(s),title:String(String(t)+String(e)),message:String(r),onBeforeVisible:c,onVisible:u,onBeforeHidden:f,onHidden:g,timeOut:i?0:n})}catch(e){_p$.error(_N$,a,"ERR: toastr:",e)}}else{if($.isFunction(c)){c()}if($.isFunction(u)){u()}let e=()=>{if($.isFunction(f)){f()}if($.isFunction(g)){g()}};AlertDialog(r,e,t);return false}return true};_C$.GrowlNotificationAdd=GrowlNotificationAdd;const GrowlNotificationRemove=function(){const e=GrowlSelectType();switch(e){case"ui":smartJ$UI.GrowlRemove();return true;break;case"toastr":$.toastr.clear();return true;break}return false};_C$.GrowlNotificationRemove=GrowlNotificationRemove;const AlertDialog=function(e,t=null,r="",n=null,i=null,s="auto",o=false){const l="AlertDialog";e=_Utils$.stringPureVal(e,true);r=_Utils$.stringPureVal(r,true);if(o===true){}else{r=_Utils$.nl2br(_Utils$.escape_html(r))}if(s==="auto"){s=DialogSelectType()}if(s==="ui"&&typeof smartJ$UI.DialogAlert=="function"){smartJ$UI.DialogAlert(e,t,r,n,i)}else{const a="ERR: JS-Eval Failed on DialogAlert";if(s==="alertable"){$.alertable.alert((r?'<div style="'+_Utils$.escape_html(cssAlertable)+'">'+r+"</div>":"")+e,{html:true,width:n&&n>=275&&n<=960?n:550,height:i&&i>=100&&i<=720?i:270}).always(()=>{_Utils$.evalJsFxCode(_N$+"."+l+" (1)",t)})}else{r=stripTags(r);e=stripTags(e);alert(r+"\n"+e);_Utils$.evalJsFxCode(_N$+"."+l+" (2)",t)}}};_C$.AlertDialog=AlertDialog;const ConfirmDialog=function(t,r=null,n="",e=null,i=null,s="auto",o=false){const l="ConfirmDialog";t=_Utils$.stringPureVal(t,true);n=_Utils$.stringPureVal(n,true);if(o===true){}else{n=_Utils$.nl2br(_Utils$.escape_html(n))}if(s==="auto"){s=DialogSelectType()}if(s==="ui"&&typeof smartJ$UI.DialogConfirm=="function"){smartJ$UI.DialogConfirm(t,r,n,e,i)}else{const a="ERR: JS-Eval Failed on DialogConfirm";if(s==="alertable"){$.alertable.confirm((n?'<div style="'+_Utils$.escape_html(cssAlertable)+'">'+n+"</div>":"")+t,{html:true,width:e&&e>=275&&e<=960?e:550,height:i&&i>=100&&i<=720?i:270}).then(()=>{_Utils$.evalJsFxCode(_N$+"."+l+" (1)",r)})}else{n=stripTags(n);t=stripTags(t);let e=confirm(n+"\n"+t);if(e){_Utils$.evalJsFxCode(_N$+"."+l+" (2)",r)}}}};_C$.ConfirmDialog=ConfirmDialog;const MessageNotification=function(t,r,n,e,i,s){n=_Utils$.stringPureVal(n,true);e=_Utils$.stringPureVal(e,true);s=_Utils$.format_number_int(s,false);if(e==="yes"){let e=null;if(n!=undefined&&n!=""){RedirectDelayedToURL(n,s+750);e=()=>{RedirectDelayedToURL(String(n),250)}}const o={before_close:e};GrowlNotificationAdd(t,r,"",s,false,i,o)}else{let e=null;if(n!=undefined&&n!=""){e=()=>{RedirectDelayedToURL(n,100)}}AlertDialog(r,e,t,550,275)}};_C$.MessageNotification=MessageNotification;const confirmSubmitForm=function(e,t,r,n=0,i=0,s=0,o=0){e=_Utils$.stringPureVal(e,true);if(t==undefined||t==""){_p$.error(_N$,"confirmSubmitForm","ERR: Form Object is undefined");return}let l=()=>{t.submit()};r=_Utils$.stringPureVal(r,true);if(r!=""){l=()=>{PopUpSendForm(t,String(r),_Utils$.format_number_int(n,false),_Utils$.format_number_int(i,false),_Utils$.format_number_int(s,false),_Utils$.format_number_int(o,false))}}ConfirmDialog(e,l)};_C$.confirmSubmitForm=confirmSubmitForm;const PopUpSendForm=function(objForm,strTarget,windowWidth=0,windowHeight=0,forcePopUp=0,forceDims=0,evcode=null){const _m$="PopUpSendForm";strTarget=_Utils$.stringPureVal(strTarget,true);let strUrl="";try{strUrl=String(objForm.action||"")}catch(err){_p$.error(_N$,_m$,"ERR: Invalid Form Object");return}let crr_protocol=String(document.location.protocol);let crr_arr_url=strUrl.split(":");let crr_url=String(crr_arr_url[0])+":";if((crr_protocol==="http:"||crr_protocol==="https:")&&(crr_url==="http:"||crr_url==="https:")&&crr_url!==crr_protocol){forcePopUp=1}objForm.target=strTarget;if((allowModalCascading()&&forcePopUp!=1||forcePopUp==-1)&&allowModalBox()){if(typeof smartJ$ModalBox!="undefined"){objForm.target=smartJ$ModalBox.getName()}}initModalOrPopUp(_C$.param_LoaderBlank,objForm.target,windowWidth,windowHeight,forcePopUp,forceDims);let fx=()=>{objForm.submit()};if(evcode!=undefined&&evcode!=""&&evcode!="undefined"){fx=()=>{objForm.submit();try{if(typeof evcode==="function"){evcode(objForm,strTarget,forcePopUp,forceDims)}else{eval(evcode)}}catch(err){_p$.error(_N$,_m$,"ERR: Form After-Submit JS Code Failed:",err)}}}setTimeout(fx,_C$.param_TimeDelayCloseWnd+500);return false};_C$.PopUpSendForm=PopUpSendForm;const PopUpLink=function(e,t,r=0,n=0,i=0,s=0,o=-2){e=_Utils$.stringPureVal(e,true);if(e==""){return}e=String(e||"");t=_Utils$.stringPureVal(t,true);const l=String(document.location.protocol);const a=e.split(":");const c=a[0]+":";if((l==="http:"||l==="https:")&&(c==="http:"||c==="https:")&&c!==l){i=1}let u=null;let f=null;try{u=new URL(document.location).hostname;f=new URL(e).hostname}catch(e){u="";f=""}if(u!=""&&f!=""&&u!=f){if(o<-1){o=2}}initModalOrPopUp(e,t,r,n,i,s,o);return false};_C$.PopUpLink=PopUpLink;const getCookie=function(t){t=_Utils$.stringPureVal(t,true);if(t==""||!regexValidCookieName.test(t)){return null}let r;try{r=document.cookie.match(new RegExp("(^|;)\\s*"+_Utils$.preg_quote(String(t))+"=([^;\\s]*)"))}catch(e){r=[];_p$.error(_N$,"ERR: getCookie("+t+") Failed:",e)}if(r&&r.length>=3){const e=decodeURIComponent(r[2]||"")||"";return String(e)}return""};_C$.getCookie=getCookie;const setCookie=function(e,t,r=0,n="/",i="@",s="@",o=false){e=_Utils$.stringPureVal(e,true);if(e==""||!regexValidCookieName.test(e)){_p$.warn(_N$,"WARN: setCookie: Invalid Cookie Name:",e);return false}t=_Utils$.stringPureVal(t,true);let l=new Date;if(r===null){r=_C$.param_CookieLifeTime}r=_Utils$.format_number_int(r);if(r){if(r>0){l.setTime(l.getTime()+r*1e3)}else if(r<0){l.setTime(l.getTime()-3600*24-r);t=null}else{r=0}}else{r=0}if(!t){t=null;r=-1}n=_Utils$.stringPureVal(n,true);n=String(n||"/");i=_Utils$.stringPureVal(i,true);if(i==="@"){i=String(_C$.param_CookieDomain)}s=_Utils$.stringPureVal(s,true);if(s==="@"){s=String(_C$.param_CookieSameSitePolicy)}s=String(s).toLowerCase();switch(s){case"none":s="None";o=true;break;case"lax":s="Lax";break;case"strict":s="Strict";break;case"empty":default:s=""}try{document.cookie=_Utils$.escape_url(e)+"="+_Utils$.escape_url(t)+(r?"; expires="+l.toGMTString():"")+"; path="+n+(i?"; domain="+i:"")+(s?"; SameSite="+s:"")+(o?"; secure":"");return true}catch(e){_p$.warn(_N$,"WARN: Failed to setCookie:",e);return false}};_C$.setCookie=setCookie;const deleteCookie=(e,t="/",r="@",n="@",i=false)=>setCookie(e,null,-1,t,r,n,i);_C$.deleteCookie=deleteCookie;const TextAreaAddLimit=function(e,r){e=_Utils$.stringPureVal(e);if(e==""){_p$.error(_N$,"TextAreaAddLimit","Empty Element ID");return}r=_Utils$.format_number_int(r,false);if(r<1){_p$.warn(_N$,"ERR: TextArea Add Limit: Invalid Limit, will reset to 1");r=1}$("#"+e).on("change click blur keydown keyup paste",e=>{const t=$(e.currentTarget);if(t.val().length>r){t.val(t.val().substring(0,r))}t.attr("title","# Max: "+r+" ; Chars: "+(r-t.val().length)+" #")}).attr("title","# Max: "+r+" #").attr("maxlength",r)};_C$.TextAreaAddLimit=TextAreaAddLimit;const catchKeyENTER=function(e){if(!e){return true}let t=null;if(e.key){t=e.key}else if(e.which){t=e.which}else if(e.keyCode){t=e.keyCode}if(t==="Enter"||t==13){e.preventDefault();return false}return true};_C$.catchKeyENTER=catchKeyENTER;const catchKeyTAB=function(e){if(!e){return}let t=null;if(e.key){t=e.key}else if(e.which){t=e.which}else if(e.keyCode){t=e.keyCode}if(t==="Tab"||t==9){e.preventDefault();const r="\t";const n=e.target;const i=n.selectionStart;const s=n.selectionEnd;const o=n.scrollTop;const l=n.scrollLeft;if(i!=s&&n.value.slice(i,s).indexOf("\n")!=-1){const a=n.value.slice(0,i);const c=n.value.slice(i,s).replace(/\n/g,"\n"+r);const u=n.value.slice(s,n.value.length);n.value=a.concat(r).concat(c).concat(u);n.selectionStart=i+r.length;n.selectionEnd=s+r.length}else{n.value=n.value.slice(0,i).concat(r).concat(n.value.slice(i,n.value.length));if(i==s){n.selectionStart=n.selectionEnd=i+r.length}else{n.selectionStart=i+r.length;n.selectionEnd=s+r.length}}n.scrollTop=o;n.scrollLeft=l}};_C$.catchKeyTAB=catchKeyTAB;const CheckAllCheckBoxes=function(e,t,r){let n="body";if(e){n='form[name="'+_Utils$.escape_html(e)+'"]'}n+=' input[type="checkbox"]';let i=!r;$(n).each((e,t)=>{const r=$(t);i?r.prop("checked",false):r.prop("checked",true)});return false};_C$.CheckAllCheckBoxes=CheckAllCheckBoxes;const CloneElement=function(e,t,r,n){const i="CloneElement";e=_Utils$.stringPureVal(e,true);e=_Utils$.create_htmid(e);if(e==""){_p$.error(_N$,i,"ERR: Invalid elID");return}t=_Utils$.stringPureVal(t,true);t=_Utils$.create_htmid(t);if(t==""){_p$.error(_N$,i,"ERR: Invalid containerID");return}n=_Utils$.format_number_int(n,false);if(n<1){n=1}else if(n>255){n=255}const s=$("#"+e);const o=_Utils$.format_number_int(parseInt($("body").find("[id^="+"clone_control__"+e+"]").length),false);if(o<=0){s.before('<img id="'+"clone_control__"+_Utils$.escape_html(e)+'" alt="AddNew" title="Add New (Max: '+_Utils$.escape_html(n)+')" height="16" src="'+_Utils$.escape_html(_C$.param_ImgCloneInsert)+'" style="cursor:pointer; vertical-align:middle;" onClick="smartJ$Browser.CloneElement(\''+_Utils$.escape_js(e)+"', '"+_Utils$.escape_js(t)+"', '"+_Utils$.escape_js(r)+"', "+_Utils$.format_number_int(n)+");"+'">&nbsp;&nbsp;</span>');return}let l=_Utils$.format_number_int(_Utils$.format_number_int($("body").find("[id^="+"clone_of__"+e+"_"+"]").length),false);if(l<=0){l=0}if(l>=n-1){return}const a=new Date;const c=a.getTime();const u=a.getMilliseconds();const f=Math.random().toString(36);const g=_Crypto$Hash.sha1("The UUID for #"+l+" @ "+f+" :: "+c+"."+u);const p=s.clone().attr("id","clone_of__"+e+"_"+_Utils$.create_htmid(g));$("#"+t).append('<div class="cloned__'+_Utils$.escape_html(e)+'" id="'+"clone_container__"+_Utils$.escape_html(e)+"_"+_Utils$.escape_html(g)+'"><img alt="Remove" title="Remove" height="16" src="'+_Utils$.escape_html(_C$.param_ImgCloneRemove)+'" style="cursor:pointer; vertical-align:middle;" onClick="jQuery(this).parent().remove();">&nbsp;&nbsp;</div>');switch(String(r)){case"text-input":case"text-area":case"file-input":p.val("").appendTo("#"+"clone_container__"+e+"_"+_Utils$.create_htmid(g));break;case"html-element":default:p.appendTo("#"+"clone_container__"+e+"_"+_Utils$.create_htmid(g))}};_C$.CloneElement=CloneElement;const SubmitFormByAjax=function(the_form_id,url,growl="auto",evcode=null,everrcode=null,evfailcode=null,failalertable=false){const _m$="SubmitFormByAjax";growl=_Utils$.stringPureVal(growl,true);if(growl==""){growl="auto"}else if(growl!="no"){growl="yes"}let dlg="auto";if(failalertable===true){if($.alertable){dlg="alertable"}}let haveGrowl=false;switch(growl){case"no":break;case"yes":if(GrowlSelectType()!=""){haveGrowl=true}else{_p$.warn(_N$,_m$,"WARN: Growl is required but is N/A")}break;case"auto":default:if(GrowlSelectType()!=""){haveGrowl=true}}let ajax=null;if(!the_form_id){ajax=AjaxRequestFromURL(url,"GET","json")}else{ajax=AjaxRequestByForm(the_form_id,url,"json")}if(ajax===null){_p$.error(_N$,_m$,"ERR: Null XHR Object on FormID:",the_form_id);AlertDialog("<h3>FAIL: The XHR Object is NULL !</h3>",null,"ERROR",null,null,dlg);return}OverlayShow();ajax.done(msg=>{OverlayClear();if(typeof msg=="object"&&msg.hasOwnProperty("completed")&&msg.completed=="DONE"&&msg.hasOwnProperty("status")&&(msg.status=="OK"||msg.status=="ERROR")&&msg.hasOwnProperty("action")&&msg.action!=null&&msg.hasOwnProperty("title")&&msg.title!=null&&msg.hasOwnProperty("message")&&msg.message!=null&&msg.hasOwnProperty("js_evcode")&&msg.hasOwnProperty("redirect")&&msg.hasOwnProperty("replace_div")&&msg.hasOwnProperty("replace_html")){if(msg.status=="OK"){_Utils$.evalJsFxCode(_N$+"."+_m$+" (1.1)",typeof evcode==="function"?()=>{"use strict";evcode(the_form_id,url,msg)}:()=>{"use strict";!!evcode?eval(evcode):null});_Utils$.evalJsFxCode(_N$+"."+_m$+" (1.2)",typeof msg.js_evcode==="function"?()=>{"use strict";msg.js_evcode(the_form_id,url,msg)}:()=>{"use strict";!!msg.js_evcode?eval(msg.js_evcode):null});if(msg.hasOwnProperty("hide_form_on_success")&&!!msg.hide_form_on_success){if(!!the_form_id){$("form#"+the_form_id).hide()}}if(msg.redirect!=null&&msg.redirect!=""&&msg.message==""){RedirectDelayedToURL(msg.redirect,250)}else{if(msg.replace_div!=null&&msg.replace_div!=""&&msg.replace_html!=null&&msg.replace_html!=""){$("#"+msg.replace_div).empty().html(String(msg.replace_html))}if(msg.message!=""){MessageNotification(String(msg.title||""),'<img alt="ok" title="'+_Utils$.escape_html(msg.action)+'" src="'+_Utils$.escape_html(_C$.param_ImgOK)+'" align="right">'+msg.message,msg.redirect,haveGrowl===true?"yes":"no",haveGrowl===true?"green":"",_C$.param_NotificationTimeOK)}setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeOK+100)}}else{_Utils$.evalJsFxCode(_N$+"."+_m$+" (2.1)",typeof everrcode==="function"?()=>{"use strict";everrcode(the_form_id,url,msg)}:()=>{"use strict";!!everrcode?eval(everrcode):null});_Utils$.evalJsFxCode(_N$+"."+_m$+" (2.2)",typeof msg.js_evcode==="function"?()=>{"use strict";msg.js_evcode(the_form_id,url,msg)}:()=>{"use strict";!!msg.js_evcode?eval(msg.js_evcode):null});MessageNotification("* "+String(msg.title||""),'<img alt="fail" title="'+_Utils$.escape_html(msg.action)+'" src="'+_Utils$.escape_html(_C$.param_ImgNotOK)+'" align="right">'+msg.message,msg.redirect,haveGrowl===true?"yes":"no",haveGrowl===true?"red":"",_C$.param_NotificationTimeERR);setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeERR+100)}}else{_p$.warn(_N$,_m$,"WARN: Invalid Data Object Format");MessageNotification("* ERR",'<img alt="fail" src="'+_Utils$.escape_html(_C$.param_ImgNotOK)+'" align="right">'+"Invalid Form Submit Response: Unexpected Data Object Format",null,haveGrowl===true?"yes":"no",haveGrowl===true?"pink":"",_C$.param_NotificationTimeERR);setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeERR+500);_Utils$.evalJsFxCode(_N$+"."+_m$+" (3)",typeof evfailcode==="function"?()=>{"use strict";evfailcode(the_form_id,url,msg)}:()=>{"use strict";!!evfailcode?eval(evfailcode):null})}}).fail(msg=>{OverlayClear();AlertDialog("<h4>HTTP&nbsp;Status: "+_Utils$.escape_html(msg.status)+_Utils$.escape_html(HTTP_STATUS_CODES[String(msg.status)]?" "+HTTP_STATUS_CODES[String(msg.status)]:msg.statusText?msg.statusText:"Unknown")+"</h4><br>"+"\n"+"<h5>XHR Server Response NOT Validated ...</h5>"+(msg.status==401?"<h6>If the auth credentials are valid and still getting this message do a full page refresh in the browser and try again, it could be a re-auth issue !</h6>":""),typeof evfailcode==="function"?()=>{"use strict";evfailcode(the_form_id,url,msg)}:()=>{"use strict";!!evfailcode?eval(evfailcode):null},"FAIL",null,null,dlg);setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeERR+1e3)})};_C$.SubmitFormByAjax=SubmitFormByAjax;const AjaxRequestByForm=function(r,n,i){const s="AjaxRequestByForm";r=_Utils$.stringPureVal(r,true);n=_Utils$.stringPureVal(n,true);let o=null;let l=null;let a="";if(r!=""){o=$("form#"+r);if(typeof o.get(0)=="undefined"){_p$.error(_N$,s,"ERR: Form ["+r+"] was not found");return null}if(n==""){n=_Utils$.stringPureVal(o.attr("action"),true)}}if(n==""||n=="#"){_p$.error(_N$,s,"ERR: Invalid or Empty URL");return null}if(r==""){l=AjaxRequestFromURL(n,"GET",i)}else{const e=_Utils$.stringPureVal(o.attr("method"),true);const c=_Utils$.stringPureVal(o.attr("enctype"),true);let t=false;if(e.toLowerCase()=="post"&&c.toLowerCase()=="multipart/form-data"){let e=o.find("input:file");if(typeof e!="undefined"){if(typeof e.get(0)!="undefined"){t=true}}}if(t!==true){a=o.serialize();l=AjaxRequestFromURL(n,"POST",i,a)}else{try{a=new FormData(o.get(0));l=AjaxPostMultiPartToURL(n,i,a)}catch(e){a=o.serialize();l=AjaxRequestFromURL(n,"POST",i,a);const u="ERR: "+s+" FormData Object Failed. File Attachments were NOT sent ! Try to upgrade / change your browser. It may not support HTML5 File Uploads.";_p$.error(_N$,u," # Form:",r);AlertDialog(_Utils$.escape_html(u),null,"Form: "+r)}}}return l};_C$.AjaxRequestByForm=AjaxRequestByForm;const AjaxPostMultiPartToURL=function(e,t,r,n=null,i=null,s=null,o=false,l=false){const a="AjaxPostMultiPartToURL";e=_Utils$.stringPureVal(e,true);if(e==""||e=="#"){_p$.error(_N$,a,"ERR: Empty URL");return null}t=getValidjQueryAjaxType(t);let c={async:true,type:"POST",url:String(e),contentType:false,processData:false,data:r,dataType:String(t)};if(!!s&&typeof s=="object"){c.headers=s}if(n===false&&i===false){n="";i="";c.username="";c.password=""}else{n=_Utils$.stringPureVal(n,true);i=_Utils$.stringPureVal(i);if(l===true||!!n&&!!i){c.username=String(n);c.password=String(i)}}if(l===true){o=false;c.crossDomain=true}if(o===true){c.xhrFields={withCredentials:true}}return $.ajax(c)};_C$.AjaxPostMultiPartToURL=AjaxPostMultiPartToURL;const AjaxRequestFromURL=function(e,t,r,n,i=null,s=null,o=null,l=false,a=false){const c="AjaxRequestFromURL";e=_Utils$.stringPureVal(e,true);if(e==""){_p$.error(_N$,c,"ERR: Empty URL");return null}t=_Utils$.stringPureVal(t,true).toUpperCase();switch(t){case"OPTIONS":case"DELETE":case"PATCH":case"PUT":case"POST":case"HEAD":case"GET":break;default:t="GET"}r=getValidjQueryAjaxType(r);if(typeof n!="object"){n=_Utils$.stringPureVal(n)}let u={async:true,type:String(t),url:String(e),data:n,dataType:String(r)};if(!!o&&typeof o=="object"){u.headers=o}if(i===false&&s===false){i="";s="";u.username="";u.password=""}else{i=_Utils$.stringPureVal(i,true);s=_Utils$.stringPureVal(s);if(a===true||!!i&&!!s){u.username=String(i);u.password=String(s)}}if(a===true){l=false;u.crossDomain=true}if(l===true){u.xhrFields={withCredentials:true}}return $.ajax(u)};_C$.AjaxRequestFromURL=AjaxRequestFromURL;const LoadElementContentByAjax=function(n,e,i,s,o,t,r=false,l=null){const a="LoadElementContentByAjax";n=_Utils$.stringPureVal(n,true);n=_Utils$.create_htmid(n);if(n==""){_p$.error(_N$,a,"ERR: Empty Element ID");return}if(e===true){e=_C$.param_LoaderImg}e=_Utils$.stringPureVal(e,true);if(e!=""){if($("#"+n+"__"+_Utils$.create_htmid(a)).length==0){$("#"+n).prepend('<span id="'+_Utils$.escape_html(n)+"__"+_Utils$.create_htmid(a)+'"><img src="'+_Utils$.escape_html(e)+'" title="Loading ..." alt="Loading ..."></span><br>')}}let c=AjaxRequestFromURL(i,s,o,t);c.done(e=>{let t="";if(o==="json"){if(e.hasOwnProperty("div_content_html")){t=String(e.div_content_html)}}else{t=String(e)}if(r===true){$("#"+n).replaceWith(t)}else{$("#"+n).empty().html(t)}}).fail(e=>{let t=!!_C$.param_NotifyLoadError;if(l===true||l===false){t=!!l}const r="ElementID: "+n+" ; "+"URL: "+i+" ; "+"Method: "+s+" ; "+"DataType: "+o;if(t===true){GrowlNotificationAdd("HTTP Status: "+_Utils$.escape_html(e.status)+_Utils$.escape_html(HTTP_STATUS_CODES[String(e.status)]?" "+HTTP_STATUS_CODES[String(e.status)]:e.statusText?e.statusText:"Unknown"),"FAIL: Invalid Server Response for: "+_Utils$.escape_html(a)+"<br>"+"<b><i>Details:</i></b><br>"+_Utils$.nl2br(_Utils$.escape_html(_Utils$.stringReplaceAll(" ; ","\n",r))),_C$.param_ImgNotOK,0,true,"dark")}else{_p$.error(_N$,a,"ERR: Invalid Server Response","HTTP Status Code:",e.status,";",r)}$("#"+n).empty().html("")})};_C$.LoadElementContentByAjax=LoadElementContentByAjax;const windwScrollDown=function(e,t){let r=_Utils$.format_number_int(parseInt(t));if(r<0){r=_Utils$.format_number_int(parseInt($(document).height()));if(r<0){r=0}}try{e.scrollBy(0,r)}catch(e){}};_C$.windwScrollDown=windwScrollDown;const WayPoint=function(elSelector,evcode){const _m$="WayPoint";elSelector=_Utils$.stringPureVal(elSelector,true);if(elSelector==""||elSelector=="."||elSelector=="#"){_p$.error(_N$,_m$,"ERR: invalid selector:",elSelector);return}if(typeof evcode!=="function"){evcode=_Utils$.stringPureVal(evcode);if(_Utils$.stringTrim(evcode)==""){_p$.error(_N$,_m$,"ERR: empty evcode");return}}let scrollTrigger=true;const $w=$(window);$(window).scroll(()=>{if(!scrollTrigger){return}const $e=$(String(elSelector));if(!$e.length||$e.is(":hidden")){return false}const wt=$w.scrollTop(),wb=wt+$w.height(),et=$e.offset().top,eb=et+$e.height(),th=0;const shouldLoad=eb>=wt-th&&et<=wb+th;if(shouldLoad){scrollTrigger=false;_Utils$.evalJsFxCode(_N$+"."+_m$,typeof evcode==="function"?()=>{"use strict";evcode($e,elSelector)}:()=>{"use strict";!!evcode?eval(evcode):null})}})};_C$.WayPoint=WayPoint;const copyToClipboard=e=>{e=_Utils$.stringPureVal(e,true);if(e==""){return String("ERR: No ID")}const t=window;const r=document;let n;try{n=r.getElementById(e)}catch(e){return String("ERR: "+e)}try{const i=r.createRange();i.selectNode(n);t.getSelection().removeAllRanges();t.getSelection().addRange(i);r.execCommand("copy");setTimeout(()=>{t.getSelection().removeAllRanges()},250)}catch(e){return String("ERR: "+e)}return""};_C$.copyToClipboard=copyToClipboard;const VirtualFileDownload=function(e,t,r,n=null,i=false){const s="VirtualFileDownload";e=_Utils$.stringPureVal(e);t=_Utils$.stringPureVal(t,true);if(!t){t="file.none"}r=_Utils$.stringPureVal(r,true);if(!r){r="application/octet-stream"}if(n===null){n=String(_C$.param_Charset)}n=_Utils$.stringPureVal(n,true);if(i===true){n=""}else{i=false;if(n==""){n="UTF-8"}}let o=null;try{o=document.createElement("a");if(o){o.href=String("data:"+String(r)+(n?";charset="+n:"")+";base64,"+_Utils$.b64Enc(e,i));o.target="_blank";o.setAttribute("download",String(t));document.body.appendChild(o);o.style="display:none";o.click()}}catch(e){o=false;_p$.error(_N$,s,"ERR: Create Failed:",e)}if(o){setTimeout(()=>{try{document.body.removeChild(o)}catch(e){_p$.warn(_N$,s,"WARN: Remove Failed:",e)}},250)}};_C$.VirtualFileDownload=VirtualFileDownload;const VirtualImageUploadHandler=function(n,i,f,g,s,o,p,d,h,m,_){const C="VirtualImageUploadHandler";const y="Image Uploader WARNING: ";n=_Utils$.stringPureVal(n,true);n=_Utils$.create_htmid(n);if(n==""){_p$.error(_N$,C,"ERR:","Invalid uploadInput ID");return}i=_Utils$.stringPureVal(i,true);i=_Utils$.create_htmid(i);if(i==""){_p$.error(_N$,C,"ERR:","Invalid uploadPreview ID");return}if(!f){f=.85}f=_Utils$.format_number_float(f);if(f<.1){f=.1}else if(f>1){f=1}if(!g){g=.1}g=_Utils$.format_number_float(g);if(g<.01){g=.01}else if(g>2){g=2}s=_Utils$.format_number_int(s);if(s<=0){s=800}o=_Utils$.format_number_int(o);if(o<=0){o=600}if(d!==false){d=true}h=_Utils$.format_number_int(h);if(h<=0){h=s}m=_Utils$.format_number_int(m);if(m<=0){m=m}if(_!==true){_=false}if(typeof p!="function"){p=null}const S=$("#"+n);const w=$("#"+i);S.on("change",()=>{const e=S[0].files[0];if(!e){S.val("");_p$.error(_N$,C,"ERR:","Invalid File Uploader");return}let l=String(e.name||"");let a=String(e.type||"").toLowerCase();let t=_Utils$.format_number_int(e.size,false);const r=/^(image\/svg\+xml|image\/webp|image\/jpeg|image\/png|image\/gif)$/i;if(!r.test(a)){S.val("");w.text(y+"Invalid File Type - Only SVG / JPEG / WEBP / PNG or GIF Images are allowed): "+a);return}if(t<43){S.val("");w.text(y+"Invalid File Size - Image size is empty or too small");return}else if(t>1024*1024*32){S.val("");w.text(y+"Invalid File Size - Image is larger than 32MB");return}const c='<div title="Remove the Image" style="width:20px; height:20px; line-height:20px; font-size:15px; font-weight:bold; color:#111111; cursor:pointer;" onClick="jQuery(\'#'+_Utils$.escape_js(n)+"').val(''); jQuery('#"+_Utils$.escape_js(i)+"').html('');\">&times;</div>";w.html(c);try{const u=new FileReader;u.onloadend=()=>{w.append('<img id="uxm-img-uploader-result-img" src="'+_Utils$.escape_html(u.result)+'" style="max-width:'+_Utils$.escape_html(s)+"px; max-height:"+_Utils$.escape_html(o)+'px; width:auto !important; height:auto !important;">');setTimeout(()=>{const e=String(a).toLowerCase()==="image/svg+xml"?true:false;const t=$("#uxm-img-uploader-result-img");let n=false;let i=Math.round(t.width())||1;let s=Math.round(t.height())||1;let r=false;if(_===true){if(a==="image/gif"){r=true}}if(e||r){if(String(u.result).length<=1024*1024*g){n=true;if(typeof p=="function"){try{p(String(u.result),i,s,e,String(a),String(u.result).length,String(l))}catch(e){S.val("");_p$.error(_N$,C,"ERR:","SVG CallBack Failed:",e);return}}}else{S.val("");w.text(y+"Size is higher than allowed size: "+String(u.result).length+" Bytes")}if(n){w.empty().html("");if(!d){w.html(String(c)+"\n"+'<img id="uxm-img-uploader-result-img" src="'+_Utils$.escape_html(u.result)+'" style="max-width:'+_Utils$.escape_html(h)+"px; max-height:"+_Utils$.escape_html(m)+'px; width:auto !important; height:auto !important;">')}}}else{$("#uxm-img-uploader-result-img").remove();w.append('<canvas id="uxm-img-uploader-result-cnvs" width="'+_Utils$.escape_html(i)+'" height="'+_Utils$.escape_html(s)+'" style="border: 1px dotted #ECECEC;"></canvas>');const o=new Image;o.width=i;o.height=s;o.onload=()=>{const e=$("#uxm-img-uploader-result-cnvs")[0];if(!e){S.val("");_p$.error(_N$,C,"ERR:","Failed to Get Resizable Container");return}const t=e.getContext("2d");if(!t){S.val("");_p$.error(_N$,C,"ERR:","Failed to Get Resizable Container Context");return}try{t.drawImage(o,0,0,i,s)}catch(e){S.val("");_p$.error(_N$,C,"ERR:","Failed to Draw Canvas Image:",e);return}const r=e.toDataURL(String(a),f);if(String(r).length<=1024*1024*g){n=true;if(typeof p=="function"){try{p(String(r),i,s,false,String(a),String(r).length,String(l))}catch(e){S.val("");_p$.error(_N$,C,"ERR:","IMG CallBack Failed:",e);return}}if(n){w.empty().html("");if(!d){w.html(String(c)+"\n"+'<img id="uxm-img-uploader-result-img" src="'+_Utils$.escape_html(r)+'" style="max-width:'+_Utils$.escape_html(h)+"px; max-height:"+_Utils$.escape_html(m)+'px; width:auto !important; height:auto !important;">')}}}else{S.val("");w.text(y+"Image Size after resize is higher than allowed size: "+String(r).length+" Bytes");return}};o.src=String(u.result)}},500)};try{u.readAsDataURL(e)}catch(e){S.val("");_p$.error(_N$,C,"ERR: Failed to Read Data URL:",e);return}}catch(e){S.val("");_p$.error(_N$,C,"ERR:",e);return}})};_C$.VirtualImageUploadHandler=VirtualImageUploadHandler;const allowModalBox=function(){let e=false;if(_C$.param_ModalBoxActive==1&&!_Te$tBrowser.checkIsMobileDevice()){e=!!_C$.param_ModalBoxActive}else if(_C$.param_ModalBoxActive>1){e=!!_C$.param_ModalBoxActive}return!!e};const allowModalCascading=function(){const t="allowModalCascading";let e=true;if(!!_C$.param_ModalBoxNoCascade){e=false}try{if(typeof smartJ$ModalBox!="undefined"){if(self.name){if(self.name==smartJ$ModalBox.getName()){return e}}}}catch(e){_p$.error(_N$,t,"ERR: Failed for Self:",e)}try{if(typeof parent.smartJ$ModalBox!="undefined"){if(parent.name){if(parent.name==parent.smartJ$ModalBox.getName()){return e}}}}catch(e){_p$.error(_N$,t,"ERR: Failed for Parent:",e)}return true};const OverlayValidID=e=>{e=_Utils$.stringPureVal(e,true);e=_Utils$.create_htmid(e);if(e==""){e=String(sfOverlayID)}return String(e)};const DialogSelectType=()=>{switch(_C$.param_NotificationDialogType){case"alertable":if(typeof $.alertable!="undefined"){return"alertable"}break;case"ui":case"auto":if(typeof smartJ$UI=="object"&&typeof smartJ$UI.DialogAlert=="function"&&typeof smartJ$UI.DialogConfirm=="function"){return"ui"}else if(_C$.param_NotificationDialogType==="auto"&&typeof $.alertable!="undefined"){return"alertable"}break}return"native"};const GrowlSelectType=()=>{if(_C$.param_Notifications!=="growl"){return""}switch(_C$.param_NotificationGrowlType){case"toastr":if(typeof $.toastr!="undefined"){return"toastr"}break;case"ui":case"auto":if(typeof smartJ$UI!="undefined"&&typeof smartJ$UI.GrowlAdd=="function"&&typeof smartJ$UI.GrowlRemove=="function"){return"ui"}else if(_C$.param_NotificationGrowlType==="auto"&&typeof $.toastr!="undefined"){return"toastr"}break}return""};const getValidjQueryAjaxType=e=>{e=_Utils$.stringPureVal(e,true);switch(e){case"jsonp":case"json":case"script":case"html":case"xml":case"text":break;default:e="text"}return String(e)};const initModalOrPopUp=function(c,u,f,g,e,t,p){const d="initModalOrPopUp";c=_Utils$.stringPureVal(c);u=_Utils$.stringPureVal(u);f=_Utils$.format_number_int(parseInt(f),false);g=_Utils$.format_number_int(parseInt(g),false);e=_Utils$.format_number_int(parseInt(e),true);t=_Utils$.format_number_int(parseInt(t),true);p=_Utils$.format_number_int(parseInt(p),true);if((typeof smartJ$ModalBox!="undefined"&&allowModalCascading()&&e!=1||e==-1)&&allowModalBox()){if(p<=0){smartJ$ModalBox.setRefreshParent(_C$.getFlag("RefreshState"),_C$.getFlag("RefreshURL"))}_C$.setFlag("RefreshState",0);_C$.setFlag("RefreshURL","");if(t!=1){smartJ$ModalBox.LoadURL(c,_C$.param_ModalBoxProtected)}else{smartJ$ModalBox.LoadURL(c,_C$.param_ModalBoxProtected,f,g)}}else{if(u==""||u.toLowerCase()=="_blank"||u.toLowerCase()=="_self"){u=String(defSmartPopupTarget)}let e=0;try{e=_Utils$.format_number_int(parseInt(screen.width))}catch(e){}if(e<=0){e=920}let t=0;try{t=_Utils$.format_number_int(parseInt(screen.height))}catch(e){}if(t<=0){t=700}let r=_Utils$.format_number_int(Math.round(e*.9));if(f>r){f=r}let n=_Utils$.format_number_int(Math.round(t*.8));if(g>n){g=n}if(f<200||g<100){f=r;g=n}let i=50;let s=_Utils$.format_number_int(Math.round(e/2-f/2));if(s<10){s=10}if(objRefWinPopup){windowFocus(objRefWinPopup)}let o=true;let l=true;if(p==-1){l=false}else if(p==1){o=false}else if(p==2){o=false;l=false}let a=String(_C$.param_LoaderBlank);if(l!==true){a=c}try{objRefWinPopup=window.open(a,u,"top="+i+",left="+s+",width="+f+",height="+g+",toolbar=0,scrollbars=1,resizable=1")}catch(e){_p$.error(_N$,d,"ERROR raising a new PopUp Window:",e)}if(objRefWinPopup){windowFocus(objRefWinPopup);if(l===true){try{setTimeout(()=>{objRefWinPopup.location=c},_C$.param_TimeDelayCloseWnd)}catch(e){_p$.error(_N$,d,"ERROR redirecting the PopUp Window to ["+c+"]:",e)}}if(o!==true){_C$.setFlag("RefreshState",0);_C$.setFlag("RefreshURL","")}else{try{const h=setInterval(()=>{if(getFlag("PageAway")!==true){let e=_C$.getRefPopup();if(e&&e.closed){clearInterval(h);try{if(_C$.getFlag("RefreshState")){if(!_C$.getFlag("RefreshURL")){self.location=self.location}else{self.location=String(_C$.getFlag("RefreshURL"))}_C$.setFlag("RefreshState",0);_C$.setFlag("RefreshURL","")}}catch(e){_p$.warn(_N$,d,"WARN: Failed to Set Refresh on Self:",e)}return false}}},250)}catch(e){}}}}}}};smartJ$Browser.secureClass();window.smartJ$Browser=smartJ$Browser;(()=>{const h=console;const m=jQuery;const _=smartJ$Utils;const $=smartJ$Browser;const e=smartJ$ModalBox;m(()=>{const d=e.getVersion();m("body").on("click","a[data-smart]",e=>{const t=m(e.currentTarget);const r=t.attr("data-smart");if(!r){return true}const n=RegExp(/^open.modal/i).test(r);const i=RegExp(/^open.popup/i).test(r);if(n!==true&&i!==true){return true}const s=_.stringPureVal(t.attr("href"),true);if(s==""){h.error("iFrmBox Scanner ("+d+")","The Clicked Data-Smart ["+r+"] Link has no Href Attribute: `"+_.stringTrim(t.text())+"`");return false}let o=_.stringPureVal(t.attr("target"),true);if(o==""){o="_blank"}let l=_.format_number_int(parseInt(m(window).width()),false);if(l<200){l=200}let a=parseInt(m(window).height());if(a<100){a=100}const c=r.match(/[0-9]+(\.[0-9][0-9]?)?/g);let u=l;let f=a;let g=c&&c[2]>0?c[2]:0;if(c){if(c[0]>0){if(c[0]<1){u=c[0]*l}else{u=c[0]}}if(c[1]>0){if(c[1]<1){f=c[1]*a}else{f=c[1]}}}u=_.format_number_int(parseInt(u),false);f=_.format_number_int(parseInt(f),false);g=_.format_number_int(parseInt(g),false);if(u>l){u=_.format_number_int(parseInt(l*.9),false)}if(u<200){u=200}if(f>a){f=_.format_number_int(parseInt(a*.9),false)}if(f<100){f=100}let p=0;switch(g){case 1:p=-1;break;default:p=0}if(n===true){$.PopUpLink(s,o,u,f,p,1)}else if(i===true){$.PopUpLink(s,o,u,f,1,1)}return false})})})();
// #END
