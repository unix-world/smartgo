// JS-Script (US): smart-framework.pak.js @ 2023-02-05 17:45:45 +0000
const smartJ$Utils=new class{constructor(){"use strict";const _N$="smartJ$Utils";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const debug=false;const evalJsFxCode=(fxContext,jsCode,alertErr=false)=>{if(jsCode!=undefined){const _m$="evalJsFxCode";const errMsg="Js Code Eval FAILED";const errHint="See the javascript console for more details ...";fxContext=stringPureVal(fxContext);if(typeof jsCode==="function"){try{jsCode()}catch(err){_p$.error(_N$,_m$,"ERR:",errMsg,"Context:",fxContext,"[F]","JS Errors:",err);if(alertErr===true){alert("JS Errors: "+errMsg+" in [F] Context: "+fxContext+"\n"+errHint)}return false}}else{jsCode=stringPureVal(jsCode,true);if(stringIStartsWith(jsCode,"javascript:")){jsCode=jsCode.substr(11);jsCode=stringTrim(jsCode)}if(typeof jsCode==="string"&&jsCode!="undefined"&&jsCode!=""){try{eval("(() => { "+"\n"+" 'use strict';"+"\n"+String(jsCode)+"\n"+" })();")}catch(err){_p$.error(_N$,_m$,"ERR:",errMsg,"Context:",fxContext,"[S]","JS Errors:",err);if(alertErr===true){alert("JS Errors: "+errMsg+" in [S] Context: "+fxContext+"\n"+errHint)}return false}}}}return true};_C$.evalJsFxCode=evalJsFxCode;const isFiniteNumber=num=>!!(typeof num!="number")?false:!!(Number.isFinite(num)&&!Number.isNaN(num));_C$.isFiniteNumber=isFiniteNumber;const stringPureVal=(input,trim)=>{if(typeof input=="undefined"||input===undefined||input===null||input===false||typeof input==="object"||typeof input==="function"){input=""}else if(input===true){input="1"}else{input=String(input)}if(trim===true){input=stringTrim(input)}return String(input)};_C$.stringPureVal=stringPureVal;const stringTrim=str=>{str=String(str==undefined?"":str);if(str==""){return""}return String(str.replace(/^\s\s*/,"").replace(/\s\s*$/,""))};_C$.stringTrim=stringTrim;const stringUcFirst=str=>{str=String(str==undefined?"":str);if(str==""){return""}if(str.length>1){return String(str.charAt(0).toUpperCase()+str.substr(1))}else{return String(str.toUpperCase())}};_C$.stringUcFirst=stringUcFirst;const stringUcWords=str=>{str=String(str==undefined?"":str);if(str==""){return""}return String(str.toLowerCase().replace(/^(.)|\s+(.)/g,$1=>$1?String($1).toUpperCase():""))};_C$.stringUcWords=stringUcWords;const stringReplaceAll=(token,newToken,str)=>{str=String(str==undefined?"":str);if(str==""){return""}return String(str.split(token).join(newToken))};_C$.stringReplaceAll=stringReplaceAll;const stringIReplaceAll=function(token,newToken,str){str=String(str==undefined?"":str);if(str==""){return""}if(typeof token==="string"&&typeof newToken==="string"){token=token.toLowerCase();let i=-1;while((i=str.toLowerCase().indexOf(token,i>=0?i+newToken.length:0))!==-1){str=String(str.substring(0,i)+newToken+str.substring(i+token.length))}}return String(str)};_C$.stringIReplaceAll=stringIReplaceAll;const stringRegexMatchAll=function(str,regexp){str=String(str==undefined?"":str);if(str==""){return[]}if(regexp==undefined){return[]}if(!(regexp instanceof RegExp)){_p$.error(_N$,"ERR: stringRegexMatchAll: 2nd param must be a Regex and is not");return[]}let matches=[];if(String.prototype.matchAll){try{matches=Array.from(str.matchAll(regexp))}catch(err){_p$.error(_N$,"ERR: stringRegexMatchAll (1):",err);return[]}}else{const getRegexLimitCycles=()=>{const RegexRecursionLimit=8e5;const min=1e5;const max=min*10;let cycles=RegexRecursionLimit;if(cycles<min){cycles=min}else if(cycles>max){cycles=max}return cycles};const maxloops=getRegexLimitCycles();let match=null;let loopidx=0;try{while((match=regexp.exec(str))!==null){if(match.index===regexp.lastIndex){regexp.lastIndex++}matches.push(match);loopidx++;if(loopidx>=maxloops){_p$.warn(_N$,"WARN: stringRegexMatchAll hardlimit loop (2). Max recursion depth is",maxloops);break}}}catch(err){_p$.error(_N$,"ERR: stringRegexMatchAll (2):",err);return[]}}return matches};_C$.stringRegexMatchAll=stringRegexMatchAll;const strContains=(str,search,pos=0,caseInsensitive=false)=>{str=String(str==undefined?"":str);if(str==""){return false}search=String(search==undefined?"":search);if(search==""){return false}if(pos==undefined){pos=0}pos=format_number_int(pos);if(pos<0){_p$.error(_N$,"ERR: stringContains: Position is Negative:",pos);return false}if(caseInsensitive===true){str=str.toLowerCase();search=search.toLowerCase()}return!!str.includes(search,pos)};const stringContains=(str,search,pos=0)=>!!strContains(str,search,pos,false);_C$.stringContains=stringContains;const stringIContains=(str,search,pos=0)=>!!strContains(str,search,pos,true);_C$.stringIContains=stringIContains;const strStartsWith=(str,search,caseInsensitive=false)=>{str=String(str==undefined?"":str);if(str==""){return false}search=String(search==undefined?"":search);if(search==""){return false}if(caseInsensitive===true){str=str.toLowerCase();search=search.toLowerCase()}return!!str.startsWith(search,0)};const stringStartsWith=(str,search)=>!!strStartsWith(str,search,false);_C$.stringStartsWith=stringStartsWith;const stringIStartsWith=(str,search)=>!!strStartsWith(str,search,true);_C$.stringIStartsWith=stringIStartsWith;const strEndsWith=(str,search,caseInsensitive=false)=>{str=String(str==undefined?"":str);if(str==""){return false}search=String(search==undefined?"":search);if(search==""){return false}if(caseInsensitive===true){str=str.toLowerCase();search=search.toLowerCase()}return!!str.endsWith(search)};const stringEndsWith=(str,search)=>!!strEndsWith(str,search,false);_C$.stringEndsWith=stringEndsWith;const stringIEndsWith=(str,search)=>!!strEndsWith(str,search,true);_C$.stringIEndsWith=stringIEndsWith;const preg_quote=str=>{str=String(str==undefined?"":str);if(str==""){return""}return String(str.replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:\-\#])/g,"\\$1"))};_C$.preg_quote=preg_quote;const stringSplitbyChar=function(str,by){str=String(str==undefined?"":str);if(str==""){return[]}by=String(by==undefined?"":by);let regex=false;switch(by){case"=":regex=true;break;case":":regex=true;break;case";":regex=true;break;case",":regex=true;break;default:regex=false}if(!regex){return[]}regex=new RegExp("\\s*"+preg_quote(by)+"\\s*");str=stringTrim(str);return str.split(regex)};const stringSplitbyEqual=str=>stringSplitbyChar(str,"=");_C$.stringSplitbyEqual=stringSplitbyEqual;const stringSplitbyColon=str=>stringSplitbyChar(str,":");_C$.stringSplitbyColon=stringSplitbyColon;const stringSplitbySemicolon=str=>stringSplitbyChar(str,";");_C$.stringSplitbySemicolon=stringSplitbySemicolon;const stringSplitbyComma=str=>stringSplitbyChar(str,",");_C$.stringSplitbyComma=stringSplitbyComma;const arrayGetFirst=arr=>arr instanceof Array?arr.shift():null;_C$.arrayGetFirst=arrayGetFirst;const arrayGetLast=arr=>arr instanceof Array?arr.pop():null;_C$.arrayGetLast=arrayGetLast;const format_number_float=(num,allow_negatives=true)=>{if(num==undefined){num=0}num=Number(num);num=isFiniteNumber(num)?num:0;if(allow_negatives!==true){if(num<0){num=0}}num=Number(num);return isFiniteNumber(num)?num:0};_C$.format_number_float=format_number_float;const format_number_int=(num,allow_negatives=true)=>{if(num==undefined){num=0}num=Number(num);num=isFiniteNumber(num)?Math.round(num):0;if(!Number.isInteger(num)){num=0}if(allow_negatives!==true){if(num<0){num=0}}if(!Number.isSafeInteger(num)){if(num>0){num=Number.MAX_SAFE_INTEGER}else if(num<0){num=Number.MIN_SAFE_INTEGER}}num=Number(num);return isFiniteNumber(num)&&Number.isInteger(num)?num:0};_C$.format_number_int=format_number_int;const format_number_dec=(num,decimals=2,allow_negatives=true,discard_trailing_zeroes=false)=>{if(num==undefined){num=0}if(decimals==undefined){decimals=2}decimals=format_number_int(decimals,false);if(decimals<1){decimals=1}else if(decimals>13){decimals=13}if(allow_negatives!==false){allow_negatives=true}if(discard_trailing_zeroes!==true){discard_trailing_zeroes=false}num=format_number_float(num,allow_negatives);if(allow_negatives!==true){if(num<0){num=0}}num=num.toFixed(decimals);if(discard_trailing_zeroes!==false){num=Number.parseFloat(num)}return String(num)};_C$.format_number_dec=format_number_dec;const stripslashes=function(str){str=String(str==undefined?"":str);if(str==""){return""}const replacer=(s,n1)=>{switch(n1){case"\\":return"\\";case"0":return"\0";case"":return"";default:return String(n1)}};return String(str.replace(/\\(.?)/g,replacer))};_C$.stripslashes=stripslashes;const addcslashes=function(str,charlist){str=String(str==undefined?"":str);if(str==""){return""}charlist=String(charlist==undefined?"":charlist);if(charlist==""){return""}let target="",chrs=[],i=0,j=0,c="",next="",rangeBegin="",rangeEnd="",chr="",begin=0,end=0,octalLength=0,postOctalPos=0,cca=0,escHexGrp=[],encoded="";const percentHex=/%([\dA-Fa-f]+)/g;const _pad=(n,c)=>{if((n=String(n)).length<c){return new Array(++c-n.length).join("0")+n}return n};for(i=0;i<charlist.length;i++){c=charlist.charAt(i);next=charlist.charAt(i+1);if(c==="\\"&&next&&/\d/.test(next)){rangeBegin=charlist.slice(i+1).match(/^\d+/)[0];octalLength=rangeBegin.length;postOctalPos=i+octalLength+1;if(charlist.charAt(postOctalPos)+charlist.charAt(postOctalPos+1)===".."){begin=rangeBegin.charCodeAt(0);if(/\\\d/.test(charlist.charAt(postOctalPos+2)+charlist.charAt(postOctalPos+3))){rangeEnd=charlist.slice(postOctalPos+3).match(/^\d+/)[0];i+=1}else if(charlist.charAt(postOctalPos+2)){rangeEnd=charlist.charAt(postOctalPos+2)}else{_p$.error(_N$,"ERR: addcslashes: Range with no end point (1)")}end=rangeEnd.charCodeAt(0);if(end>begin){for(j=begin;j<=end;j++){chrs.push(String.fromCharCode(j))}}else{chrs.push(".",rangeBegin,rangeEnd)}i+=rangeEnd.length+2}else{chr=String.fromCharCode(parseInt(rangeBegin,8));chrs.push(chr)}i+=octalLength}else if(next+charlist.charAt(i+2)===".."){rangeBegin=c;begin=rangeBegin.charCodeAt(0);if(/\\\d/.test(charlist.charAt(i+3)+charlist.charAt(i+4))){rangeEnd=charlist.slice(i+4).match(/^\d+/)[0];i+=1}else if(charlist.charAt(i+3)){rangeEnd=charlist.charAt(i+3)}else{_p$.error(_N$,"ERR: addcslashes: Range with no end point (2)")}end=rangeEnd.charCodeAt(0);if(end>begin){for(j=begin;j<=end;j++){chrs.push(String.fromCharCode(j))}}else{chrs.push(".",rangeBegin,rangeEnd)}i+=rangeEnd.length+2}else{chrs.push(c)}}for(i=0;i<str.length;i++){c=str.charAt(i);if(chrs.indexOf(c)!==-1){target+="\\";cca=c.charCodeAt(0);if(cca<32||cca>126){switch(c){case"\n":target+="n";break;case"\t":target+="t";break;case"\r":target+="r";break;case"\x07":target+="a";break;case"\v":target+="v";break;case"\b":target+="b";break;case"\f":target+="f";break;default:encoded=encodeURIComponent(c);let escHexGrps=stringRegexMatchAll(encoded,percentHex);let z;for(z=0;z<escHexGrps.length;z++){if(z>0){target+="\\"}target+=_pad(parseInt(escHexGrps[z][1],16).toString(8),3)}break}}else{target+=c}}else{target+=c}}return String(target?target:"")};_C$.addcslashes=addcslashes;const escape_css=str=>{str=String(str==undefined?"":str);if(str==""){return""}return String(addcslashes(String(str==undefined?"":str),"\0..\x1f!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~"))};_C$.escape_css=escape_css;const htmlspecialchars=(str,flag="ENT_COMPAT")=>{str=String(str==undefined?"":str);if(str==""){return""}flag=String(flag==undefined?"":flag);if(flag==""){flag="ENT_COMPAT"}str=str.replace(/&/g,"&amp;");str=str.replace(/\</g,"&lt;");str=str.replace(/\>/g,"&gt;");if(flag=="ENT_QUOTES"){str=str.replace(/"/g,"&quot;");str=str.replace(/'/g,"&#039;")}else if(flag!="ENT_NOQUOTES"){str=str.replace(/"/g,"&quot;")}return String(str)};_C$.htmlspecialchars=htmlspecialchars;const escape_html=str=>String(htmlspecialchars(str,"ENT_COMPAT"));_C$.escape_html=escape_html;const escape_js=function(str){str=String(str==undefined?"":str);if(str==""){return""}const escape_unicode=str=>{str=String(str==undefined?"":str);if(str==""){return""}return String("\\u"+("0000"+str.charCodeAt(0).toString(16)).slice(-4).toLowerCase())};const replace_meta=str=>{str=String(str==undefined?"":str);if(str==""){return""}switch(str){case"\b":str="\\b";break;case"\t":str="\\t";break;case"\n":str="\\n";break;case"\f":str="\\f";break;case"\r":str="\\r";break;case"\\":str="\\\\";break;default:str=escape_unicode(str)}return String(str)};let encoded="";encoded=str.replace(/[\x00-\x1f\x7f-\x9f\\]/g,a=>replace_meta(a));encoded=encoded.replace(/[\u007F-\uFFFF]/g,c=>escape_unicode(c));encoded=encoded.replace(/[\u0026]/g,"\\u0026");encoded=encoded.replace(/[\u0022]/g,"\\u0022");encoded=encoded.replace(/[\u0027]/g,"\\u0027");encoded=encoded.replace(/[\u003C]/g,"\\u003C");encoded=encoded.replace(/[\u003E]/g,"\\u003E");encoded=encoded.replace(/[\/]/g,"\\/");return String(encoded)};_C$.escape_js=escape_js;const escape_url=str=>{str=String(str==undefined?"":str);if(str==""){return""}str=String(encodeURIComponent(str));str=str.replace("!","%21");str=str.replace("'","%27");str=str.replace("(","%28");str=str.replace(")","%29");str=str.replace("*","%2A");return String(str)};_C$.escape_url=escape_url;const nl2br=str=>{str=String(str==undefined?"":str);if(str==""){return""}return String(str.replace(/\r\n/g,/\n/).replace(/\r/g,/\n/).replace(/\n/g,"<br>"))};_C$.nl2br=nl2br;const utf8_encode=function(str){str=String(str==undefined?"":str);if(str==""){return""}let utftext="";str=str.replace(/\r\n/g,/\n/).replace(/\r/g,/\n/);for(let n=0;n<str.length;n++){let c=str.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else if(c>127&&c<2048){utftext+=String.fromCharCode(c>>6|192);utftext+=String.fromCharCode(c&63|128)}else{utftext+=String.fromCharCode(c>>12|224);utftext+=String.fromCharCode(c>>6&63|128);utftext+=String.fromCharCode(c&63|128)}}return String(utftext)};_C$.utf8_encode=utf8_encode;const utf8_decode=function(utftext){utftext=String(utftext==undefined?"":utftext);if(utftext==""){return""}let str="";let i=0;let c,c1,c2,c3;c=c1=c2=c3=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){str+=String.fromCharCode(c);i++}else if(c>191&&c<224){c2=utftext.charCodeAt(i+1);str+=String.fromCharCode((c&31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);str+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63);i+=3}}return String(str)};_C$.utf8_decode=utf8_decode;const deaccent_str=function(strIn){strIn=String(strIn==undefined?"":strIn);if(strIn==""){return""}const data_accented="\xe1\xe2\xe3\xe4\xe5\u0101\u0103\u0105\xc1\xc2\xc3\xc4\xc5\u0100\u0102\u0104\u0107\u0109\u010d\xe7\u0106\u0108\u010c\xc7\u010f\u010e\xe8\xe9\xea\xeb\u0113\u0115\u0117\u011b\u0119\xc8\xc9\xca\xcb\u0112\u0114\u0116\u011a\u0118\u011d\u0123\u011c\u0122\u0125\u0127\u0124\u0126\xec\xed\xee\xef\u0129\u012b\u012d\u0209\u020b\u012f\xcc\xcd\xce\xcf\u0128\u012a\u012c\u0208\u020a\u012e\u0133\u0135\u0132\u0134\u0137\u0136\u013a\u013c\u013e\u0142\u0139\u013b\u013d\u0141\xf1\u0144\u0146\u0148\xd1\u0143\u0145\u0147\xf3\xf4\xf5\xf6\u014d\u014f\u0151\xf8\u0153\xd2\xd3\xd4\xd5\xd6\u014c\u014e\u0150\xd8\u0152\u0155\u0157\u0159\u0154\u0156\u0158\u0219\u015f\u0161\u015b\u015d\u0161\u0218\u015e\u0160\u015a\u015c\u0160\u021b\u0163\u0165\u021a\u0162\u0164\xf9\xfa\xfb\xfc\u0169\u016b\u016d\u016f\u0171\u0173\xd9\xda\xdb\xdc\u0168\u016a\u016c\u016e\u0170\u0172\u0175\u0174\u1e8f\u1ef3\u0177\xff\xfd\u1e8e\u1ef2\u0176\u0178\xdd\u017a\u017c\u017e\u0179\u017b\u017d";const data_deaccented="aaaaaaaaAAAAAAAAccccCCCCdDeeeeeeeeeEEEEEEEEEggGGhhHHiiiiiiiiiiIIIIIIIIIIjjJJkKllllLLLLnnnnNNNNoooooooooOOOOOOOOOOrrrRRRssssssSSSSSStttTTTuuuuuuuuuuUUUUUUUUUUwWyyyyyYYYYYzzzZZZ";strIn=strIn.split("");let len=strIn.length;let strOut=new Array;let theIdxFound=-1;for(let y=0;y<len;y++){theIdxFound=data_accented.indexOf(strIn[y]);if(theIdxFound!==-1){strOut[y]=data_deaccented.substr(theIdxFound,1)}else{strOut[y]=strIn[y]}}strOut=strOut.join("");return String(strOut)};_C$.deaccent_str=deaccent_str;const bin2hex=function(s,bin=false){s=String(s==undefined?"":s);if(s==""){return""}if(bin!==true){s=String(utf8_encode(s))}let hex="";let i,l,n;for(i=0,l=s.length;i<l;i++){n=s.charCodeAt(i).toString(16);hex+=n.length<2?"0"+n:n}return String(hex).toLowerCase()};_C$.bin2hex=bin2hex;const hex2bin=function(hex,bin=false){hex=String(hex==undefined?"":hex);hex=String(stringTrim(hex)).toLowerCase();if(hex==""){return""}let bytes=[],str;for(let i=0;i<hex.length-1;i+=2){bytes.push(parseInt(hex.substr(i,2),16))}if(bin!==true){return String(utf8_decode(String.fromCharCode.apply(String,bytes)))}else{return String.fromCharCode.apply(String,bytes)}};_C$.hex2bin=hex2bin;let tseed=(new Date).valueOf();const uuid=function(){let uuid=String((tseed++).toString(36)).toUpperCase().substr(-10);if(uuid.length<10){for(let i=0;i<uuid.length;i++){if(uuid.length<10){uuid=String("0"+uuid)}else{break}}}return String(uuid)};_C$.uuid=uuid;const addToList=function(newVal,textList,splitBy){newVal=String(newVal==undefined?"":stringTrim(newVal));if(newVal==""){return""}textList=String(textList==undefined?"":textList);let terms=[];splitBy=String(splitBy==undefined?"":splitBy);switch(splitBy){case",":terms=stringSplitbyComma(textList);break;case";":terms=stringSplitbySemicolon(textList);break;default:_p$.error(_N$,"ERR: addToList: Invalid splitBy separator. Must be any of [,;] and is:",splitBy);return""}let found=false;if(terms.length>0){terms.pop();for(let i=0;i<terms.length;i++){if(terms[i]==newVal){found=true;break}}}if(!found){terms.push(newVal)}terms.push("");return String(terms.join(splitBy+" "))};_C$.addToList=addToList;const textSort=function(property,useLocale=false){return(a,b)=>{a[property]=String(a[property]);b[property]=String(b[property]);let comparer=0;let localeFailed=false;if(useLocale===true){try{comparer=a[property].localeCompare(b[property]);if(comparer<0){comparer=-1}else if(comparer>0){comparer=1}else{comparer=0}}catch(e){localeFailed=true}}if(useLocale!==true||localeFailed===true){comparer=(a[property]<b[property]?-1:a[property]>b[property])?1:0}return comparer}};_C$.textSort=textSort;const numericSort=property=>{return(a,b)=>{if(!isFiniteNumber(a[property])||!isFiniteNumber(b[property])){return 0}if(a[property]>b[property]){return 1}else if(a[property]<b[property]){return-1}else{return 0}}};_C$.numericSort=numericSort;const url_add_suffix=function(url,suffix){url=stringPureVal(url,true);suffix=stringPureVal(suffix,true);if(stringStartsWith(suffix,"?")||stringStartsWith(suffix,"&")){suffix=stringPureVal(suffix.substring(1),true)}if(suffix==""){return String(url)}let separator="";if(stringContains(url,"?")){separator="&"}else{separator="?"}return String(url+separator+suffix)};_C$.url_add_suffix=url_add_suffix;const create_slug=(str,lowercase=false,maxlen=0)=>{str=stringPureVal(str,true);if(str==""){return""}str=String(deaccent_str(stringTrim(str)));str=str.replace(/[^a-zA-Z0-9_\-]/g,"-");str=str.replace(/[\-]+/g,"-");str=str.replace(/^[\-]+/,"").replace(/[\-]+$/,"");str=String(stringTrim(str));if(lowercase===true){str=str.toLowerCase()}maxlen=format_number_int(maxlen,false);if(maxlen>0){str=str.substr(0,maxlen);str=str.replace(/(\-)+$/,"")}return String(str)};_C$.create_slug=create_slug;const create_htmid=str=>{str=stringPureVal(str,true);if(str==""){return""}str=str.replace(/[^a-zA-Z0-9_\-]/g,"");str=stringTrim(str);return String(str)};_C$.create_htmid=create_htmid;const create_jsvar=str=>{str=stringPureVal(str,true);if(str==""){return""}str=str.replace(/[^a-zA-Z0-9_\$]/g,"");str=String(stringTrim(str));return String(str)};_C$.create_jsvar=create_jsvar;const revertNosyntaxContentMarkersTpl=tpl=>{if(typeof tpl!=="string"){return""}tpl=String(tpl);tpl=stringReplaceAll("\uff3b"+"###","["+"###",tpl);tpl=stringReplaceAll("###"+"\uff3d","###"+"]",tpl);tpl=stringReplaceAll("\uff3b"+"%%%","["+"%%%",tpl);tpl=stringReplaceAll("%%%"+"\uff3d","%%%"+"]",tpl);tpl=stringReplaceAll("\uff3b"+"@@@","["+"@@@",tpl);tpl=stringReplaceAll("@@@"+"\uff3d","@@@"+"]",tpl);tpl=stringReplaceAll("\uff3b"+":::","["+":::",tpl);tpl=stringReplaceAll(":::"+"\uff3d",":::"+"]",tpl);return String(tpl)};_C$.revertNosyntaxContentMarkersTpl=revertNosyntaxContentMarkersTpl;const prepareNosyntaxContentMarkersTpl=tpl=>{if(typeof tpl!=="string"){return""}tpl=String(tpl);tpl=stringReplaceAll("["+"###","\uff3b"+"###",tpl);tpl=stringReplaceAll("###"+"]","###"+"\uff3d",tpl);tpl=stringReplaceAll("["+"%%%","\uff3b"+"%%%",tpl);tpl=stringReplaceAll("%%%"+"]","%%%"+"\uff3d",tpl);tpl=stringReplaceAll("["+"@@@","\uff3b"+"@@@",tpl);tpl=stringReplaceAll("@@@"+"]","@@@"+"\uff3d",tpl);tpl=stringReplaceAll("["+":::","\uff3b"+":::",tpl);tpl=stringReplaceAll(":::"+"]",":::"+"\uff3d",tpl);return String(tpl)};_C$.prepareNosyntaxContentMarkersTpl=prepareNosyntaxContentMarkersTpl;const prepareNosyntaxHtmlMarkersTpl=tpl=>{if(typeof tpl!=="string"){return""}tpl=String(tpl);tpl=stringReplaceAll("["+"###","&lbrack;&num;&num;&num;",tpl);tpl=stringReplaceAll("###"+"]","&num;&num;&num;&rbrack;",tpl);tpl=stringReplaceAll("["+"%%%","&lbrack;&percnt;&percnt;&percnt;",tpl);tpl=stringReplaceAll("%%%"+"]","&percnt;&percnt;&percnt;&rbrack;",tpl);tpl=stringReplaceAll("["+"@@@","&lbrack;&commat;&commat;&commat;",tpl);tpl=stringReplaceAll("@@@"+"]","&commat;&commat;&commat;&rbrack;",tpl);tpl=stringReplaceAll("["+":::","&lbrack;&colon;&colon;&colon;",tpl);tpl=stringReplaceAll(":::"+"]","&colon;&colon;&colon;&rbrack;",tpl);tpl=stringReplaceAll("\uff3b"+"###","&lbrack;&num;&num;&num;",tpl);tpl=stringReplaceAll("###"+"\uff3d","&num;&num;&num;&rbrack;",tpl);tpl=stringReplaceAll("\uff3b"+"%%%","&lbrack;&percnt;&percnt;&percnt;",tpl);tpl=stringReplaceAll("%%%"+"\uff3d","&percnt;&percnt;&percnt;&rbrack;",tpl);tpl=stringReplaceAll("\uff3b"+"@@@","&lbrack;&commat;&commat;&commat;",tpl);tpl=stringReplaceAll("@@@"+"\uff3d","&commat;&commat;&commat;&rbrack;",tpl);tpl=stringReplaceAll("\uff3b"+":::","&lbrack;&colon;&colon;&colon;",tpl);tpl=stringReplaceAll(":::"+"\uff3d","&colon;&colon;&colon;&rbrack;",tpl);return String(tpl)};_C$.prepareNosyntaxHtmlMarkersTpl=prepareNosyntaxHtmlMarkersTpl;const renderMarkersTpl=function(template,arrobj,isEncoded=false,revertSyntax=false){if(typeof template==="string"&&typeof arrobj==="object"){if(isEncoded===true){template=String(decodeURIComponent(template))}if(revertSyntax===true){template=String(revertNosyntaxContentMarkersTpl(template))}template=stringTrim(template);if(stringContains(template,"["+"%%%COMMENT%%%"+"]")&&stringContains(template,"["+"%%%/COMMENT%%%"+"]")){let arr_comments=[];arr_comments=template.split("["+"%%%COMMENT%%%"+"]");for(let i=0;i<arr_comments.length;i++){if(stringContains(arr_comments[i],"["+"%%%/COMMENT%%%"+"]")){arr_comments[i]="["+"%%%COMMENT%%%"+"]"+arr_comments[i];arr_comments[i]=arr_comments[i].replace(/[\s\S]?\[\%\%\%COMMENT\%\%\%\]([\s\S]*?)\[\%\%\%\/COMMENT\%\%\%\][\s\S]?/g,"")}}template=stringTrim(arr_comments.join(""));arr_comments=null}if(template!=""){const regexp=/\[\#\#\#([A-Z0-9_\-\.]+)((\|[a-z0-9]+)*)\#\#\#\]/g;let markers=stringRegexMatchAll(template,regexp);if(markers.length){let marker,escaping;let tmp_marker_val,tmp_marker_id,tmp_marker_key,tmp_marker_esc,tmp_marker_arr_esc;let xnum,xlen,jsonObj;for(let i=0;i<markers.length;i++){marker=markers[i];if(marker.length){tmp_marker_val="";tmp_marker_id=marker[0]?String(marker[0]):"";tmp_marker_key=marker[1]?String(marker[1]):"";tmp_marker_esc=marker[2]?String(marker[2]):"";tmp_marker_arr_esc=[];if(tmp_marker_id!=null&&tmp_marker_id!=""&&tmp_marker_key!=null&&tmp_marker_key!=""&&stringContains(template,tmp_marker_id)){if(tmp_marker_key in arrobj){tmp_marker_val=arrobj[tmp_marker_key]?arrobj[tmp_marker_key]:"";tmp_marker_val=String(tmp_marker_val);tmp_marker_val=String(prepareNosyntaxContentMarkersTpl(tmp_marker_val));if(tmp_marker_esc){if(stringStartsWith(tmp_marker_esc,"|")){tmp_marker_esc=tmp_marker_esc.substr(1)}if(tmp_marker_esc){tmp_marker_arr_esc=tmp_marker_esc.split(/\|/);if(tmp_marker_arr_esc.length){for(let j=0;j<tmp_marker_arr_esc.length;j++){escaping=String("|"+String(tmp_marker_arr_esc[j]));if(escaping=="|bool"){if(tmp_marker_val){tmp_marker_val="true"}else{tmp_marker_val="false"}}else if(escaping=="|int"){tmp_marker_val=String(format_number_int(tmp_marker_val))}else if(escaping.substring(0,4)=="|dec"){xnum=format_number_int(escaping.substring(4));if(xnum<1){xnum=1}if(xnum>4){xnum=4}tmp_marker_val=String(format_number_dec(tmp_marker_val,xnum,true,false));xnum=null}else if(escaping=="|num"){tmp_marker_val=String(format_number_float(tmp_marker_val))}else if(escaping=="|idtxt"){tmp_marker_val=String(stringReplaceAll("_","-",tmp_marker_val));tmp_marker_val=String(stringUcWords(tmp_marker_val))}else if(escaping=="|slug"){tmp_marker_val=String(create_slug(tmp_marker_val,false))}else if(escaping=="|htmid"){tmp_marker_val=String(create_htmid(tmp_marker_val))}else if(escaping=="|jsvar"){tmp_marker_val=String(create_jsvar(tmp_marker_val))}else if(escaping.substring(0,7)=="|substr"||escaping.substring(0,7)=="|subtxt"){xnum=format_number_int(escaping.substring(7));if(xnum<1){xnum=1}if(xnum>65535){xnum=65535}if(xnum>=1&&xnum<=65535){xlen=tmp_marker_val.length;if(escaping.substring(0,7)=="|subtxt"){if(xnum<5){xnum=5}xnum=xnum-3;if(xlen>xnum){tmp_marker_val=tmp_marker_val.substring(0,xnum);tmp_marker_val=tmp_marker_val.replace(/\s+?(\S+)?$/,"");tmp_marker_val=String(tmp_marker_val)+"..."}}else{if(xlen>xnum){tmp_marker_val=tmp_marker_val.substring(0,xnum)}}xlen=null}xnum=null;tmp_marker_val=String(tmp_marker_val)}else if(escaping=="|lower"){tmp_marker_val=String(tmp_marker_val).toLowerCase()}else if(escaping=="|upper"){tmp_marker_val=String(tmp_marker_val).toUpperCase()}else if(escaping=="|ucfirst"){tmp_marker_val=String(stringUcFirst(tmp_marker_val))}else if(escaping=="|ucwords"){tmp_marker_val=String(stringUcWords(tmp_marker_val))}else if(escaping=="|trim"){tmp_marker_val=String(stringTrim(tmp_marker_val))}else if(escaping=="|url"){tmp_marker_val=String(escape_url(tmp_marker_val))}else if(escaping=="|json"){jsonObj=null;try{jsonObj=JSON.parse(tmp_marker_val)}catch(err){jsonObj=null}tmp_marker_val=JSON.stringify(jsonObj,null,null);tmp_marker_val=String(tmp_marker_val);tmp_marker_val=tmp_marker_val.replace(/[\u0026]/g,"\\u0026");tmp_marker_val=tmp_marker_val.replace(/[\u003C]/g,"\\u003C");tmp_marker_val=tmp_marker_val.replace(/[\u003E]/g,"\\u003E");tmp_marker_val=tmp_marker_val.replace(/[\/]/g,"\\/");tmp_marker_val=String(stringTrim(tmp_marker_val));if(tmp_marker_val==""){tmp_marker_val="null"}}else if(escaping=="|js"){tmp_marker_val=String(escape_js(tmp_marker_val))}else if(escaping=="|html"){tmp_marker_val=String(escape_html(tmp_marker_val))}else if(escaping=="|css"){tmp_marker_val=String(escape_css(tmp_marker_val))}else if(escaping=="|nl2br"){tmp_marker_val=String(nl2br(tmp_marker_val))}else if(escaping=="|smartlist"){tmp_marker_val=String(stringReplaceAll("<","\u2039",tmp_marker_val));tmp_marker_val=String(stringReplaceAll(">","\u203a",tmp_marker_val))}else if(escaping=="|syntaxhtml"){tmp_marker_val=String(prepareNosyntaxHtmlMarkersTpl(tmp_marker_val))}else if(escaping=="|hex"){tmp_marker_val=String(bin2hex(tmp_marker_val))}else{_p$.warn(_N$,"WARN: renderMarkersTpl: {### Invalid or Undefined Escaping for Marker: "+escaping+" - detected in Replacement Key: "+tmp_marker_id+" @ "+tmp_marker_val+" detected in Template: ^"+"\n"+template.substr(0,512)+"$(0..512)... ###}")}}}}}template=stringReplaceAll(tmp_marker_id,tmp_marker_val,template)}}}marker=null;escaping=null;tmp_marker_val=null;tmp_marker_id=null;tmp_marker_key=null;tmp_marker_esc=null;tmp_marker_arr_esc=null}}markers=null;if(stringContains(template,"["+"%%%|")){template=stringReplaceAll("["+"%%%|SB-L%%%"+"]","\uff3b",template);template=stringReplaceAll("["+"%%%|SB-R%%%"+"]","\uff3d",template);template=stringReplaceAll("["+"%%%|R%%%"+"]","\r",template);template=stringReplaceAll("["+"%%%|N%%%"+"]","\n",template);template=stringReplaceAll("["+"%%%|T%%%"+"]","\t",template);template=stringReplaceAll("["+"%%%|SPACE%%%"+"]"," ",template)}if(stringContains(template,"["+"###")){_p$.warn(_N$,"WARN: renderMarkersTpl:",stringRegexMatchAll(template,regexp),"{### Undefined Markers detected in Template:"+"\n"+template.substr(0,512)+"$(0..512)... ###}")}if(stringContains(template,"["+"%%%")){_p$.warn(_N$,"WARN: renderMarkersTpl: {### Undefined Marker Syntax detected in Template: ^"+"\n"+template.substr(0,512)+"$(0..512)... ###}")}if(stringContains(template,"["+"@@@")){_p$.warn(_N$,"WARN: renderMarkersTpl: {### Undefined Marker Sub-Templates detected in Template: ^"+"\n"+template.substr(0,512)+"$(0..512)... ###}")}}}else{_p$.error(_N$,"ERR: renderMarkersTpl: {### Invalid Marker-TPL Arguments ###}");template=""}return String(template)};_C$.renderMarkersTpl=renderMarkersTpl}};smartJ$Utils.secureClass();if(typeof window!="undefined"){window.smartJ$Utils=smartJ$Utils}const smartJ$Date=new class{constructor(){"use strict";const _N$="smartJ$Date";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const _Utils$=smartJ$Utils;const createSafeDate=(year,month,day)=>{year=_Utils$.format_number_int(year);month=_Utils$.format_number_int(month,false);day=_Utils$.format_number_int(day,false);return normalizeAndClone({year:year,month:month,day:day})};_C$.createSafeDate=createSafeDate;const standardizeDate=function(date){if(date instanceof Date){let d=date;date=null;date={year:d.getFullYear(),month:d.getMonth()+1,day:d.getDate()};d=null}return normalizeAndClone(date)};_C$.standardizeDate=standardizeDate;const getIsoDate=function(date,withTime=false){if(date instanceof Date){let d=date;date=null;date={year:d.getFullYear(),month:d.getMonth()+1,day:d.getDate()};if(withTime===true){date.hour=d.getHours()||0;date.minute=d.getMinutes()||0;date.second=d.getSeconds()||0}d=null}if(withTime!==true){date=normalizeAndClone(date)}const add_d_m_LeadingZero=d_m=>{if(d_m<1){d_m=1}if(d_m<10){d_m="0"+String(d_m)}return String(d_m)};const add_h_m_s_LeadingZero=h_m_s=>{if(h_m_s<0){h_m_s=0}if(h_m_s<10){h_m_s="0"+String(h_m_s)}return String(h_m_s)};let y=String(date.year);let m=String(add_d_m_LeadingZero(date.month));let d=String(add_d_m_LeadingZero(date.day));if(withTime===true){return String(y+"-"+m+"-"+d+" "+add_h_m_s_LeadingZero(date.hour||0)+":"+add_h_m_s_LeadingZero(date.minute||0)+":"+add_h_m_s_LeadingZero(date.second||0))}else{return String(y+"-"+m+"-"+d)}};_C$.getIsoDate=getIsoDate;const calculateDaysOffset=function(sdate1,sdate2){let ofs1=toOffset(sdate1.year,sdate1.month,sdate1.day);let ofs2=toOffset(sdate2.year,sdate2.month,sdate2.day);return ofs2-ofs1};_C$.calculateDaysOffset=calculateDaysOffset;const calculateMonthsOffset=(sdate1,sdate2)=>(sdate2.year-sdate1.year)*12+(sdate2.month-sdate1.month);_C$.calculateMonthsOffset=calculateMonthsOffset;const addYears=function(date,years){years=_Utils$.format_number_int(years);let sd=normalizeAndClone(date);sd.year+=years;sd=clipDay(sd);return sd};_C$.addYears=addYears;const addMonths=function(date,months){months=_Utils$.format_number_int(months);let sd=normalizeAndClone(date);sd.month+=months;const wrapMonth=function(date){let yearOffset=yearOffsetForMonth(date.month);date.year+=yearOffset;date.month-=yearOffset*12;return date};sd=wrapMonth(sd);sd=clipDay(sd);return sd};_C$.addMonths=addMonths;const addDays=function(date,days){days=_Utils$.format_number_int(days);let normalized=normalizeAndClone(date);let offset=toOffset(normalized.year,normalized.month,normalized.day);return toDate(offset+days)};_C$.addDays=addDays;const isLeapYear=function(year){year=_Utils$.format_number_int(year);let leap=true;if(year%4!==0){leap=false}else if(year%400==0){leap=true}else if(year%100==0){leap=false}return leap};_C$.isLeapYear=isLeapYear;const daysInMonth=function(year,month){year=_Utils$.format_number_int(year);month=_Utils$.format_number_int(month);const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];let d=DAYS_IN_MONTH[month-1];if(month===2&&isLeapYear(year)){d=29}return d};_C$.daysInMonth=daysInMonth;const formatDate=function(format,date,settings){format=_Utils$.stringPureVal(format,true);if(format==""){format="yy-mm-dd"}if(!date){return""}const defaultSettings={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};let iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||defaultSettings.dayNamesShort,dayNames=(settings?settings.dayNames:null)||defaultSettings.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||defaultSettings.monthNamesShort,monthNames=(settings?settings.monthNames:null)||defaultSettings.monthNames,_ticksTo1970=((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,output="",literal=false;const lookAhead=function(match){let matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;if(matches){iFormat++}return matches};const formatNumber=function(match,value,len){let num=String(value);if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};const formatName=(match,value,shortNames,longNames)=>lookAhead(match)?longNames[value]:shortNames[value];if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getFullYear()%100<10?"0":"")+date.getFullYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*1e4+_ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return String(output)};_C$.formatDate=formatDate;const determineDate=function(date,defaultDate){if(defaultDate==undefined||defaultDate=="undefined"||defaultDate==""||!defaultDate){defaultDate=null}const _daylightSavingAdjust=date=>{if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date};const offsetNumeric=function(offset){let date=new Date;date.setDate(date.getDate()+offset);return date};const offsetString=function(offset){let date=null;if(offset){date=defaultDate}if(date==null){date=new Date}let year=date.getFullYear(),month=date.getMonth(),day=date.getDate();let pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,new Date(year,month+1,0).getDate());break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,new Date(year,month+1,0).getDate());break}matches=pattern.exec(offset)}return new Date(year,month,day)};let newDate=date==null||date===""?defaultDate:typeof date==="string"?offsetString(date):typeof date==="number"?!_Utils$.isFiniteNumber(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());newDate=newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate;if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return _daylightSavingAdjust(newDate)};_C$.determineDate=determineDate;const prettySecondsToDHMS=numSec=>{numSec=_Utils$.format_number_int(numSec,false);if(numSec<=0){return"Now..."}const days=Math.floor(numSec/(3600*24));const hours=Math.floor(numSec%(3600*24)/3600);const minutes=Math.floor(numSec%3600/60);const seconds=Math.floor(numSec%60);let prettyFmt="";if(days>0){prettyFmt+=days+"d "}if(hours>0){prettyFmt+=hours+"h "}if(minutes>0){prettyFmt+=minutes+"m "}prettyFmt+=seconds+"s";return String(prettyFmt)};_C$.prettySecondsToDHMS=prettySecondsToDHMS;const normalizeAndClone=function(date){let yearOffset=yearOffsetForMonth(date.month);let year=date.year+yearOffset;let month=date.month-yearOffset*12;return toDate(toOffset(year,month,date.day))};const clipDay=date=>{date.day=Math.min(date.day,daysInMonth(date.year,date.month));return date};const yearOffsetForMonth=function(month){let ofs=0;if(month>12){ofs=Math.ceil(month/12)-1}else if(month<1){ofs=Math.floor((month-1)/12)}return ofs};const toDate=function(z){z+=719468;let era=(z>=0?z:z-146096)/146097|0;let doe=z-era*146097;let yoe=Math.floor((doe-Math.floor(doe/1460)+Math.floor(doe/36524)-Math.floor(doe/146096))/365);let y=yoe+era*400;let doy=doe-(365*yoe+Math.floor(yoe/4)-Math.floor(yoe/100));let mp=Math.floor((5*doy+2)/153);let d=doy-Math.floor((153*mp+2)/5)+1;let m=mp+(mp<10?3:-9);return{year:y+(m<=2),month:m,day:d}};const toOffset=function(y,m,d){y-=m<=2;let era=(y>=0?y:y-399)/400|0;let yoe=y-era*400;let doy=Math.floor((153*(m+(m>2?-3:9))+2)/5)+d-1;let doe=yoe*365+Math.floor(yoe/4)-Math.floor(yoe/100)+doy;return era*146097+doe-719468}}};smartJ$Date.secureClass();if(typeof window!="undefined"){window.smartJ$Date=smartJ$Date}const smartJ$TestCrypto=new class{constructor(){"use strict";const _N$="smartJ$TestCrypto";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const raiseError=err=>{_p$.error(_N$,"ERR: Browser FAILED with:",err)};_C$.raiseError=raiseError;const testBase64=()=>{return"VW5pY29kZSBTdHJpbmc6CQnFn8WexaPFosSDxILDrsOOw6LDgsiZyJjIm8iaICgwNS0wOSM="};_C$.testBase64=testBase64;const testCRC32B=(b36=false)=>{if(b36===true){return"01hcnnc"}else{return"055757b8"}};_C$.testCRC32B=testCRC32B;const testMD5=(b64=false)=>{if(b64===true){return"PW7773idgEOjkmVB/rmhjA=="}else{return"3d6efbef789d8043a3926541feb9a18c"}};_C$.testMD5=testMD5;const testSHA1=(b64=false)=>{if(b64===true){return"WgoSffvbg0kbn7wO453JRwZsQmw="}else{return"5a0a127dfbdb83491b9fbc0ee39dc947066c426c"}};_C$.testSHA1=testSHA1;const testSHA256=(b64=false)=>{if(b64===true){return"GTvIwHM9xKaYl7+tgXkV22cyONrQnWDMkSm7PMsiVKg="}else{return"193bc8c0733dc4a69897bfad817915db673238dad09d60cc9129bb3ccb2254a8"}};_C$.testSHA256=testSHA256;const testSHA512=(b64=false)=>{if(b64===true){return"tRt7Uw8rciM8Vf4P08PES7q+TbboJq/Fi0hmilLqef5fvSclO5iu287kAdu4qgCpcFbdCIpWtEugozIN8ttcHg=="}else{return"b51b7b530f2b72233c55fe0fd3c3c44bbabe4db6e826afc58b48668a52ea79fe5fbd27253b98aedbcee401dbb8aa00a97056dd088a56b44ba0a3320df2db5c1e"}};_C$.testSHA512=testSHA512;const unicodeString=()=>{return"Unicode String:\t\t\u015f\u015e\u0163\u0162\u0103\u0102\xee\xce\xe2\xc2\u0219\u0218\u021b\u021a (05-09#"};_C$.unicodeString=unicodeString}};smartJ$TestCrypto.secureClass();if(typeof window!="undefined"){window.smartJ$TestCrypto=smartJ$TestCrypto}const smartJ$Base64=new class{constructor(){"use strict";const _N$="smartJ$Base64";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const _Utils$=smartJ$Utils;const _Test$=smartJ$TestCrypto;let testBase64PassedEnc=false;let testBase64PassedDec=false;const encode=function(s,bin=false){if(testBase64PassedEnc!==true){if(base64_core_enc(_Test$.unicodeString())==_Test$.testBase64()){testBase64PassedEnc=true}else{_Test$.raiseError("Base64/Encode");return""}}return String(base64_core_enc(s,bin))};_C$.encode=encode;const decode=function(s,bin=false){if(testBase64PassedDec!==true){if(base64_core_dec(_Test$.testBase64())==_Test$.unicodeString()){testBase64PassedDec=true}else{_Test$.raiseError("Base64/Decode");return""}}return String(base64_core_dec(s,bin))};_C$.decode=decode;const b64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";const base64_core_enc=function(input,is_binary){input=_Utils$.stringPureVal(input);if(input==""){return""}if(is_binary!==true){input=_Utils$.utf8_encode(input)}const keyStr=String(b64Chars);let output="";let chr1,chr2,chr3;let enc1,enc2,enc3,enc4;let i=0;do{chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4)}while(i<input.length);return String(output)};const base64_core_dec=function(input,is_binary){input=_Utils$.stringPureVal(input);if(input==""){return""}const keyStr=String(b64Chars);let output="";let chr1,chr2,chr3;let enc1,enc2,enc3,enc4;let i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}while(i<input.length);if(is_binary!==true){output=_Utils$.utf8_decode(output)}return String(output)}}};smartJ$Base64.secureClass();if(typeof window!="undefined"){window.smartJ$Base64=smartJ$Base64}const smartJ$BaseEncode=new class{constructor(){"use strict";const _N$="smartJ$BaseEncode";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const _Utils$=smartJ$Utils;const _Ba$e64=smartJ$Base64;const b64s_enc=function(str,bin=false){return _Ba$e64.encode(str,bin).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,".")};_C$.b64s_enc=b64s_enc;const b64s_dec=function(enc,bin=false){return _Ba$e64.decode(_Utils$.stringPureVal(enc).replace(/\-/g,"+").replace(/_/g,"/").replace(/\./g,"="),bin)};_C$.b64s_dec=b64s_dec;const base_to_hex_convert=function(encoded,currentBase){const _m$="base_to_hex_convert";encoded=_Utils$.stringPureVal(encoded,true);if(encoded==""){_p$.warn(_N$,_m$,"Empty Input");return""}let baseCharset=base_get_alphabet(currentBase);if(baseCharset==""){_p$.warn(_N$,_m$,"Invalid Current Base:",currentBase);return""}currentBase=baseCharset.length;let data=encoded.split("");encoded=null;data=data.map(c=>{const result=String(baseCharset).indexOf(c);if(result<0){_p$.warn(_N$,_m$,"Invalid Base Character:",c)}return result});let leadingZeroes=0;while(data.length&&0===data[0]){leadingZeroes++;data.shift()}let converted=base_asciihex_convert(data,currentBase,256);data=null;if(0<leadingZeroes){let arrZeroFill=new Array(leadingZeroes).fill(0,0,leadingZeroes);converted=[].concat(arrZeroFill,converted)}converted=converted.map(c=>String.fromCharCode(c)).join("");return String(_Utils$.bin2hex(converted,true))};_C$.base_to_hex_convert=base_to_hex_convert;const base_from_hex_convert=function(hexstr,targetBase){const _m$="base_from_hex_convert";hexstr=_Utils$.stringPureVal(hexstr,true);if(hexstr==""){_p$.warn(_N$,_m$,"Empty Input");return""}let baseCharset=base_get_alphabet(targetBase);if(baseCharset==""){_p$.warn(_N$,_m$,"Invalid Target Base:",targetBase);return""}targetBase=baseCharset.length;let source=String(_Utils$.hex2bin(hexstr,true));if(source==""){_p$.warn(_N$,_m$,"Invalid Input, NOT HEX:",hexstr);return""}hexstr=null;source=source.split("");source=source.map(c=>String(c).charCodeAt(0));let leadingZeroes=0;while(source.length&&0===source[0]){leadingZeroes++;source.shift()}let result=base_asciihex_convert(source,256,targetBase);source=null;if(0<leadingZeroes){let arrZeroFill=new Array(leadingZeroes).fill(0,0,leadingZeroes);result=[].concat(arrZeroFill,result)}baseCharset=baseCharset.split("");return String(result.map(el=>baseCharset[el]).join(""))};_C$.base_from_hex_convert=base_from_hex_convert;const base_get_alphabet=function(theBase){const minAlphabet="0123456789abcdefghijklmnopqrstuv";const minComplAlphabet="wxyz";const extraAlphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ";const glyphAlphabet=".-:+=^!/*?&<>()[]{}@%$#";const glyphExtAlphabet='|;,_~`"';const altAlphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const targetBase=_Utils$.stringPureVal(theBase,true);let fromcharset="";switch(targetBase){case"32":fromcharset=String(minAlphabet).toUpperCase();break;case"36":fromcharset=String(minAlphabet)+String(minComplAlphabet);break;case"58":fromcharset=String(altAlphabet);break;case"62":fromcharset=String(minAlphabet)+String(minComplAlphabet)+String(extraAlphabet);break;case"85":fromcharset=String(minAlphabet)+String(minComplAlphabet)+String(extraAlphabet)+String(glyphAlphabet);break;case"92":fromcharset=String(minAlphabet)+String(minComplAlphabet)+String(extraAlphabet)+String(glyphAlphabet)+String(glyphExtAlphabet);break;default:_p$.error(_N$,"base_get_alphabet","Invalid Base:",targetBase)}return String(fromcharset)};const base_asciihex_convert=function(source,sourceBase,targetBase){let result=[];let count;while(count=source.length){let quotient=[];let remainder=0;for(let i=0;i!==count;i++){let accumulator=source[i]+remainder*sourceBase;let digit=(accumulator-accumulator%targetBase)/targetBase;remainder=accumulator%targetBase;if(quotient.length||digit){quotient.push(digit)}}result.unshift(remainder);source=quotient}return result}}};smartJ$BaseEncode.secureClass();if(typeof window!="undefined"){window.smartJ$BaseEncode=smartJ$BaseEncode}const smartJ$CryptoHash=new class{constructor(){"use strict";const _N$="smartJ$CryptoHash";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const _Utils$=smartJ$Utils;const _Ba$e64=smartJ$Base64;const _Test$=smartJ$TestCrypto;let testCryptoHash_hex_CRC32B=false;let testCryptoHash_b36_CRC32B=false;let testCryptoHash_hex_MD5=false;let testCryptoHash_b64_MD5=false;let testCryptoHash_hex_SHA1=false;let testCryptoHash_b64_SHA1=false;let testCryptoHash_hex_SHA256=false;let testCryptoHash_b64_SHA256=false;let testCryptoHash_hex_SHA512=false;let testCryptoHash_b64_SHA512=false;const crypt_chrsz=()=>{return 8};const crypt_safe_add=function(x,y){let lsw=(x&65535)+(y&65535);let msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535};const crypt_bit_rol=(num,cnt)=>{return num<<cnt|num>>>32-cnt};const crypt_str2binl=function(str){let bin=Array();let mask=(1<<crypt_chrsz())-1;for(let i=0;i<str.length*crypt_chrsz();i+=crypt_chrsz()){bin[i>>5]|=(str.charCodeAt(i/crypt_chrsz())&mask)<<i%32}return bin};const crypt_binl2str=function(bin){let str="";let mask=(1<<crypt_chrsz())-1;for(let i=0;i<bin.length*32;i+=crypt_chrsz()){str+=String.fromCharCode(bin[i>>5]>>>i%32&mask)}return str};const crypt_str2binb=function(str){const mask=(1<<crypt_chrsz())-1;let bin=Array();for(let i=0;i<str.length*crypt_chrsz();i+=crypt_chrsz()){bin[i>>5]|=(str.charCodeAt(i/crypt_chrsz())&mask)<<32-crypt_chrsz()-i%32}return bin};const crypt_binb2str=function(bin){const mask=(1<<crypt_chrsz())-1;let str="";for(let i=0;i<bin.length*32;i+=crypt_chrsz()){str+=String.fromCharCode(bin[i>>5]>>>32-crypt_chrsz()-i%32&mask)}return str};const crypt_strtoarr=function(str){const l=str.length;let bytes=new Array(l);for(let i=0;i<l;i++){bytes[i]=str.charCodeAt(i)}return bytes};const crc32b=function(s,b36=false){if(b36===true){if(testCryptoHash_b36_CRC32B!==true){if(crc32b_b36(_Test$.unicodeString())==_Test$.testCRC32B(true)){testCryptoHash_b36_CRC32B=true}else{_Test$.raiseError("CRC32B/Hash/B36");return""}}return String(crc32b_b36(s))}else{if(testCryptoHash_hex_CRC32B!==true){if(crc32b_hex(_Test$.unicodeString())==_Test$.testCRC32B()){testCryptoHash_hex_CRC32B=true}else{_Test$.raiseError("CRC32B/Hash/Hex");return""}}return String(crc32b_hex(s))}};_C$.crc32b=crc32b;let CRC32B_TABLE=null;const crc32b_init_tbl=function(){if(CRC32B_TABLE!==null){return}CRC32B_TABLE=new Array(256);let i=0,c=0,b=0;for(i=0;i<256;i++){c=i;b=8;while(b--){c=c>>>1^(c&1?3988292384:0)}CRC32B_TABLE[i]=c}};const crc32b_hex=function(s){s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);let crc=String(crc32b_core(s).toString(16));const padding=8-crc.length;if(padding>0){for(let i=0;i<padding;i++){crc="0"+crc}}return String(crc)};const crc32b_b36=function(s){s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);let crc=String(crc32b_core(s).toString(36));const padding=7-crc.length;if(padding>0){for(let i=0;i<padding;i++){crc="0"+crc}}return String(crc)};const crc32b_core=function(s){let values=crypt_strtoarr(s),crc=-1,i=0,l=values.length,isObjects=typeof values[0]==="object",id=0;crc32b_init_tbl();for(i=0;i<l;i++){id=isObjects?values[i].id>>>0:values[i];crc=CRC32B_TABLE[(crc^id)&255]^crc>>>8}crc=~crc>>>0;return crc};const md5_hex=s=>{s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);return _Utils$.bin2hex(crypt_binl2str(md5_core(crypt_str2binl(s),s.length*crypt_chrsz())),true)};const md5_b64=s=>{s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);return _Ba$e64.encode(crypt_binl2str(md5_core(crypt_str2binl(s),s.length*crypt_chrsz())),true)};const md5_cmn=(q,a,b,x,s,t)=>{return crypt_safe_add(crypt_bit_rol(crypt_safe_add(crypt_safe_add(a,q),crypt_safe_add(x,t)),s),b)};const md5_ff=(a,b,c,d,x,s,t)=>{return md5_cmn(b&c|~b&d,a,b,x,s,t)};const md5_gg=(a,b,c,d,x,s,t)=>{return md5_cmn(b&d|c&~d,a,b,x,s,t)};const md5_hh=(a,b,c,d,x,s,t)=>{return md5_cmn(b^c^d,a,b,x,s,t)};const md5_ii=(a,b,c,d,x,s,t)=>{return md5_cmn(c^(b|~d),a,b,x,s,t)};const md5_core=function(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;let a=1732584193;let b=-271733879;let c=-1732584194;let d=271733878;for(let i=0;i<x.length;i+=16){let olda=a;let oldb=b;let oldc=c;let oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=crypt_safe_add(a,olda);b=crypt_safe_add(b,oldb);c=crypt_safe_add(c,oldc);d=crypt_safe_add(d,oldd)}return Array(a,b,c,d)};const md5=function(s,b64=false){if(b64===true){if(testCryptoHash_b64_MD5!==true){if(md5_b64(_Test$.unicodeString())==_Test$.testMD5(true)){testCryptoHash_b64_MD5=true}else{_Test$.raiseError("MD5/Hash/B64");return""}}return String(md5_b64(s))}else{if(testCryptoHash_hex_MD5!==true){if(md5_hex(_Test$.unicodeString())==_Test$.testMD5()){testCryptoHash_hex_MD5=true}else{_Test$.raiseError("MD5/Hash/Hex");return""}}return String(md5_hex(s))}};_C$.md5=md5;const sha1_hex=s=>{s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);return _Utils$.bin2hex(crypt_binb2str(sha1_core(crypt_str2binb(s),s.length*crypt_chrsz())),true)};const sha1_b64=s=>{s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);return _Ba$e64.encode(crypt_binb2str(sha1_core(crypt_str2binb(s),s.length*crypt_chrsz())),true)};const sha1_ft=(t,b,c,d)=>{if(t<20){return b&c|~b&d}if(t<40){return b^c^d}if(t<60){return b&c|b&d|c&d}return b^c^d};const sha1_kt=t=>{return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514};const sha1_core=function(x,len){x[len>>5]|=128<<24-len%32;x[(len+64>>9<<4)+15]=len;let a=1732584193;let b=-271733879;let c=-1732584194;let d=271733878;let e=-1009589776;let w=Array(80);for(let i=0;i<x.length;i+=16){let olda=a;let oldb=b;let oldc=c;let oldd=d;let olde=e;for(let j=0;j<80;j++){if(j<16){w[j]=x[i+j]}else{w[j]=crypt_bit_rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1)}let t=crypt_safe_add(crypt_safe_add(crypt_bit_rol(a,5),sha1_ft(j,b,c,d)),crypt_safe_add(crypt_safe_add(e,w[j]),sha1_kt(j)));e=d;d=c;c=crypt_bit_rol(b,30);b=a;a=t}a=crypt_safe_add(a,olda);b=crypt_safe_add(b,oldb);c=crypt_safe_add(c,oldc);d=crypt_safe_add(d,oldd);e=crypt_safe_add(e,olde)}return Array(a,b,c,d,e)};const sha1=function(s,b64=false){if(b64===true){if(testCryptoHash_b64_SHA1!==true){if(sha1_b64(_Test$.unicodeString())==_Test$.testSHA1(true)){testCryptoHash_b64_SHA1=true}else{_Test$.raiseError("SHA1/Hash/B64");return""}}return String(sha1_b64(s))}else{if(testCryptoHash_hex_SHA1!==true){if(sha1_hex(_Test$.unicodeString())==_Test$.testSHA1()){testCryptoHash_hex_SHA1=true}else{_Test$.raiseError("SHA1/Hash/Hex");return""}}return String(sha1_hex(s))}};_C$.sha1=sha1;const sha512_hex=s=>{s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);return _Utils$.bin2hex(crypt_binb2str(sha512_core(s)),true)};const sha512_b64=s=>{s=_Utils$.stringPureVal(s);s=_Utils$.utf8_encode(s);return _Ba$e64.encode(crypt_binb2str(sha512_core(s)),true)};const sha512_int_64=function(msint_32,lsint_32){const _M$=this;_M$.highOrder=msint_32;_M$.lowOrder=lsint_32};const sha512_safeadd_2=function(x,y){let lsw,msw,lowOrder,highOrder;lsw=(x.lowOrder&65535)+(y.lowOrder&65535);msw=(x.lowOrder>>>16)+(y.lowOrder>>>16)+(lsw>>>16);lowOrder=(msw&65535)<<16|lsw&65535;lsw=(x.highOrder&65535)+(y.highOrder&65535)+(msw>>>16);msw=(x.highOrder>>>16)+(y.highOrder>>>16)+(lsw>>>16);highOrder=(msw&65535)<<16|lsw&65535;return new sha512_int_64(highOrder,lowOrder)};const sha512_safeadd_4=function(a,b,c,d){let lsw,msw,lowOrder,highOrder;lsw=(a.lowOrder&65535)+(b.lowOrder&65535)+(c.lowOrder&65535)+(d.lowOrder&65535);msw=(a.lowOrder>>>16)+(b.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(lsw>>>16);lowOrder=(msw&65535)<<16|lsw&65535;lsw=(a.highOrder&65535)+(b.highOrder&65535)+(c.highOrder&65535)+(d.highOrder&65535)+(msw>>>16);msw=(a.highOrder>>>16)+(b.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(lsw>>>16);highOrder=(msw&65535)<<16|lsw&65535;return new sha512_int_64(highOrder,lowOrder)};const sha512_safeadd_5=function(a,b,c,d,e){let lsw,msw,lowOrder,highOrder;lsw=(a.lowOrder&65535)+(b.lowOrder&65535)+(c.lowOrder&65535)+(d.lowOrder&65535)+(e.lowOrder&65535);msw=(a.lowOrder>>>16)+(b.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(e.lowOrder>>>16)+(lsw>>>16);lowOrder=(msw&65535)<<16|lsw&65535;lsw=(a.highOrder&65535)+(b.highOrder&65535)+(c.highOrder&65535)+(d.highOrder&65535)+(e.highOrder&65535)+(msw>>>16);msw=(a.highOrder>>>16)+(b.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(e.highOrder>>>16)+(lsw>>>16);highOrder=(msw&65535)<<16|lsw&65535;return new sha512_int_64(highOrder,lowOrder)};const sha512_maj=(x,y,z)=>{return new sha512_int_64(x.highOrder&y.highOrder^x.highOrder&z.highOrder^y.highOrder&z.highOrder,x.lowOrder&y.lowOrder^x.lowOrder&z.lowOrder^y.lowOrder&z.lowOrder)};const sha512_ch=(x,y,z)=>{return new sha512_int_64(x.highOrder&y.highOrder^~x.highOrder&z.highOrder,x.lowOrder&y.lowOrder^~x.lowOrder&z.lowOrder)};const sha512_rot_r=(x,n)=>{if(n<=32){return new sha512_int_64(x.highOrder>>>n|x.lowOrder<<32-n,x.lowOrder>>>n|x.highOrder<<32-n)}else{return new sha512_int_64(x.lowOrder>>>n|x.highOrder<<32-n,x.highOrder>>>n|x.lowOrder<<32-n)}};const sha512_sh_r=(x,n)=>{if(n<=32){return new sha512_int_64(x.highOrder>>>n,x.lowOrder>>>n|x.highOrder<<32-n)}else{return new sha512_int_64(0,x.highOrder<<32-n)}};const sha512_sigma_0=function(x){let rotr28=sha512_rot_r(x,28);let rotr34=sha512_rot_r(x,34);let rotr39=sha512_rot_r(x,39);return new sha512_int_64(rotr28.highOrder^rotr34.highOrder^rotr39.highOrder,rotr28.lowOrder^rotr34.lowOrder^rotr39.lowOrder)};const sha512_sigma_1=function(x){let rotr14=sha512_rot_r(x,14);let rotr18=sha512_rot_r(x,18);let rotr41=sha512_rot_r(x,41);return new sha512_int_64(rotr14.highOrder^rotr18.highOrder^rotr41.highOrder,rotr14.lowOrder^rotr18.lowOrder^rotr41.lowOrder)};const sha512_gamma_0=function(x){let rotr1=sha512_rot_r(x,1),rotr8=sha512_rot_r(x,8),shr7=sha512_sh_r(x,7);return new sha512_int_64(rotr1.highOrder^rotr8.highOrder^shr7.highOrder,rotr1.lowOrder^rotr8.lowOrder^shr7.lowOrder)};const sha512_gamma_1=function(x){let rotr19=sha512_rot_r(x,19);let rotr61=sha512_rot_r(x,61);let shr6=sha512_sh_r(x,6);return new sha512_int_64(rotr19.highOrder^rotr61.highOrder^shr6.highOrder,rotr19.lowOrder^rotr61.lowOrder^shr6.lowOrder)};const sha512_core=function(str){let H=[new sha512_int_64(1779033703,4089235720),new sha512_int_64(3144134277,2227873595),new sha512_int_64(1013904242,4271175723),new sha512_int_64(2773480762,1595750129),new sha512_int_64(1359893119,2917565137),new sha512_int_64(2600822924,725511199),new sha512_int_64(528734635,4215389547),new sha512_int_64(1541459225,327033209)];let K=[new sha512_int_64(1116352408,3609767458),new sha512_int_64(1899447441,602891725),new sha512_int_64(3049323471,3964484399),new sha512_int_64(3921009573,2173295548),new sha512_int_64(961987163,4081628472),new sha512_int_64(1508970993,3053834265),new sha512_int_64(2453635748,2937671579),new sha512_int_64(2870763221,3664609560),new sha512_int_64(3624381080,2734883394),new sha512_int_64(310598401,1164996542),new sha512_int_64(607225278,1323610764),new sha512_int_64(1426881987,3590304994),new sha512_int_64(1925078388,4068182383),new sha512_int_64(2162078206,991336113),new sha512_int_64(2614888103,633803317),new sha512_int_64(3248222580,3479774868),new sha512_int_64(3835390401,2666613458),new sha512_int_64(4022224774,944711139),new sha512_int_64(264347078,2341262773),new sha512_int_64(604807628,2007800933),new sha512_int_64(770255983,1495990901),new sha512_int_64(1249150122,1856431235),new sha512_int_64(1555081692,3175218132),new sha512_int_64(1996064986,2198950837),new sha512_int_64(2554220882,3999719339),new sha512_int_64(2821834349,766784016),new sha512_int_64(2952996808,2566594879),new sha512_int_64(3210313671,3203337956),new sha512_int_64(3336571891,1034457026),new sha512_int_64(3584528711,2466948901),new sha512_int_64(113926993,3758326383),new sha512_int_64(338241895,168717936),new sha512_int_64(666307205,1188179964),new sha512_int_64(773529912,1546045734),new sha512_int_64(1294757372,1522805485),new sha512_int_64(1396182291,2643833823),new sha512_int_64(1695183700,2343527390),new sha512_int_64(1986661051,1014477480),new sha512_int_64(2177026350,1206759142),new sha512_int_64(2456956037,344077627),new sha512_int_64(2730485921,1290863460),new sha512_int_64(2820302411,3158454273),new sha512_int_64(3259730800,3505952657),new sha512_int_64(3345764771,106217008),new sha512_int_64(3516065817,3606008344),new sha512_int_64(3600352804,1432725776),new sha512_int_64(4094571909,1467031594),new sha512_int_64(275423344,851169720),new sha512_int_64(430227734,3100823752),new sha512_int_64(506948616,1363258195),new sha512_int_64(659060556,3750685593),new sha512_int_64(883997877,3785050280),new sha512_int_64(958139571,3318307427),new sha512_int_64(1322822218,3812723403),new sha512_int_64(1537002063,2003034995),new sha512_int_64(1747873779,3602036899),new sha512_int_64(1955562222,1575990012),new sha512_int_64(2024104815,1125592928),new sha512_int_64(2227730452,2716904306),new sha512_int_64(2361852424,442776044),new sha512_int_64(2428436474,593698344),new sha512_int_64(2756734187,3733110249),new sha512_int_64(3204031479,2999351573),new sha512_int_64(3329325298,3815920427),new sha512_int_64(3391569614,3928383900),new sha512_int_64(3515267271,566280711),new sha512_int_64(3940187606,3454069534),new sha512_int_64(4118630271,4000239992),new sha512_int_64(116418474,1914138554),new sha512_int_64(174292421,2731055270),new sha512_int_64(289380356,3203993006),new sha512_int_64(460393269,320620315),new sha512_int_64(685471733,587496836),new sha512_int_64(852142971,1086792851),new sha512_int_64(1017036298,365543100),new sha512_int_64(1126000580,2618297676),new sha512_int_64(1288033470,3409855158),new sha512_int_64(1501505948,4234509866),new sha512_int_64(1607167915,987167468),new sha512_int_64(1816402316,1246189591)];let W=new Array(64);let a,b,c,d,e,f,g,h,i,j;let T1,T2;const strlen=str.length*crypt_chrsz();str=crypt_str2binb(str);str[strlen>>5]|=128<<24-strlen%32;str[(strlen+128>>10<<5)+31]=strlen;for(let i=0;i<str.length;i+=32){a=H[0];b=H[1];c=H[2];d=H[3];e=H[4];f=H[5];g=H[6];h=H[7];for(let j=0;j<80;j++){if(j<16){W[j]=new sha512_int_64(str[j*2+i],str[j*2+i+1])}else{W[j]=sha512_safeadd_4(sha512_gamma_1(W[j-2]),W[j-7],sha512_gamma_0(W[j-15]),W[j-16])}T1=sha512_safeadd_5(h,sha512_sigma_1(e),sha512_ch(e,f,g),K[j],W[j]);T2=sha512_safeadd_2(sha512_sigma_0(a),sha512_maj(a,b,c));h=g;g=f;f=e;e=sha512_safeadd_2(d,T1);d=c;c=b;b=a;a=sha512_safeadd_2(T1,T2)}H[0]=sha512_safeadd_2(a,H[0]);H[1]=sha512_safeadd_2(b,H[1]);H[2]=sha512_safeadd_2(c,H[2]);H[3]=sha512_safeadd_2(d,H[3]);H[4]=sha512_safeadd_2(e,H[4]);H[5]=sha512_safeadd_2(f,H[5]);H[6]=sha512_safeadd_2(g,H[6]);H[7]=sha512_safeadd_2(h,H[7])}let binarray=[];for(let i=0;i<H.length;i++){binarray.push(H[i].highOrder);binarray.push(H[i].lowOrder)}return binarray};const sha512=function(s,b64=false){if(b64===true){if(testCryptoHash_b64_SHA512!==true){if(sha512_b64(_Test$.unicodeString())==_Test$.testSHA512(true)){testCryptoHash_b64_SHA512=true}else{_Test$.raiseError("SHA512/Hash/B64");return""}}return String(sha512_b64(s))}else{if(testCryptoHash_hex_SHA512!==true){if(sha512_hex(_Test$.unicodeString())==_Test$.testSHA512()){testCryptoHash_hex_SHA512=true}else{_Test$.raiseError("SHA512/Hash/Hex");return""}}return String(sha512_hex(s))}};_C$.sha512=sha512;let sha256_cache_h=[];let sha256_cache_k=[];const sha256_hex=function(str){str=_Utils$.stringPureVal(str);str=_Utils$.utf8_encode(str);const rightRotate=(value,amount)=>value>>>amount|value<<32-amount;const mathPow=Math.pow;const maxWord=mathPow(2,32);const lengthProperty="length";const lenStr=str[lengthProperty]*8;let i,j;let result="";let words=[];let hash=sha256_cache_h=sha256_cache_h||[];let k=sha256_cache_k=sha256_cache_k||[];let primeCounter=k[lengthProperty];if(primeCounter<=0){let isComposite={};for(let candidate=2;primeCounter<64;candidate++){if(!isComposite[candidate]){for(i=0;i<313;i+=candidate){isComposite[i]=candidate}hash[primeCounter]=mathPow(candidate,.5)*maxWord|0;k[primeCounter++]=mathPow(candidate,1/3)*maxWord|0}}}str+="\x80";while(str[lengthProperty]%64-56){str+="\0"}for(i=0;i<str[lengthProperty];i++){j=str.charCodeAt(i);if(j>>8){return""}words[i>>2]|=j<<(3-i)%4*8}words[words[lengthProperty]]=lenStr/maxWord|0;words[words[lengthProperty]]=lenStr;for(j=0;j<words[lengthProperty];){let w=words.slice(j,j+=16);let oldHash=hash;hash=hash.slice(0,8);for(i=0;i<64;i++){let i2=i+j;let w15=w[i-15],w2=w[i-2];let a=hash[0],e=hash[4];let temp1=hash[7]+(rightRotate(e,6)^rightRotate(e,11)^rightRotate(e,25))+(e&hash[5]^~e&hash[6])+k[i]+(w[i]=i<16?w[i]:w[i-16]+(rightRotate(w15,7)^rightRotate(w15,18)^w15>>>3)+w[i-7]+(rightRotate(w2,17)^rightRotate(w2,19)^w2>>>10)|0);let temp2=(rightRotate(a,2)^rightRotate(a,13)^rightRotate(a,22))+(a&hash[1]^a&hash[2]^hash[1]&hash[2]);hash=[temp1+temp2|0].concat(hash);hash[4]=hash[4]+temp1|0}for(i=0;i<8;i++){hash[i]=hash[i]+oldHash[i]|0}}for(i=0;i<8;i++){for(j=3;j+1;j--){let b=hash[i]>>j*8&255;result+=(b<16?0:"")+b.toString(16)}}return String(result||"")};const sha256_b64=s=>_Ba$e64.encode(_Utils$.hex2bin(sha256_hex(s),true),true);const sha256=function(s,b64=false){if(b64===true){if(testCryptoHash_b64_SHA256!==true){if(sha256_b64(_Test$.unicodeString())==_Test$.testSHA256(true)){testCryptoHash_b64_SHA256=true}else{_Test$.raiseError("SHA256/Hash/B64");return""}}return String(sha256_b64(s))}else{if(testCryptoHash_hex_SHA256!==true){if(sha256_hex(_Test$.unicodeString())==_Test$.testSHA256()){testCryptoHash_hex_SHA256=true}else{_Test$.raiseError("SHA256/Hash/Hex");return""}}return String(sha256_hex(s))}};_C$.sha256=sha256}};smartJ$CryptoHash.secureClass();if(typeof window!="undefined"){window.smartJ$CryptoHash=smartJ$CryptoHash}smartJ$CryptoBlowfish=new class{constructor(){"use strict";const _N$="smartJ$CryptoBlowfish";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const _Utils$=smartJ$Utils;const _Ba$e64=smartJ$Base64;const _Ba$eConv=smartJ$BaseEncode;const _Crypto$Hash=smartJ$CryptoHash;const cipherModes={CBC:1};const POW2=Math.pow(2,2);const POW3=Math.pow(2,3);const POW4=Math.pow(2,4);const POW8=Math.pow(2,8);const POW16=Math.pow(2,16);const POW24=Math.pow(2,24);let iv=null;let IV=null;const boxes={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]};const bfsig="b"+"f"+56*8+"."+"v"+16/8;const array_map=function(arr,callback,theObj,Ctr){let i=0,l=arr&&arr.length||0,out=new(Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("")}if(typeof callback=="string"){callback=cache[callback]||buildFn(callback)}if(theObj){for(;i<l;++i){out[i]=callback.call(theObj,arr[i],i,arr)}}else{for(;i<l;++i){out[i]=callback(arr[i],i,arr)}}return out};const add=(x,y)=>{return(x>>16)+(y>>16)+((x&65535)+(y&65535)>>16)<<16|(x&65535)+(y&65535)&65535};const xor=(x,y)=>{return(x>>16^y>>16)<<16|(x&65535^y&65535)&65535};const dollar=function(v,box){let d=box.s3[v&255];v>>=8;let c=box.s2[v&255];v>>=8;let b=box.s1[v&255];v>>=8;let a=box.s0[v&255];let r;r=(a>>16)+(b>>16)+((a&65535)+(b&65535)>>16)<<16|(a&65535)+(b&65535)&65535;r=(r>>16^c>>16)<<16|(r&65535^c&65535)&65535;return(r>>16)+(d>>16)+((r&65535)+(d&65535)>>16)<<16|(r&65535)+(d&65535)&65535};const eb=function(o,box){let l=o.left;let r=o.right;l=xor(l,box.p[0]);r=xor(r,xor(dollar(l,box),box.p[1]));l=xor(l,xor(dollar(r,box),box.p[2]));r=xor(r,xor(dollar(l,box),box.p[3]));l=xor(l,xor(dollar(r,box),box.p[4]));r=xor(r,xor(dollar(l,box),box.p[5]));l=xor(l,xor(dollar(r,box),box.p[6]));r=xor(r,xor(dollar(l,box),box.p[7]));l=xor(l,xor(dollar(r,box),box.p[8]));r=xor(r,xor(dollar(l,box),box.p[9]));l=xor(l,xor(dollar(r,box),box.p[10]));r=xor(r,xor(dollar(l,box),box.p[11]));l=xor(l,xor(dollar(r,box),box.p[12]));r=xor(r,xor(dollar(l,box),box.p[13]));l=xor(l,xor(dollar(r,box),box.p[14]));r=xor(r,xor(dollar(l,box),box.p[15]));l=xor(l,xor(dollar(r,box),box.p[16]));o.right=l;o.left=xor(r,box.p[17])};const db=function(o,box){let l=o.left;let r=o.right;l=xor(l,box.p[17]);r=xor(r,xor(dollar(l,box),box.p[16]));l=xor(l,xor(dollar(r,box),box.p[15]));r=xor(r,xor(dollar(l,box),box.p[14]));l=xor(l,xor(dollar(r,box),box.p[13]));r=xor(r,xor(dollar(l,box),box.p[12]));l=xor(l,xor(dollar(r,box),box.p[11]));r=xor(r,xor(dollar(l,box),box.p[10]));l=xor(l,xor(dollar(r,box),box.p[9]));r=xor(r,xor(dollar(l,box),box.p[8]));l=xor(l,xor(dollar(r,box),box.p[7]));r=xor(r,xor(dollar(l,box),box.p[6]));l=xor(l,xor(dollar(r,box),box.p[5]));r=xor(r,xor(dollar(l,box),box.p[4]));l=xor(l,xor(dollar(r,box),box.p[3]));r=xor(r,xor(dollar(l,box),box.p[2]));l=xor(l,xor(dollar(r,box),box.p[1]));o.right=l;o.left=xor(r,box.p[0])};const isString=it=>{return typeof it=="string"||it instanceof String};const init=function(key){let k=key;if(isString(k)){k=array_map(k.split(""),item=>{return item.charCodeAt(0)&255})}let pos=0,data=0;let res={left:0,right:0};let i,j,l;let box={p:array_map(boxes.p.slice(0),item=>{let q=k.length,r;for(r=0;r<4;r++){data=data*POW8|k[pos++%q]}return(item>>16^data>>16)<<16|(item&65535^data&65535)&65535}),s0:boxes.s0.slice(0),s1:boxes.s1.slice(0),s2:boxes.s2.slice(0),s3:boxes.s3.slice(0)};for(i=0,l=box.p.length;i<l;){eb(res,box);box.p[i++]=res.left,box.p[i++]=res.right}for(i=0;i<4;i++){for(j=0,l=box["s"+i].length;j<l;){eb(res,box);box["s"+i][j++]=res.left,box["s"+i][j++]=res.right}}return box};const setKey=function(key){const _m$="setKey";key=_Utils$.stringPureVal(key,true);let klen=key.length;if(klen<7){_p$.warn(_N$,_m$,"Key Size is lower than 7 bytes ("+klen+") !");return""}else if(klen>4096){_p$.warn(_N$,_m$,"Key Size is higher than 4096 bytes ("+klen+") !");return""}const nByte="\0";const salted_key=String(nByte+key);const hkey1=String(_Crypto$Hash.crc32b(key)+nByte+_Crypto$Hash.md5(key)+nByte+_Crypto$Hash.sha1(key)+nByte+_Crypto$Hash.sha256(key)+nByte+_Crypto$Hash.sha512(key));const hkey2=String(_Crypto$Hash.crc32b(salted_key)+nByte+_Crypto$Hash.md5(salted_key)+nByte+_Crypto$Hash.sha1(salted_key)+nByte+_Crypto$Hash.sha256(salted_key)+nByte+_Crypto$Hash.sha512(salted_key));const composed_key=String(hkey1+nByte+hkey2);const derived_key=String(_Ba$eConv.base_from_hex_convert(_Crypto$Hash.sha256(composed_key),92))+"'"+String(_Ba$eConv.base_from_hex_convert(_Crypto$Hash.md5(composed_key),92));const r_key=String(derived_key).substr(0,448/8);return String(r_key)};const setIV=function(key){const _m$="setIV";key=_Utils$.stringPureVal(key,true);let klen=key.length;if(klen<7){_p$.warn(_N$,_m$,"Key Size is lower than 7 bytes ("+klen+") !");return""}else if(klen>4096){_p$.warn(_N$,_m$,"Key Size is higher than 4096 bytes ("+klen+") !");return""}const data=String(_Crypto$Hash.crc32b(key,true)).padStart(8,"0");IV=String(String(data)+":"+_Crypto$Hash.sha1(key,true)).substr(0,64/8);const byt=array_map(IV.split(""),item=>{return item.charCodeAt(0)});iv={};iv.left=byt[0]*POW24|byt[1]*POW16|byt[2]*POW8|byt[3];iv.right=byt[4]*POW24|byt[5]*POW16|byt[6]*POW8|byt[7];return String(IV)};const encrypt=function(plaintext,key){const _m$="encrypt";plaintext=_Utils$.stringPureVal(plaintext);if(plaintext==""){return""}plaintext=_Ba$e64.encode(plaintext);key=_Utils$.stringPureVal(key);const testIV=setIV(key);key=setKey(key);if(key.length!=56){_p$.error(_N$,_m$,"Invalid Key Length (req. 448 bytes)");return""}if(testIV.length!=8){_p$.error(_N$,_m$,"Invalid iV Length (req. 64 bytes)");return""}const mode=cipherModes.CBC;const bx=init(key);plaintext=String(plaintext+"#CKSUM256#"+_Crypto$Hash.sha256(plaintext,true));const padding=8-(plaintext.length&7);for(let i=0;i<padding;i++){plaintext+=" "}let cipher=[];const count=plaintext.length>>3;let pos=0,o={};const isCBC=mode==cipherModes.CBC;const vector={left:iv.left||null,right:iv.right||null};for(let i=0;i<count;i++){o.left=plaintext.charCodeAt(pos)*POW24|plaintext.charCodeAt(pos+1)*POW16|plaintext.charCodeAt(pos+2)*POW8|plaintext.charCodeAt(pos+3);o.right=plaintext.charCodeAt(pos+4)*POW24|plaintext.charCodeAt(pos+5)*POW16|plaintext.charCodeAt(pos+6)*POW8|plaintext.charCodeAt(pos+7);if(isCBC){o.left=(o.left>>16^vector.left>>16)<<16|(o.left&65535^vector.left&65535)&65535;o.right=(o.right>>16^vector.right>>16)<<16|(o.right&65535^vector.right&65535)&65535}eb(o,bx);if(isCBC){vector.left=o.left;vector.right=o.right}cipher.push(o.left>>24&255);cipher.push(o.left>>16&255);cipher.push(o.left>>8&255);cipher.push(o.left&255);cipher.push(o.right>>24&255);cipher.push(o.right>>16&255);cipher.push(o.right>>8&255);cipher.push(o.right&255);pos+=8}return bfsig+"!"+_Ba$eConv.b64s_enc(array_map(cipher,item=>String.fromCharCode(item)).join(""),true)};_C$.encrypt=encrypt;const decrypt=function(ciphertext,key){const _m$="decrypt";ciphertext=_Utils$.stringPureVal(ciphertext,true);if(ciphertext==""){return""}if(!_Utils$.stringStartsWith(ciphertext,bfsig+"!")){return""}ciphertext=ciphertext.split("!",2);ciphertext=_Utils$.stringPureVal(ciphertext[1],true);key=_Utils$.stringPureVal(key);const testIV=setIV(key);key=setKey(key);if(key.length!=56){_p$.error(_N$,_m$,"Invalid Key Length (req. 448 bytes)");return""}if(testIV.length!=8){_p$.error(_N$,_m$,"Invalid iV Length (req. 64 bytes)",testIV);return""}const mode=cipherModes.CBC;const bx=init(key);let pt=[];let c=null;c=array_map(_Ba$eConv.b64s_dec(ciphertext,true).split(""),function(item){return item.charCodeAt(0)});ciphertext=null;const count=c.length>>3;let pos=0,o={};const isCBC=mode==cipherModes.CBC;const vector={left:iv.left||null,right:iv.right||null};for(let i=0;i<count;i++){o.left=c[pos]*POW24|c[pos+1]*POW16|c[pos+2]*POW8|c[pos+3];o.right=c[pos+4]*POW24|c[pos+5]*POW16|c[pos+6]*POW8|c[pos+7];let left=null,right=null;if(isCBC){left=o.left;right=o.right}db(o,bx);if(isCBC){o.left=(o.left>>16^vector.left>>16)<<16|(o.left&65535^vector.left&65535)&65535;o.right=(o.right>>16^vector.right>>16)<<16|(o.right&65535^vector.right&65535)&65535;vector.left=left;vector.right=right}pt.push(o.left>>24&255);pt.push(o.left>>16&255);pt.push(o.left>>8&255);pt.push(o.left&255);pt.push(o.right>>24&255);pt.push(o.right>>16&255);pt.push(o.right>>8&255);pt.push(o.right&255);pos+=8}let plaintext=String(_Utils$.stringTrim(array_map(pt,item=>String.fromCharCode(item)).join("")));let parts=plaintext.split("#CKSUM256#",2);plaintext=_Utils$.stringPureVal(parts[0],true);const checksum=_Utils$.stringPureVal(parts[1],true);parts=null;if(_Crypto$Hash.sha256(plaintext,true)!==String(checksum)){_p$.warn(_N$,"decrypt","Checksum Failed");return""}return String(_Ba$e64.decode(plaintext))};_C$.decrypt=decrypt}};smartJ$CryptoBlowfish.secureClass();if(typeof window!="undefined"){window.smartJ$CryptoBlowfish=smartJ$CryptoBlowfish}const smartJ$DhKx=new class{constructor(){"use strict";const _N$="smartJ$DhKx";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};let _w$=typeof window!="undefined"?window:null;const _Utils$=smartJ$Utils;const _Ba$eConv=smartJ$BaseEncode;const _Crypto$Hash=smartJ$CryptoHash;const _Crypto$Blowfish=smartJ$CryptoBlowfish;const _Option$=typeof smartJ$Options!="undefined"&&smartJ$Options&&smartJ$Options.DhKx!=undefined&&typeof smartJ$Options==="object"&&typeof smartJ$Options.DhKx==="object"?smartJ$Options.DhKx:null;const bigIntSupport=_Option$&&!!_Option$.BigIntSupport||_w$&&_w$.crypto&&_w$.crypto.getRandomValues&&_w$.BigInt?true:false;_C$.param_Size=_Option$&&typeof _Option$.Size=="string"&&_Option$.Size?_Utils$.stringTrim(_Option$.Size):"default";_C$.param_Prix=_Option$&&typeof _Option$.Prix=="string"&&_Option$.Prix?_Utils$.stringTrim(_Option$.Prix):"default";_C$.param_UseBigInt=bigIntSupport&&(_Option$&&!!_Option$.UseBigInt)?true:false;_C$.param_DevMode=_Option$&&!!_Option$.DevMode?true:false;_w$=null;const getMode=function(){let mode="??";if(_C$.param_UseBigInt===true){mode="BigInt"}else{mode="Int64"}return String(mode)};_C$.getMode=getMode;const getBaseGen=function(size){size=_Utils$.stringPureVal(size,true);if(size===""||size==="default"){size=_C$.param_Size}return rng(String(size))};_C$.getBaseGen=getBaseGen;const getSrvData=function(basegen){const size=String(_C$.param_Size);const prix=String(_C$.param_Prix);const p=prime(prix);const ssec=rng(size);const spub=powm(basegen,ssec,p);return{base:basegen,prix:prix,sec:ssec,pub:spub}};_C$.getSrvData=getSrvData;const getSrvShad=function(ssec,cpub){const prix=String(_C$.param_Prix);const p=prime(prix);const shad=powm(cpub,ssec,p);return shadizer(shad)};_C$.getSrvShad=getSrvShad;const getCliData=function(basegen){const size=String(_C$.param_Size);const prix=String(_C$.param_Prix);const p=prime(prix);const csec=rng(size);const cpub=powm(basegen,csec,p);return{base:basegen,prix:prix,sec:csec,pub:cpub}};_C$.getCliData=getCliData;const getCliShad=function(csec,spub){const prix=String(_C$.param_Prix);const p=prime(prix);const shad=powm(spub,csec,p);return shadizer(shad)};_C$.getCliShad=getCliShad;const getIdzShadData=function(idz){idz=_Utils$.stringPureVal(idz,true);let err="";let cliShad="";if(idz==""){err="Empty Idz"}else{let arr=idxtizer(idz);if(arr.err&&arr.err!=""){err=String(arr.err)}else{cliShad=_Utils$.stringPureVal(getCliShad(arr.csec,arr.spub),true);if(cliShad==""){err="Empty Shad"}}}return{type:"IdzShadData",mode:String(getMode()),size:String(_C$.param_Size),prix:String(_C$.param_Prix),shad:String(cliShad),err:String(err)}};_C$.getIdzShadData=getIdzShadData;const getData=function(){const mode=String(getMode());if(_C$.param_DevMode!==true){const errMsg="Development Mode is N/A";_p$.warn(_N$,"getData",errMsg);return{err:String(errMsg)}}_p$.log(_N$,"[NOTICE]: getData: development mode is enabled","["+mode+"]");const basegen=getBaseGen(_C$.param_Size);const srvData=getSrvData(basegen);const cliData=getCliData(basegen);const srvShad=getSrvShad(srvData.sec,cliData.pub);const cliShad=getCliShad(cliData.sec,srvData.pub);let err="";if(srvShad==undefined||srvShad==""||srvShad=="0"||srvShad!==cliShad){err="Shad Mismatch"}return{type:"Data",mode:String(mode),size:String(_C$.param_Size),prix:String(_C$.param_Prix),prim:String(prime(String(_C$.param_Prix))),basegen:String(basegen),srv:{sec:String(srvData.sec),pub:String(srvData.pub),shad:String(srvShad)},cli:{sec:String(cliData.sec),pub:String(cliData.pub),shad:String(cliShad)},idz:String(idatizer(cliData.sec,srvData.pub)),err:String(err)}};_C$.getData=getData;const idxtizer=function(idz){idz=_Utils$.stringPureVal(idz,true);if(idz==""){return{err:"Invalid IDZ (1)"}}if(!_Utils$.stringContains(idz,"!")){return{err:"Invalid IDZ (2)"}}const arr=idz.split("!");if(arr.length!==3){return{err:"Invalid IDZ (3)"}}const pfx="dH.";const ver="v1";let sig="";let mod="0";if(_C$.param_UseBigInt===true){sig="iHg.";mod="1"}else{sig="i64.";mod="2"}if(arr[0]!==pfx+sig+ver){return{err:"Invalid IDZ (4."+mod+")"}}arr[1]=_Utils$.stringPureVal(_Ba$eConv.b64s_dec(arr[1]),true);if(arr[1]==""){return{err:"Invalid IDZ (5)"}}arr[2]=_Utils$.stringPureVal(_Ba$eConv.b64s_dec(arr[2]),true);if(arr[2]==""){return{err:"Invalid IDZ (6)"}}const bk=_Utils$.stringTrim(_Ba$eConv.base_to_hex_convert(arr[2],85));if(bk==""){return{err:"Invalid IDZ (7)"}}arr[2]=_Utils$.stringTrim(String(_Utils$.stringTrim(_Utils$.hex2bin(bk))).substr(1));if(arr[2]==""){return{err:"Invalid IDZ (8)"}}arr[1]=_Utils$.stringPureVal(_Crypto$Blowfish.decrypt(String(arr[1]),_Ba$eConv.base_from_hex_convert(_Crypto$Hash.sha256("&="+bk+"#"),92)),true);if(arr[1]==""){return{err:"Invalid IDZ (9)"}}arr[1]=_Utils$.stringTrim(String(_Utils$.hex2bin(_Utils$.stringTrim(_Ba$eConv.base_to_hex_convert(arr[1],92)))).substr(1));if(arr[1]==""){return{err:"Invalid IDZ (10)"}}return{csec:String(arr[1]),spub:String(arr[2])}};const idatizer=function(csec,spub){let shd="dH";if(_C$.param_UseBigInt===true){shd+=".iHg"}else{shd+=".i64"}const bk=_Utils$.bin2hex("@"+spub);return String(shd+".v1!"+_Ba$eConv.b64s_enc(_Crypto$Blowfish.encrypt(_Ba$eConv.base_from_hex_convert(_Utils$.bin2hex("$"+csec),92),_Ba$eConv.base_from_hex_convert(_Crypto$Hash.sha256("&="+bk+"#"),92)))+"!"+_Ba$eConv.b64s_enc(_Ba$eConv.base_from_hex_convert(bk,85)))};const evenhexlen=function(shx){shx=_Utils$.stringPureVal(shx,true);const len=shx.length;if(len<=0){shx="00"}else if(len%2!==0){shx="0"+shx}return String(shx)};const shadizer=function(shad){let shr="";if(_C$.param_UseBigInt===true){const shx=String(evenhexlen(shad.toString(16)));shr=_Ba$eConv.base_from_hex_convert(shx,92)}else{const shx=String(evenhexlen(shad.toString(16)));shr=_Ba$eConv.base_from_hex_convert(shx,85)+"'"+_Ba$eConv.base_from_hex_convert(shx,62)+"'"+_Ba$eConv.base_from_hex_convert(shx,92)+"'"+_Ba$eConv.base_from_hex_convert(shx,58)}return String(shr)};const rng=size=>{if(_C$.param_UseBigInt===true){return rngBigint(size)}else{return rngInt64(size)}};const powm=(a,b,pri)=>{if(_C$.param_UseBigInt===true){return powmBigint(a,b,pri)}else{return powmInt64(a,b,pri)}};const prime=prix=>{if(_C$.param_UseBigInt===true){return primeBigint(prix)}else{return primeInt64(prix)}};const rngInt64=function(size){size=_Utils$.stringPureVal(size,true);if(size===""||size==="default"){size=24}size=Math.ceil(size);switch(size){case 12:case 16:case 24:break;default:size=24;_p$.warn(_N$,"rngInt64: Invalid Size Selection, using defaults:",size)}let rnd=~~(Math.random()*(Math.pow(2,size)-1))>>>0;if(rnd<=0){rnd=1}return rnd};const rngBigint=function(size){size=_Utils$.stringPureVal(size,true);if(size===""||size==="default"){size=16}size=Math.ceil(size);switch(size){case 128:case 96:case 64:case 48:case 32:case 16:case 8:break;default:size=16;_p$.warn(_N$,"rngBigint: Invalid Size Selection, using defaults:",size)}const randoms=new Uint32Array(size);for(let i=0,l=randoms.length;i<l;i++){randoms[i]=Math.floor(Math.random()*256)}return String(Array.from(randoms).map(elem=>String(elem)).join(""))};const powmInt64=(a,b,pri)=>{if(b<=0){return 1}else if(b===1){return a%pri}else if(b%2===0){return powmInt64(a*a%pri,b/2|0,pri)%pri}else{return powmInt64(a*a%pri,b/2|0,pri)*a%pri}};const powmBigint=(a,b,pri)=>{a=BigInt(a);b=BigInt(b);pri=BigInt(pri);if(b<=BigInt(0)){return BigInt(1)}else if(b==BigInt(1)){return a%pri}else if(b%BigInt(2)==BigInt(0)){return powmBigint(a*a%pri,b/BigInt(2),pri)%pri}else{return powmBigint(a*a%pri,b/BigInt(2),pri)*a%pri}};const primeInt64=function(prix){const primesInt64=[72419213,54795931,32926051,21801887,77635013,25470191,77639819,42010253,33563273,32792339,15923857,67022173,84250253,67680727,63438329,52164643,51603269,61444631,58831133,55711141,73596863,48905489,61642963,53812273,16600799,79158229,56490361,73391389,64351751,14227727,40517299,95234563,42913363,63566527,52338703,80146337,37597201,93581269,32547497,75587359,26024821,57042743,13862969,46496719,42787387,29830469,59912407,75206447,40343341,72357113,23434063,24336373,39422399,12866611,11592293,83937899,79746883,37997129,76431193,67774627,72107393,31363271,30388361,25149569,54104161,50575709,70327973,54960077,92119793,80615231,38967139,65609657,66432673,56145097,73864853,70708361,23913011,35283481,58352201,57881491,89206109,70619069,96913759,66156679,63395257,70022237,93547543,10891057,75492367,86902223,33054397,36325571,49119293,64100537,31986431,16636237];prix=_Utils$.stringPureVal(prix,true);if(prix===""||prix==="default"){prix=-1}prix=Math.floor(prix);let px=primesInt64[47];if(prix>=0&&prix<primesInt64.length){px=primesInt64[prix]}else if(prix!==-1){_p$.warn(_N$,"prime: Invalid Prime Selection (Int64), using defaults:",prix)}return"0x"+px.toString(16)};const primeBigint=function(prix){const hcBase1="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A63";const hcBase2="7ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE";const hcBase3="45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA";const hcBase4="18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AA";const hcBase5="AC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A9";const hcBase6="2108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C9340";const hcBase7="2849236C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B332051512BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97FBEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AACC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58BB7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E6D";const primesBigint={h017:"0x1141317432f7b89",h031:"0x6febe061005175e46c896e4079",h047:"0xf3f2b0ee30050c5f6bfcb9df1b9454e77bc3503",h061:"0x4771cfc3c2b8ad4561cb5437132e35e8398e8f956a2f2c94c51",h097:"0x426f09b2b25aba6bbcbf9ca5edb660b91d033440916732af9ae175a84afb665a25b392361c6952119",h127:"0x2c6121e6b14ecf756c083544de0e0933cac90dbeb6239905bfbec764527bbb4166ff832a2bcc3b4d6f634eddd30e40634adbbb5bfd",h257:"0x279e569032f0c7256218b58ad6418aa0e9436be424ab8f1431b1f9e6b5814e0ebda0ff65ef085d7e73fee51744dec07fe08c1a1cc65855630ca983927ca277406ac42094064387d65aeaa849f9bf449e04df8cb0e99a44b004ce0efca3386f1e82c078723cd265288d9a41",h232c1:"0x"+hcBase1+"A3620FFFFFFFFFFFFFFFF",h309c2:"0x"+hcBase1+hcBase2+"65381FFFFFFFFFFFFFFFF",h463c5:"0x"+hcBase1+hcBase2+hcBase3+"237327FFFFFFFFFFFFFFFF",h617c14:"0x"+hcBase1+hcBase2+hcBase3+hcBase4+"CAA68FFFFFFFFFFFFFFFF",h925c15:"0x"+hcBase1+hcBase2+hcBase3+hcBase4+hcBase5+"3AD2CAFFFFFFFFFFFFFFFF",h1234c16:"0x"+hcBase1+hcBase2+hcBase3+hcBase4+hcBase5+hcBase6+"63199FFFFFFFFFFFFFFFF",h1850c17:"0x"+hcBase1+hcBase2+hcBase3+hcBase4+hcBase5+hcBase6+hcBase7+"CC4024FFFFFFFFFFFFFFFF",h2467c18:"0x"+hcBase1+hcBase2+hcBase3+hcBase4+hcBase5+hcBase6+hcBase7+"BE115974A3926F12FEE5E438777CB6A932DF8CD8BEC4D073B931BA3BC832B68D9DD300741FA7BF8AFC47ED2576F6936BA424663AAB639C5AE4F5683423B4742BF1C978238F16CBE39D652DE3FDB8BEFC848AD922222E04A4037C0713EB57A81A23F0C73473FC646CEA306B4BCBC8862F8385DDFA9D4B7FA2C087E879683303ED5BDD3A062B3CF5B3A278A66D2A13F83F44F82DDF310EE074AB6A364597E899A0255DC164F31CC50846851DF9AB48195DED7EA1B1D510BD7EE74D73FAF36BC31ECFA268359046F4EB879F924009438B481C6CD7889A002ED5EE382BC9190DA6FC026E479558E4475677E9AA9E3050E2765694DFC81F56E880B96E7160C980DD98EDD3DFFFFFFFFFFFFFFFFF"};let px=null;prix=_Utils$.stringPureVal(prix,true);if(prix===""){prix="default"}switch(String(prix)){case"h017":case"h031":case"h047":case"h061":case"h097":case"h127":case"h257":case"h232c1":case"h309c2":case"h463c5":case"h617c14":case"h925c15":case"h1234c16":case"h1850c17":case"h2467c18":px=primesBigint[String(prix)];break;default:if(prix!=="default"){_p$.warn(_N$,"prime: Invalid Prime Selection (Bigint), using defaults:",prix)}px=primesBigint["h127"]}return String(px)}}};smartJ$DhKx.secureClass();if(typeof window!="undefined"){window.smartJ$DhKx=smartJ$DhKx}const smartJ$ModalBox=new class{constructor(){const _N$="smartJ$ModalBox";const VER="r.20220730";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Option$=typeof smartJ$Options!="undefined"&&smartJ$Options&&typeof smartJ$Options==="object"&&smartJ$Options.ModalBox!=undefined&&typeof smartJ$Options.ModalBox==="object"?smartJ$Options.ModalBox:null;const _Utils$=smartJ$Utils;let iFBoxStatus="";let iFBoxRefreshState=0;let iFBoxRefreshURL="";let iFBoxWidth=200;let iFBoxHeight=100;let iFBoxBeforeUnload=null;const iFBoxPrefix="smart__iFModalBox_";const iFBoxName=iFBoxPrefix+"_iFrame";const iFBoxBackground=iFBoxPrefix+"_Bg";const iFBoxDiv=iFBoxPrefix+"_Div";const iFBoxBtnClose=iFBoxPrefix+"_X";const iFBoxLoader=iFBoxPrefix+"_Ldr";const iFBoxBtnTTlClose="[X]";let param_UseProtection=_Option$&&!!_Option$.UseProtection?1:0;const param_LoaderImg=_Option$&&typeof _Option$.LoaderImg=="string"&&_Option$.LoaderImg?_Utils$.stringTrim(_Option$.LoaderImg):"lib/js/framework/img/loading.svg";const param_LoaderBlank=_Option$&&typeof _Option$.LoaderBlank=="string"&&_Option$.LoaderBlank?_Utils$.stringTrim(_Option$.LoaderBlank):"lib/js/framework/loading.html";const param_CloseImg=_Option$&&typeof _Option$.CloseImg=="string"&&_Option$.CloseImg?_Utils$.stringTrim(_Option$.CloseImg):"lib/js/framework/img/close.svg";const param_CloseAlign=_Option$&&_Option$.CloseAlign==="left"?"left":"right";const param_CloseBtnAltHtml=_Option$&&typeof _Option$.CloseBtnAltHtml=="string"&&_Option$.CloseBtnAltHtml?_Utils$.stringTrim(_Option$.CloseBtnAltHtml):"";const param_vAlign=_Option$&&typeof _Option$.vAlign=="string"&&(_Option$.vAlign=="middle"||_Option$.vAlign=="center")?String(_Option$.vAlign):"top";const param_DelayOpen=_Option$&&typeof _Option$.DelayOpen=="number"&&_Option$.DelayOpen&&_Utils$.isFiniteNumber(_Option$.DelayOpen)?_Utils$.format_number_int(_Option$.DelayOpen,false):850;const param_DelayClose=_Option$&&typeof _Option$.DelayClose=="number"&&_Option$.DelayClose&&_Utils$.isFiniteNumber(_Option$.DelayClose)?_Utils$.format_number_int(_Option$.DelayClose,false):500;const param_CssOverlayBgColor=_Option$&&typeof _Option$.CssOverlayBgColor=="string"&&_Option$.CssOverlayBgColor&&String(_Option$.CssOverlayBgColor).match(/^\#([0-9a-f]{6})$/i)?_Utils$.stringTrim(_Option$.CssOverlayBgColor):"#333333";const param_CssOverlayOpacity=_Option$&&typeof _Option$.CssOverlayOpacity=="number"&&_Utils$.isFiniteNumber(_Option$.CssOverlayOpacity)&&_Utils$.format_number_float(_Option$.CssOverlayOpacity,false)>=0&&_Utils$.format_number_float(_Option$.CssOverlayOpacity,false)<=1?_Utils$.format_number_dec(_Option$.CssOverlayOpacity,2,false,true):.85;const getName=()=>{return String(iFBoxName)};_C$.getName=getName;const getStatus=()=>{return String(iFBoxStatus)};_C$.getStatus=getStatus;const getVersion=()=>{return String(VER)};_C$.getVersion=getVersion;const setRefreshParent=(state,yURL)=>{yURL=_Utils$.stringPureVal(yURL,true);if(!!state){iFBoxRefreshState=1;iFBoxRefreshURL=String(yURL)}else{iFBoxRefreshState=0;iFBoxRefreshURL=""}};_C$.setRefreshParent=setRefreshParent;const setHandlerOnBeforeUnload=fx=>{if(typeof fx==="function"){iFBoxBeforeUnload=fx;return true}_p$.error(_N$,"ERR: setHandlerOnBeforeUnload","fx is not a function");return false};_C$.setHandlerOnBeforeUnload=setHandlerOnBeforeUnload;const LoadURL=function(yURL,yProtect=null,windowWidth=0,windowHeight=0){yURL=_Utils$.stringPureVal(yURL,true);iFBoxStatus="visible";if(yProtect!==null){param_UseProtection=yProtect?1:0}iFBoxWidth=_Utils$.format_number_int(parseInt(windowWidth),false);iFBoxHeight=_Utils$.format_number_int(parseInt(windowHeight),false);$("body").css({overflow:"hidden"});$("#"+iFBoxLoader).empty();if(param_LoaderImg){$("#"+iFBoxLoader).html('<br><br><img src="'+_Utils$.escape_html(param_LoaderImg)+'" alt="..." title="...">')}executePositioning(param_UseProtection,iFBoxWidth,iFBoxHeight);const UrlTime=(new Date).getTime();if(yURL.indexOf("?")!=-1){yURL+="&"}else{yURL+="?"}yURL+=String(iFBoxName+"="+_Utils$.escape_url(UrlTime));$("#"+iFBoxName).show().css({width:"100%",height:"100%",visibility:"hidden"}).attr("src",String(yURL));let the_closebtn;if(param_CloseBtnAltHtml===""){the_closebtn='<img id="ifrm-close" src="'+_Utils$.escape_html(param_CloseImg)+'" alt="'+_Utils$.escape_html(iFBoxBtnTTlClose)+'" title="'+_Utils$.escape_html(iFBoxBtnTTlClose)+'">'}else{the_closebtn=String(param_CloseBtnAltHtml)}let the_align_left="auto";let the_align_right="auto";if(param_CloseAlign==="left"){the_align_left="-20px"}else{the_align_right="-20px"}$("#"+iFBoxBtnClose).show().css({position:"absolute","z-index":2111111099,cursor:"pointer",top:"-12px",left:the_align_left,right:the_align_right,"min-width":"32px","max-width":"64px","min-height":"32px","max-height":"64px",visibility:"hidden"}).empty().html(the_closebtn).click(()=>{UnloadURL()});if(!yProtect){$("#"+iFBoxBackground).click(()=>{UnloadURL()})}else{$("#"+iFBoxBackground).unbind("click")}let openDelay=_Utils$.format_number_int(param_DelayOpen,false);if(openDelay<500){openDelay=500}if(openDelay>1e3){openDelay=1e3}setTimeout(()=>{makeVisible()},openDelay);return false};_C$.LoadURL=LoadURL;const UnloadURL=function(){let test_unload=true;try{test_unload=!!getHandlerOnBeforeUnload()}catch(err){_p$.error(_N$,"ERR: UnloadURL",err);test_unload=true}if(!test_unload){return false}executeUnload();let closeDelay=_Utils$.format_number_int(param_DelayClose,false);if(closeDelay<250){closeDelay=250}if(closeDelay>750){closeDelay=750}setTimeout(()=>{initialize()},closeDelay);return false};_C$.UnloadURL=UnloadURL;const initialize=function(){$("#"+iFBoxDiv).css({position:"absolute",width:"1px",height:"1px",left:"0px",top:"0px"}).hide();$("#"+iFBoxBackground).css({position:"absolute",width:"1px",height:"1px",left:"0px",top:"0px"}).hide();if(iFBoxRefreshState){const url=_Utils$.stringTrim(iFBoxRefreshURL);if(url==""){self.location=self.location}else{self.location=String(url)}iFBoxRefreshState=0;iFBoxRefreshURL=""}return false};const makeVisible=()=>{$("#"+iFBoxBtnClose).css({visibility:"visible"});$("#"+iFBoxName).css({"background-color":"#FFFFFF",visibility:"visible"});$("#"+iFBoxLoader).empty().html("");return false};const getHandlerOnBeforeUnload=()=>{if(typeof iFBoxBeforeUnload==="function"){return!!iFBoxBeforeUnload()}return true};const getWindowWidth=windowWidth=>{windowWidth=_Utils$.format_number_int(parseInt(windowWidth),false);if(windowWidth<=0){windowWidth=_Utils$.format_number_int(parseInt($(window).width())-40,false)}if(windowWidth<200){windowWidth=200}return windowWidth};const getWindowHeight=windowHeight=>{windowHeight=_Utils$.format_number_int(parseInt(windowHeight),false);if(windowHeight<=0){windowHeight=_Utils$.format_number_int(parseInt($(window).height())-20,false)}if(windowHeight<100){windowHeight=100}return windowHeight};const executeUnload=function(){$("#"+iFBoxBackground).unbind("click");$("#"+iFBoxBtnClose).unbind("click");$("#"+iFBoxLoader).empty().html("");let the_align_left="auto";let the_align_right="auto";if(param_CloseAlign==="left"){the_align_left="0px"}else{the_align_right="0px"}$("#"+iFBoxBtnClose).css({position:"absolute",width:"1px",height:"1px",left:the_align_left,right:the_align_right,top:"0px"}).empty().html("").hide();$("#"+iFBoxName).css({width:"1px",height:"1px"});if(param_LoaderBlank){$("#"+iFBoxName).attr("src",_Utils$.escape_html(param_LoaderBlank))}$("#"+iFBoxName).attr("src","").hide();$("#"+iFBoxDiv).css({position:"absolute",width:"1px",height:"1px",left:"0px",top:"0px"}).hide();$("body").css({overflow:"auto"});iFBoxStatus="";return false};const calculatePosition=function(windowWidth,windowHeight){let the_h_align=_Utils$.format_number_int(parseInt($(window).scrollLeft())+(parseInt($(window).width())-windowWidth)/2)+"px";let the_v_align=_Utils$.format_number_int(parseInt($(window).scrollTop())+10)+"px";if(param_vAlign==="center"||param_vAlign==="middle"){the_v_align=_Utils$.format_number_int(parseInt($(window).scrollTop())+(parseInt($(window).height())-windowHeight)/2)+"px"}$("#"+iFBoxDiv).css({position:"absolute","z-index":2111111098,"text-align":"center",left:the_h_align,top:the_v_align,width:windowWidth+"px",height:windowHeight+"px"}).show()};const executePositioning=function(yProtect,windowWidth,windowHeight){let the_wWidth=getWindowWidth(windowWidth);let the_wHeight=getWindowHeight(windowHeight);const the_wRealWidth=getWindowWidth(0);if(the_wRealWidth<windowWidth){the_wWidth=the_wRealWidth}const the_wRealHeight=getWindowHeight(0);if(the_wRealHeight<windowHeight){the_wHeight=the_wRealHeight}let the_style_cursor="auto";if(yProtect!=1){the_style_cursor="pointer"}$("#"+iFBoxBackground).css({position:"fixed","z-index":2111111097,cursor:the_style_cursor,"text-align":"center",left:"0px",top:"0px",width:"100%",height:"100%"}).show();calculatePosition(the_wWidth,the_wHeight);return false};$(()=>{$("body").append('\x3c!-- SmartJS.Modal.Loader :: Start --\x3e<div id="'+_Utils$.escape_html(iFBoxBackground)+'" data-info-smartframework="SmartFramework.Js.ModalBox: '+_Utils$.escape_html(VER)+'" style="background-color:'+_Utils$.escape_html(param_CssOverlayBgColor)+"; position:absolute; top:0px; left:0px; width:1px; height:1px; opacity: "+_Utils$.escape_html(_Utils$.format_number_dec(param_CssOverlayOpacity,2,false,true))+';"></div><div id="'+_Utils$.escape_html(iFBoxDiv)+'" style="position:absolute; top:0px; left:0px; width:1px; height:1px;"><center><div id="'+_Utils$.escape_html(iFBoxLoader)+'"></div></center><div id="'+_Utils$.escape_html(iFBoxBtnClose)+'" title="[X]"></div><iframe name="'+_Utils$.escape_html(iFBoxName)+'" id="'+_Utils$.escape_html(iFBoxName)+'" width="1" height="1" scrolling="auto" src="" marginwidth="5" marginheight="5" hspace="0" vspace="0" frameborder="0"></iframe></div>\x3c!-- END: SmartJS.Modal.Loader --\x3e');initialize();$(window).on("resize scroll",ev=>{if(getStatus()==="visible"){executePositioning(param_UseProtection,iFBoxWidth,iFBoxHeight)}})})}};smartJ$ModalBox.secureClass();window.smartJ$ModalBox=smartJ$ModalBox;const smartJ$TestBrowser=new class{constructor(){const _N$="smartJ$TestBrowser";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const _Option$=typeof smartJ$Options!="undefined"&&smartJ$Options&&typeof smartJ$Options==="object"&&smartJ$Options.BrowserTest!=undefined&&typeof smartJ$Options.BrowserTest==="object"?smartJ$Options.BrowserTest:null;const param_isMobile=_Option$&&_Option$.isMobile==="yes"?"yes":_Option$&&_Option$.isMobile==="no"?"no":"auto";let _w$=typeof window!="undefined"?window:null;let _n$=typeof navigator!="undefined"?navigator:null;const checkIsMobileDevice=function(skipFallbackOnscreenSize=false){if(param_isMobile==="yes"){return true}else if(param_isMobile==="no"){return false}let isMobile=false;if(_w$&&(_w$.ontouchstart!==undefined||_w$.orientation!==undefined)){isMobile=true}else if(_w$&&_w$.screen&&(_w$.screen.width!=undefined&&_w$.screen.width>0&&_w$.screen.width<768)&&(_w$.screen.height!=undefined&&_w$.screen.height>0&&_w$.screen.height<768)){if(skipFallbackOnscreenSize!==true){isMobile=true}}return!!isMobile};_C$.checkIsMobileDevice=checkIsMobileDevice;const checkCookies=()=>{if(_n$&&_n$.cookieEnabled===true){return true}return false};_C$.checkCookies=checkCookies}};smartJ$TestBrowser.secureClass();window.smartJ$TestBrowser=smartJ$TestBrowser;const smartJ$Browser=new class{constructor(){const _N$="smartJ$Browser";const _C$=this;const _p$=console;let SECURED=false;_C$.secureClass=()=>{if(SECURED===true){_p$.warn(_N$,"Class is already SECURED")}else{SECURED=true;Object.freeze(_C$)}};const $=jQuery;const _Option$=typeof smartJ$Options!="undefined"&&smartJ$Options&&typeof smartJ$Options==="object"&&smartJ$Options.BrowserUtils!=undefined&&typeof smartJ$Options.BrowserUtils==="object"?smartJ$Options.BrowserUtils:null;const _Utils$=smartJ$Utils;const _Date$=smartJ$Date;const _Ba$e64=smartJ$Base64;const _Crypto$Hash=smartJ$CryptoHash;const _Crypto$Blowfish=smartJ$CryptoBlowfish;const _Te$tBrowser=smartJ$TestBrowser;_C$.param_LanguageId=_Option$&&typeof _Option$.LanguageId=="string"&&_Option$.LanguageId?_Utils$.stringTrim(_Option$.LanguageId):"en";_C$.param_Charset=_Option$&&typeof _Option$.Charset=="string"&&_Option$.Charset?_Utils$.stringTrim(_Option$.Charset):"UTF-8";_C$.param_CookieLifeTime=_Option$&&typeof _Option$.CookieLifeTime=="number"&&_Option$.CookieLifeTime&&_Utils$.isFiniteNumber(_Option$.CookieLifeTime)?_Utils$.format_number_int(_Option$.CookieLifeTime,false):0;_C$.param_CookieDomain=_Option$&&typeof _Option$.CookieDomain=="string"&&_Option$.CookieDomain?_Utils$.stringTrim(_Option$.CookieDomain):"";_C$.param_CookieSameSitePolicy=_Option$&&typeof _Option$.CookieSameSitePolicy=="string"&&_Option$.CookieSameSitePolicy?_Utils$.stringTrim(_Option$.CookieSameSitePolicy):"";_C$.param_Notifications=_Option$&&typeof _Option$.Notifications=="string"&&_Option$.Notifications?_Utils$.stringTrim(_Option$.Notifications):"growl";_C$.param_NotificationDialogType=_Option$&&typeof _Option$.NotificationDialogType=="string"&&_Option$.NotificationDialogType?_Utils$.stringTrim(_Option$.NotificationDialogType):"auto";_C$.param_NotificationGrowlType=_Option$&&typeof _Option$.NotificationGrowlType=="string"&&_Option$.NotificationGrowlType?_Utils$.stringTrim(_Option$.NotificationGrowlType):"auto";_C$.param_NotificationTimeOK=_Option$&&typeof _Option$.NotificationTimeOK=="number"&&_Option$.NotificationTimeOK&&_Utils$.isFiniteNumber(_Option$.NotificationTimeOK)?_Utils$.format_number_int(_Option$.NotificationTimeOK,false):1e3;_C$.param_NotificationTimeERR=_Option$&&typeof _Option$.NotificationTimeERR=="number"&&_Option$.NotificationTimeERR&&_Utils$.isFiniteNumber(_Option$.NotificationTimeERR)?_Utils$.format_number_int(_Option$.NotificationTimeERR,false):3500;_C$.param_NotifyLoadError=_Option$&&!!_Option$.NotifyLoadError?true:false;_C$.param_ModalBoxActive=_Option$&&_Option$.ModalBoxActive===2?2:_Option$&&_Option$.ModalBoxActive===0?0:1;_C$.param_ModalBoxNoCascade=_Option$&&_Option$.ModalBoxNoCascade===false?false:true;_C$.param_ModalBoxProtected=_Option$&&!!_Option$.ModalBoxProtected?true:false;_C$.param_LoaderImg=_Option$&&typeof _Option$.LoaderImg=="string"&&_Option$.LoaderImg?_Utils$.stringTrim(_Option$.LoaderImg):"lib/js/framework/img/loading.svg";_C$.param_LoaderBlank=_Option$&&typeof _Option$.LoaderBlank=="string"&&_Option$.LoaderBlank?_Utils$.stringTrim(_Option$.LoaderBlank):"lib/js/framework/loading.html";_C$.param_ImgOK=_Option$&&typeof _Option$.ImgOK=="string"&&_Option$.ImgOK?_Utils$.stringTrim(_Option$.ImgOK):"lib/framework/img/sign-ok.svg";_C$.param_ImgNotOK=_Option$&&typeof _Option$.ImgNotOK=="string"&&_Option$.ImgNotOK?_Utils$.stringTrim(_Option$.ImgNotOK):"lib/framework/img/sign-warn.svg";_C$.param_ImgCloneInsert=_Option$&&typeof _Option$.ImgCloneInsert=="string"&&_Option$.ImgCloneInsert?_Utils$.stringTrim(_Option$.ImgCloneInsert):"lib/js/framework/img/clone-insert.svg";_C$.param_ImgCloneRemove=_Option$&&typeof _Option$.ImgCloneRemove=="string"&&_Option$.ImgCloneRemove?_Utils$.stringTrim(_Option$.ImgCloneRemove):"lib/js/framework/img/clone-remove.svg";_C$.param_IconImgFullScreen=_Option$&&typeof _Option$.IconImgFullScreen=="string"&&_Option$.IconImgFullScreen?_Utils$.stringTrim(_Option$.IconImgFullScreen):"lib/js/framework/img/fullscreen-on.svg";_C$.param_CssOverlayBgColor=_Option$&&typeof _Option$.CssOverlayBgColor=="string"&&_Option$.CssOverlayBgColor&&String(_Option$.CssOverlayBgColor).match(/^\#([0-9a-f]{6})$/i)?_Utils$.stringTrim(_Option$.CssOverlayBgColor):"#FFFFFF";_C$.param_CssOverlayOpacity=_Option$&&typeof _Option$.CssOverlayOpacity=="number"&&_Utils$.isFiniteNumber(_Option$.CssOverlayOpacity)&&_Utils$.format_number_float(_Option$.CssOverlayOpacity,false)>=0&&_Utils$.format_number_float(_Option$.CssOverlayOpacity,false)<=1?_Utils$.format_number_dec(_Option$.CssOverlayOpacity,2,false,true):.85;_C$.param_TimeDelayCloseWnd=_Option$&&typeof _Option$.TimeDelayCloseWnd=="number"&&_Option$.TimeDelayCloseWnd&&_Utils$.isFiniteNumber(_Option$.TimeDelayCloseWnd)?_Utils$.format_number_int(_Option$.TimeDelayCloseWnd,false):750;let flag_PageUnloadConfirm=false;let flag_PageAway=false;let flag_RefreshState=0;let flag_RefreshURL="";let flag_DebugEnabled=false;let flag_DebugPageAway=false;const defSmartPopupTarget="smartPWin";let objRefWinPopup=null;const objKeyEntries="_Crypto$Hash.crc32b({"+_Utils$.stringUcFirst(String(typeof _C$).toLowerCase())+".entries("+_N$+"[!is"+_Utils$.create_jsvar("{"+ +"}")+"()]"+")}.to"+_Utils$.stringUcFirst(typeof([]+[]))+"())";const sfOverlayID="smart-framework-overlay";const cssAlertable="background:#555566; color:#FFFFFF; font-size:1.5rem; font-weight:bold; text-align:right; padding-top:2px; padding-bottom:2px; padding-left:7px; padding-right:7px; margin:-8px; margin-bottom:10px;";const regexValidCookieName=RegExp(/^[a-zA-Z0-9_\-]+$/);const HTTP_STATUS_CODES={200:"OK",202:"Accepted",203:"Non-Authoritative Information",208:"Already Reported",301:"Moved Permanently",302:"Found",304:"Not Modified",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};const setFlag=(flag,value)=>{flag=String(flag||"");switch(flag){case"PageUnloadConfirm":flag_PageUnloadConfirm=!!value;return true;break;case"PageAway":if(flag_DebugEnabled===true){_p$.log(_N$,"Debug is ON, the setFlag:PageAway is overriden ...");flag_DebugPageAway=!!value}else{flag_PageAway=!!value}return true;break;case"RefreshState":flag_RefreshState=!!value?1:0;return true;break;case"RefreshURL":flag_RefreshURL=_Utils$.stringPureVal(value,true);return true;break;case"DebugEnabled":flag_DebugEnabled=!!value;if(flag_DebugEnabled===true){PageAwayControl("Debug is ON. Confirm Leaving the page. This confirmation is to avoid javascript redirects without explicit confirmation when Debug is enabled.")}else{flag_PageAway=!!flag_DebugPageAway}return true;break;default:_p$.warn(_N$,"Set Invalid Flag:",flag,value)}return false};_C$.setFlag=setFlag;const getFlag=flag=>{flag=String(flag||"");switch(flag){case"PageUnloadConfirm":return!!flag_PageUnloadConfirm;break;case"PageAway":return!!flag_PageAway;break;case"RefreshState":return flag_RefreshState?1:0;break;case"RefreshURL":return _Utils$.stringPureVal(flag_RefreshURL,true);break;case"DebugEnabled":return!!flag_DebugEnabled;break;default:_p$.warn(_N$,"Get Invalid Flag:",flag)}return null};_C$.getFlag=getFlag;const getRefPopup=()=>objRefWinPopup;_C$.getRefPopup=getRefPopup;const getCurrentIsoDateTime=()=>{const crrDate=new Date;return String(_Date$.getIsoDate(crrDate,true))};_C$.getCurrentIsoDateTime=getCurrentIsoDateTime;const blowfishEncrypt=str=>{str=_Utils$.stringPureVal(str);if(str==""){return""}return String(_Crypto$Blowfish.encrypt(str,objKeyEntries+"("+"'"+_Crypto$Hash.crc32b(_N$)+"'"+");"))};_C$.blowfishEncrypt=blowfishEncrypt;const blowfishDecrypt=enc=>{enc=_Utils$.stringPureVal(enc,true);if(enc==""){return""}return String(_Crypto$Blowfish.decrypt(enc,objKeyEntries+"("+"'"+_Crypto$Hash.crc32b(_N$)+"'"+");"))};_C$.blowfishDecrypt=blowfishDecrypt;const stripTags=html=>{html=_Utils$.stringPureVal(html);if(html==""){return""}return $("<div>"+html.replace(/(<([^>]+)>)/g," ")+"</div>").text()};_C$.stripTags=stripTags;const parseCurrentUrlGetParams=function(semantic_sf_url=true){let result={};if(!location.search){return result}let query=String(location.search.substr(1));if(!query){return result}query.split("&").forEach(part=>{let item="";let v="";let s="";part=String(part);if(part){item=part.split("=");v=String(item[0]);if(semantic_sf_url===true&&v.indexOf("/")!==-1){let arr=v.split("/");let found=false;for(let i=0;i<arr.length;i++){if(found!==true){if(arr[i]!==""){found=true}else{continue}}result[String(arr[i])]=String(decodeURIComponent(String(arr[i+1]?arr[i+1]:""))||"");i+=1}}else{result[String(item[0])]=String(decodeURIComponent(String(item[1]?item[1]:""))||"")}}});return result};_C$.parseCurrentUrlGetParams=parseCurrentUrlGetParams;const PrintPage=()=>{try{self.print()}catch(err){_p$.warn(_N$,"Print Page is N/A:",err);AlertDialog("NOTICE: Printing may not be available in your browser")}};_C$.PrintPage=PrintPage;const CountDown=function(counter,elID,evcode,prettyFormat){const _m$="CountDown";if(counter==undefined||counter==""){_p$.error(_N$,_m$,"ERR: undefined Counter Init");return}counter=_Utils$.format_number_int(counter,false);if(counter<1){return}const cdwn=setInterval(()=>{if(counter>0){counter=counter-1;if(elID!=undefined&&elID!=""){const theID=_Utils$.create_htmid(elID);let cntTxt=String(counter);if(prettyFormat===true){cntTxt=String(_Date$.prettySecondsToDHMS(counter))}if(theID!=""){$("#"+theID).empty().text(cntTxt)}}}else{clearInterval(cdwn);_Utils$.evalJsFxCode(_N$+"."+_m$,typeof evcode==="function"?()=>{"use strict";evcode(counter,elID)}:()=>{"use strict";!!evcode?eval(evcode):null})}},1e3)};_C$.CountDown=CountDown;const windowFocus=wnd=>{try{wnd.focus()}catch(err){}};_C$.windowFocus=windowFocus;const WindowIsiFrame=()=>{if(window.self!==window.top){return true}return false};_C$.WindowIsiFrame=WindowIsiFrame;const WindowIsPopup=()=>{if(window.opener){return true}return false};_C$.WindowIsPopup=WindowIsPopup;const PageAwayControl=function(the_question){_C$.setFlag("PageUnloadConfirm",true);the_question=_Utils$.stringPureVal(the_question,true);if(the_question==""){the_question="Confirm leaving the page ... ?"}$(window).on("beforeunload",evt=>{let e=evt||window.event;if(_C$.getFlag("PageAway")!=true){e.preventDefault();if(_C$.getFlag("DebugEnabled")==true){const debugMsgTitle="*** DEBUG IS ON ***";const debugMsgText="Page Leave Confirmation is ENABLED";_p$.log(_N$,debugMsgTitle,debugMsgText);if(GrowlSelectType()!=""){GrowlNotificationAdd(_Utils$.escape_html(debugMsgTitle),_Utils$.escape_html(debugMsgText),"",1e4,false,"yellow")}}return String(the_question)}}).on("unload",()=>{_C$.setFlag("PageAway",true)});if(WindowIsiFrame()===true){if(typeof parent.smartJ$ModalBox!="undefined"){try{parent.smartJ$ModalBox.setHandlerOnBeforeUnload(()=>{if(_C$.getFlag("PageAway")!=true){let is_exit=confirm(String(the_question));if(is_exit){_C$.setFlag("PageAway",true)}return is_exit}else{return true}})}catch(err){_p$.error(_N$,"ERR: PageAwayControl failed on ModalBox:",err)}}}};_C$.PageAwayControl=PageAwayControl;const RedirectToURL=yURL=>{yURL=_Utils$.stringPureVal(yURL,true);if(yURL==""){_p$.warn(_N$,"WARN: RedirectToURL: empty URL");return}setFlag("PageAway",true);if(yURL==="@"){self.location=self.location}else{self.location=String(yURL)}};_C$.RedirectToURL=RedirectToURL;const RedirectDelayedToURL=function(yURL,ytime){ytime=_Utils$.format_number_int(ytime,false);setTimeout(()=>{RedirectToURL(yURL)},ytime)};_C$.RedirectDelayedToURL=RedirectDelayedToURL;const RedirectParent=function(yURL){const _m$="RedirectParent";yURL=_Utils$.stringPureVal(yURL,true);if(yURL==""){_p$.warn(_N$,_m$,"WARN: empty URL");return}yURL=String(yURL);if(WindowIsPopup()===true){try{window.opener.location=yURL}catch(err){_p$.error(_N$,_m$,"ERR: PopUp:",err)}}else if(WindowIsiFrame()===true){try{parent.location=yURL}catch(err){_p$.error(_N$,_m$,"ERR: iFrame:",err)}}};_C$.RedirectParent=RedirectParent;const RefreshParent=function(yURL){const _m$="RefreshParent";yURL=_Utils$.stringPureVal(yURL,true);if(WindowIsPopup()===true){try{if(window.opener){if(typeof window.opener.smartJ$Browser=="undefined"||typeof window.opener.smartJ$ModalBox=="undefined"){_p$.warn(_N$,_m$,"ERR: N/A for PopUp Parent");return}if(window.opener.smartJ$Browser.getFlag("PageUnloadConfirm")===true){return}if(window.opener.smartJ$ModalBox.getStatus()==="visible"){window.opener.smartJ$ModalBox.setRefreshParent(1,String(yURL));return}window.opener.smartJ$Browser.setFlag("RefreshState",1);window.opener.smartJ$Browser.setFlag("RefreshURL",yURL)}}catch(err){_p$.error(_N$,_m$,"ERR: Failed for PopUp:",err)}}else if(WindowIsiFrame()===true){try{if(self.name){if(typeof parent.smartJ$Browser=="undefined"||typeof parent.smartJ$ModalBox=="undefined"){_p$.warn(_N$,_m$,"ERR: N/A for iFrame Parent");return}if(self.name===parent.smartJ$ModalBox.getName()){if(parent.smartJ$Browser.getFlag("PageUnloadConfirm")!==true){parent.smartJ$ModalBox.setRefreshParent(true,yURL)}}}}catch(err){_p$.error(_N$,_m$,"ERR: Failed from iFrame:",err)}}};_C$.RefreshParent=RefreshParent;const CloseModalPopUp=function(){const _m$="CloseModalPopUp";if(WindowIsPopup()===true){if(window.opener&&typeof window.opener.smartJ$Browser!="undefined"){try{if(window.opener.smartJ$Browser.getRefPopup()&&window.opener.smartJ$Browser.getRefPopup()===self){}else{if(window.opener.smartJ$Browser.getFlag("RefreshState")){if(window.opener.smartJ$Browser.getFlag("RefreshURL")){window.opener.location=String(window.opener.smartJ$Browser.getFlag("RefreshURL"))}else{window.opener.location=window.opener.location}window.opener.smartJ$Browser.setFlag("RefreshState",0);window.opener.smartJ$Browser.setFlag("RefreshURL","")}}}catch(err){_p$.error(_N$,_m$,"ERR: Failed with PopUp:",err)}}else{_p$.warn(_N$,_m$,"ERR: PopUp Parent BrowserUtils is N/A")}try{self.close()}catch(err){}}else if(WindowIsiFrame()===true){if(typeof parent.smartJ$ModalBox=="undefined"){_p$.warn(_N$,_m$,"ERR: iFrame Parent ModalBox is N/A");return}try{if(self.name){if(self.name===parent.smartJ$ModalBox.getName()){parent.smartJ$ModalBox.UnloadURL()}}}catch(err){_p$.error(_N$,_m$,"ERR: Failed with iFrame:",err)}}else{try{self.close()}catch(err){}}};_C$.CloseModalPopUp=CloseModalPopUp;const CloseDelayedModalPopUp=function(timeout){timeout=_Utils$.format_number_int(timeout,false);if(timeout<=0){timeout=_Utils$.format_number_int(_C$.param_TimeDelayCloseWnd,false)}if(timeout<100){timeout=100}else if(timeout>6e4){timeout=6e4}setTimeout(()=>{setFlag("PageAway",true);CloseModalPopUp()},timeout)};_C$.CloseDelayedModalPopUp=CloseDelayedModalPopUp;const getCurrentPointerEventXY=function(evt,viwePortOnly=false){let coordinates={x:-1,y:-1,t:null,q:null};if(!evt){return coordinates}let pointEv=evt;if(evt.touches&&evt.touches.length>0){pointEv=evt.touches[0]}let X=-1;let Y=-1;if(viwePortOnly===true){coordinates.q="clientXY";X=pointEv.clientX||-1;Y=pointEv.clientY||-1}else{coordinates.q="pageXY";X=pointEv.pageX||-1;Y=pointEv.pageY||-1}coordinates.x=_Utils$.format_number_int(X);coordinates.y=_Utils$.format_number_int(Y);coordinates.t=_Utils$.stringPureVal(evt.type||"unknown",true).toLowerCase();return coordinates};_C$.getCurrentPointerEventXY=getCurrentPointerEventXY;const getHighestZIndex=function(){let index_highest=1;let index_current=1;$("div").each((i,el)=>{let $el=$(el);if($el.css("display")=="none"||$el.css("visibility")=="hidden"||$el.attr("id")=="SmartFramework___Debug_InfoBar"){}else{index_current=_Utils$.format_number_int(parseInt($el.css("z-index"),10));if(index_current>0){if(index_current>index_highest){index_highest=index_current}}}});if(index_highest<2147483647){index_highest+=1}return index_highest};_C$.getHighestZIndex=getHighestZIndex;const createMaxContainer=function(id,maximized=false){id=_Utils$.stringPureVal(id,true);id=_Utils$.create_htmid(id);if(id==""){_p$.error(_N$,"ERR: createMaxContainer: empty ID");return}const $el=$("#"+id);if($el.attr("data-fullscreen")=="default"||$el.attr("data-fullscreen")=="fullscreen"){return}$el.attr("data-fullscreen","default").append('<div style="position:absolute; top:-4px; left:-4px; width:20px; height: 20px; overflow:hidden; text-align:center; cursor:pointer; opacity:0.7;" title="Toggle Element Full Screen"><img height="20" src="'+_Utils$.escape_html(_C$.param_IconImgFullScreen)+'"></div>').css({position:"relative",border:"1px solid #DDDDDD","z-index":1}).click(btn=>{const $btn=$(btn.currentTarget);if($btn.attr("data-fullscreen")=="fullscreen"){OverlayHide();$btn.attr("data-fullscreen","default");$btn.css({position:"relative",top:0,left:0,width:Math.max(_Utils$.format_number_int(parseInt($btn.attr("data-width"))),100),height:Math.max(_Utils$.format_number_int(parseInt($btn.attr("data-height"))),100),"z-index":1})}else{OverlayShow();OverlayClear();$btn.attr("data-width",String(_Utils$.escape_html(String($btn.width()))));$btn.attr("data-height",String(_Utils$.escape_html(String($btn.height()))));$btn.attr("data-fullscreen","fullscreen");$btn.css({position:"fixed",top:"7px",left:"7px",width:"99%",height:"98%","z-index":2147403e3})}});if(maximized===true){$el.trigger("click")}};_C$.createMaxContainer=createMaxContainer;const OverlayShow=function(text,title,css_class,overlay_id=null,clear=false){text=_Utils$.stringPureVal(text,true);title=_Utils$.stringPureVal(title,true);css_class=_Utils$.stringPureVal(css_class,true);if(css_class==""){css_class="white"}overlay_id=OverlayValidID(overlay_id);let the_style='style="display: none; background-color:'+_Utils$.escape_html(_C$.param_CssOverlayBgColor)+"; opacity: "+_Utils$.escape_html(_C$.param_CssOverlayOpacity)+'; position: fixed; top: -50px; left: -50px; width: 1px; height: 1px;"';if(typeof smartJ$UI=="object"){if(typeof smartJ$UI.overlayCssClass!="undefined"&&smartJ$UI.overlayCssClass!=null&&smartJ$UI.overlayCssClass!=""){the_style='class="'+_Utils$.escape_html(smartJ$UI.overlayCssClass)+'"'}}const have_growl=GrowlSelectType()!=""?true:false;let inner_html='<img src="'+_Utils$.escape_html(_C$.param_LoaderImg)+'" alt="... loading ..." style="background:transparent!important;color:#555555!important;opacity:1!important;">';if(clear===true){inner_html=""}if(have_growl!==true){inner_html=inner_html+"<div>"+"<h1>"+title+"</h1>"+"<div>"+text+"</div>"+"</div>"}$("#"+overlay_id).remove();const overlay=$('<div id="'+_Utils$.escape_html(overlay_id)+'" '+the_style+"></div>").css({"z-index":21474e5,position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%"}).hide().appendTo("body");$("#"+overlay_id).html('<div style="width:100%; position:fixed; top:25px; left:0px;"><center><div>'+inner_html+"</div></center></div>");try{overlay.fadeIn()}catch(err){overlay.show()}if(text!=""||title!=""){if(have_growl===true){GrowlNotificationAdd(title,text,"",500,false,css_class)}}return overlay};_C$.OverlayShow=OverlayShow;const OverlayClear=(overlay_id=null)=>{overlay_id=OverlayValidID(overlay_id);$("#"+overlay_id).empty().html("")};_C$.OverlayClear=OverlayClear;const OverlayHide=function(overlay_id=null){overlay_id=OverlayValidID(overlay_id);let overlay=$("#"+overlay_id);try{overlay.fadeOut()}catch(err){overlay.hide()}overlay.css({"z-index":1,position:"fixed",top:"-50px",left:"-50px",width:1,height:1}).remove()};_C$.OverlayHide=OverlayHide;const GrowlNotificationAdd=function(title,html,image,time,sticky=false,css_class=null,options=null){const _m$="GrowlNotificationAdd";time=_Utils$.format_number_int(time,false);if(time<0){time=0}else if(time>6e4){time=6e4}css_class=_Utils$.stringPureVal(css_class,true);if(css_class=="undefined"){css_class=""}let growl_before_open=null;let growl_after_open=null;let growl_before_close=null;let growl_after_close=null;if(options){if(options.hasOwnProperty("before_open")){growl_before_open=options.before_open}if(options.hasOwnProperty("after_open")){growl_after_open=options.after_open}if(options.hasOwnProperty("before_close")){growl_before_close=options.before_close}if(options.hasOwnProperty("after_close")){growl_after_close=options.after_close}}const theGrowlType=GrowlSelectType();if(theGrowlType==="ui"){try{smartJ$UI.GrowlAdd(title,html,image,time,sticky,css_class,options)}catch(err){_p$.error(_N$,_m$,"ERR: growl:",err)}}else if(theGrowlType==="toastr"){if(image!=undefined&&image!=""&&image!==false){image='<img src="'+_Utils$.escape_html(image)+'" align="right">'}else{image=""}css_class=$.toastr.translateCssClasses(css_class);try{$.toastr.notify({appearanceClass:String(css_class),title:String(String(title)+String(image)),message:String(html),onBeforeVisible:growl_before_open,onVisible:growl_after_open,onBeforeHidden:growl_before_close,onHidden:growl_after_close,timeOut:sticky?0:time})}catch(err){_p$.error(_N$,_m$,"ERR: toastr:",err)}}else{if($.isFunction(growl_before_open)){growl_before_open()}if($.isFunction(growl_after_open)){growl_after_open()}let fx=()=>{if($.isFunction(growl_before_close)){growl_before_close()}if($.isFunction(growl_after_close)){growl_after_close()}};AlertDialog(html,fx,title);return false}return true};_C$.GrowlNotificationAdd=GrowlNotificationAdd;const GrowlNotificationRemove=function(){const growlType=GrowlSelectType();switch(growlType){case"ui":smartJ$UI.GrowlRemove();return true;break;case"toastr":$.toastr.clear();return true;break}return false};_C$.GrowlNotificationRemove=GrowlNotificationRemove;const AlertDialog=function(y_message,evcode=null,y_title="",y_width=null,y_height=null,dialogType="auto"){const _m$="AlertDialog";y_message=_Utils$.stringPureVal(y_message,true);y_title=_Utils$.stringPureVal(y_title,true);if(dialogType==="auto"){dialogType=DialogSelectType()}if(dialogType==="ui"&&typeof smartJ$UI.DialogAlert=="function"){smartJ$UI.DialogAlert(y_message,evcode,y_title,y_width,y_height)}else{const evErrMsg="ERR: JS-Eval Failed on DialogAlert";if(dialogType==="alertable"){$.alertable.alert((y_title?'<div style="'+_Utils$.escape_html(cssAlertable)+'">'+y_title+"</div>":"")+y_message,{html:true,width:y_width&&y_width>=275&&y_width<=960?y_width:550,height:y_height&&y_height>=100&&y_height<=720?y_height:270}).always(()=>{_Utils$.evalJsFxCode(_N$+"."+_m$+" (1)",evcode)})}else{y_title=stripTags(y_title);y_message=stripTags(y_message);alert(y_title+"\n"+y_message);_Utils$.evalJsFxCode(_N$+"."+_m$+" (2)",evcode)}}};_C$.AlertDialog=AlertDialog;const ConfirmDialog=function(y_question,evcode=null,y_title="",y_width=null,y_height=null,dialogType="auto"){const _m$="ConfirmDialog";y_question=_Utils$.stringPureVal(y_question,true);y_title=_Utils$.stringPureVal(y_title,true);if(dialogType==="auto"){dialogType=DialogSelectType()}if(dialogType==="ui"&&typeof smartJ$UI.DialogConfirm=="function"){smartJ$UI.DialogConfirm(y_question,evcode,y_title,y_width,y_height)}else{const evErrMsg="ERR: JS-Eval Failed on DialogConfirm";if(dialogType==="alertable"){$.alertable.confirm((y_title?'<div style="'+_Utils$.escape_html(cssAlertable)+'">'+y_title+"</div>":"")+y_question,{html:true,width:y_width&&y_width>=275&&y_width<=960?y_width:550,height:y_height&&y_height>=100&&y_height<=720?y_height:270}).then(()=>{_Utils$.evalJsFxCode(_N$+"."+_m$+" (1)",evcode)})}else{y_title=stripTags(y_title);y_question=stripTags(y_question);let the_confirmation=confirm(y_title+"\n"+y_question);if(the_confirmation){_Utils$.evalJsFxCode(_N$+"."+_m$+" (2)",evcode)}}}};_C$.ConfirmDialog=ConfirmDialog;const MessageNotification=function(ytitle,ymessage,yredirect,growl,class_growl,timeout){yredirect=_Utils$.stringPureVal(yredirect,true);growl=_Utils$.stringPureVal(growl,true);timeout=_Utils$.format_number_int(timeout,false);if(growl==="yes"){let redirectAfterClose=null;if(yredirect!=undefined&&yredirect!=""){RedirectDelayedToURL(yredirect,timeout+750);redirectAfterClose=()=>{RedirectDelayedToURL(String(yredirect),250)}}const growlOptions={before_close:redirectAfterClose};GrowlNotificationAdd(ytitle,ymessage,"",timeout,false,class_growl,growlOptions)}else{let fx=null;if(yredirect!=undefined&&yredirect!=""){fx=()=>{RedirectDelayedToURL(yredirect,100)}}AlertDialog(ymessage,fx,ytitle,550,275)}};_C$.MessageNotification=MessageNotification;const confirmSubmitForm=function(y_confirm,y_form,y_target,windowWidth=0,windowHeight=0,forcePopUp=0,forceDims=0){y_confirm=_Utils$.stringPureVal(y_confirm,true);if(y_form==undefined||y_form==""){_p$.error(_N$,"confirmSubmitForm","ERR: Form Object is undefined");return}let submit_fx=()=>{y_form.submit()};y_target=_Utils$.stringPureVal(y_target,true);if(y_target!=""){submit_fx=()=>{PopUpSendForm(y_form,String(y_target),_Utils$.format_number_int(windowWidth,false),_Utils$.format_number_int(windowHeight,false),_Utils$.format_number_int(forcePopUp,false),_Utils$.format_number_int(forceDims,false))}}ConfirmDialog(y_confirm,submit_fx)};_C$.confirmSubmitForm=confirmSubmitForm;const PopUpSendForm=function(objForm,strTarget,windowWidth=0,windowHeight=0,forcePopUp=0,forceDims=0,evcode=null){const _m$="PopUpSendForm";strTarget=_Utils$.stringPureVal(strTarget,true);let strUrl="";try{strUrl=String(objForm.action||"")}catch(err){_p$.error(_N$,_m$,"ERR: Invalid Form Object");return}let crr_protocol=String(document.location.protocol);let crr_arr_url=strUrl.split(":");let crr_url=String(crr_arr_url[0])+":";if((crr_protocol==="http:"||crr_protocol==="https:")&&(crr_url==="http:"||crr_url==="https:")&&crr_url!==crr_protocol){forcePopUp=1}objForm.target=strTarget;if((allowModalCascading()&&forcePopUp!=1||forcePopUp==-1)&&allowModalBox()){if(typeof smartJ$ModalBox!="undefined"){objForm.target=smartJ$ModalBox.getName()}}initModalOrPopUp(_C$.param_LoaderBlank,objForm.target,windowWidth,windowHeight,forcePopUp,forceDims);let fx=()=>{objForm.submit()};if(evcode!=undefined&&evcode!=""&&evcode!="undefined"){fx=()=>{objForm.submit();try{if(typeof evcode==="function"){evcode(objForm,strTarget,forcePopUp,forceDims)}else{eval(evcode)}}catch(err){_p$.error(_N$,_m$,"ERR: Form After-Submit JS Code Failed:",err)}}}setTimeout(fx,_C$.param_TimeDelayCloseWnd+500);return false};_C$.PopUpSendForm=PopUpSendForm;const PopUpLink=function(strUrl,strTarget,windowWidth=0,windowHeight=0,forcePopUp=0,forceDims=0,handlerMode=-2){strUrl=_Utils$.stringPureVal(strUrl,true);if(strUrl==""){return}strUrl=String(strUrl||"");strTarget=_Utils$.stringPureVal(strTarget,true);const crr_protocol=String(document.location.protocol);const crr_arr_url=strUrl.split(":");const crr_url=crr_arr_url[0]+":";if((crr_protocol==="http:"||crr_protocol==="https:")&&(crr_url==="http:"||crr_url==="https:")&&crr_url!==crr_protocol){forcePopUp=1}let crrHostName=null;let tgtHostName=null;try{crrHostName=new URL(document.location).hostname;tgtHostName=new URL(strUrl).hostname}catch(err){crrHostName="";tgtHostName=""}if(crrHostName!=""&&tgtHostName!=""&&crrHostName!=tgtHostName){if(handlerMode<-1){handlerMode=2}}initModalOrPopUp(strUrl,strTarget,windowWidth,windowHeight,forcePopUp,forceDims,handlerMode);return false};_C$.PopUpLink=PopUpLink;const getCookie=function(name){name=_Utils$.stringPureVal(name,true);if(name==""||!regexValidCookieName.test(name)){return null}let c;try{c=document.cookie.match(new RegExp("(^|;)\\s*"+_Utils$.preg_quote(String(name))+"=([^;\\s]*)"))}catch(err){c=[];_p$.error(_N$,"ERR: getCookie("+name+") Failed:",err)}if(c&&c.length>=3){const d=decodeURIComponent(c[2]||"")||"";return String(d)}return""};_C$.getCookie=getCookie;const setCookie=function(name,value,expire=0,path="/",domain="@",samesite="@",secure=false){name=_Utils$.stringPureVal(name,true);if(name==""||!regexValidCookieName.test(name)){_p$.warn(_N$,"WARN: setCookie: Invalid Cookie Name:",name);return false}value=_Utils$.stringPureVal(value,true);let d=new Date;if(expire===null){expire=_C$.param_CookieLifeTime}expire=_Utils$.format_number_int(expire);if(expire){if(expire>0){d.setTime(d.getTime()+expire*1e3)}else if(expire<0){d.setTime(d.getTime()-3600*24-expire);value=null}else{expire=0}}else{expire=0}if(!value){value=null;expire=-1}path=_Utils$.stringPureVal(path,true);path=String(path||"/");domain=_Utils$.stringPureVal(domain,true);if(domain==="@"){domain=String(_C$.param_CookieDomain)}samesite=_Utils$.stringPureVal(samesite,true);if(samesite==="@"){samesite=String(_C$.param_CookieSameSitePolicy)}samesite=String(samesite).toLowerCase();switch(samesite){case"none":samesite="None";secure=true;break;case"lax":samesite="Lax";break;case"strict":samesite="Strict";break;default:samesite=""}try{document.cookie=_Utils$.escape_url(name)+"="+_Utils$.escape_url(value)+(expire?"; expires="+d.toGMTString():"")+"; path="+path+(domain?"; domain="+domain:"")+(samesite?"; SameSite="+samesite:"")+(secure?"; secure":"");return true}catch(err){_p$.warn(_N$,"WARN: Failed to setCookie:",err);return false}};_C$.setCookie=setCookie;const deleteCookie=(name,path="/",domain="@",samesite="@",secure=false)=>setCookie(name,null,-1,path,domain,samesite,secure);_C$.deleteCookie=deleteCookie;const TextAreaAddLimit=function(elemID,maxChars){elemID=_Utils$.stringPureVal(elemID);if(elemID==""){_p$.error(_N$,"TextAreaAddLimit","Empty Element ID");return}maxChars=_Utils$.format_number_int(maxChars,false);if(maxChars<1){_p$.warn(_N$,"ERR: TextArea Add Limit: Invalid Limit, will reset to 1");maxChars=1}$("#"+elemID).on("change click blur keydown keyup paste",evt=>{const field=$(evt.currentTarget);if(field.val().length>maxChars){field.val(field.val().substring(0,maxChars))}field.attr("title","# Max: "+maxChars+" ; Chars: "+(maxChars-field.val().length)+" #")}).attr("title","# Max: "+maxChars+" #").attr("maxlength",maxChars)};_C$.TextAreaAddLimit=TextAreaAddLimit;const catchKeyENTER=function(evt){if(!evt){return true}let key=null;if(evt.key){key=evt.key}else if(evt.which){key=evt.which}else if(evt.keyCode){key=evt.keyCode}if(key==="Enter"||key==13){evt.preventDefault();return false}return true};_C$.catchKeyENTER=catchKeyENTER;const catchKeyTAB=function(evt){if(!evt){return}let key=null;if(evt.key){key=evt.key}else if(evt.which){key=evt.which}else if(evt.keyCode){key=evt.keyCode}if(key==="Tab"||key==9){evt.preventDefault();const tab="\t";const t=evt.target;const ss=t.selectionStart;const se=t.selectionEnd;const scrollTop=t.scrollTop;const scrollLeft=t.scrollLeft;if(ss!=se&&t.value.slice(ss,se).indexOf("\n")!=-1){const pre=t.value.slice(0,ss);const sel=t.value.slice(ss,se).replace(/\n/g,"\n"+tab);const post=t.value.slice(se,t.value.length);t.value=pre.concat(tab).concat(sel).concat(post);t.selectionStart=ss+tab.length;t.selectionEnd=se+tab.length}else{t.value=t.value.slice(0,ss).concat(tab).concat(t.value.slice(ss,t.value.length));if(ss==se){t.selectionStart=t.selectionEnd=ss+tab.length}else{t.selectionStart=ss+tab.length;t.selectionEnd=se+tab.length}}t.scrollTop=scrollTop;t.scrollLeft=scrollLeft}};_C$.catchKeyTAB=catchKeyTAB;const CheckAllCheckBoxes=function(y_form_name,y_element_id,y_element_checked){let selector="body";if(y_form_name){selector='form[name="'+_Utils$.escape_html(y_form_name)+'"]'}selector+=' input[type="checkbox"]';let checked=!y_element_checked;$(selector).each((i,el)=>{const $el=$(el);checked?$el.prop("checked",false):$el.prop("checked",true)});return false};_C$.CheckAllCheckBoxes=CheckAllCheckBoxes;const CloneElement=function(elID,containerID,elType,maxLimit){const _m$="CloneElement";elID=_Utils$.stringPureVal(elID,true);elID=_Utils$.create_htmid(elID);if(elID==""){_p$.error(_N$,_m$,"ERR: Invalid elID");return}containerID=_Utils$.stringPureVal(containerID,true);containerID=_Utils$.create_htmid(containerID);if(containerID==""){_p$.error(_N$,_m$,"ERR: Invalid containerID");return}maxLimit=_Utils$.format_number_int(maxLimit,false);if(maxLimit<1){maxLimit=1}else if(maxLimit>255){maxLimit=255}const $el=$("#"+elID);const control_num=_Utils$.format_number_int(parseInt($("body").find("[id^="+"clone_control__"+elID+"]").length),false);if(control_num<=0){$el.before('<img id="'+"clone_control__"+_Utils$.escape_html(elID)+'" alt="AddNew" title="Add New (Max: '+_Utils$.escape_html(maxLimit)+')" height="16" src="'+_Utils$.escape_html(_C$.param_ImgCloneInsert)+'" style="cursor:pointer; vertical-align:middle;" onClick="smartJ$Browser.CloneElement(\''+_Utils$.escape_js(elID)+"', '"+_Utils$.escape_js(containerID)+"', '"+_Utils$.escape_js(elType)+"', "+_Utils$.format_number_int(maxLimit)+");"+'">&nbsp;&nbsp;</span>');return}let cloned_num=_Utils$.format_number_int(_Utils$.format_number_int($("body").find("[id^="+"clone_of__"+elID+"_"+"]").length),false);if(cloned_num<=0){cloned_num=0}if(cloned_num>=maxLimit-1){return}const date=new Date;const seconds=date.getTime();const milliseconds=date.getMilliseconds();const randNum=Math.random().toString(36);const uuID=_Crypto$Hash.sha1("The UUID for #"+cloned_num+" @ "+randNum+" :: "+seconds+"."+milliseconds);const $clone=$el.clone().attr("id","clone_of__"+elID+"_"+_Utils$.create_htmid(uuID));$("#"+containerID).append('<div class="cloned__'+_Utils$.escape_html(elID)+'" id="'+"clone_container__"+_Utils$.escape_html(elID)+"_"+_Utils$.escape_html(uuID)+'"><img alt="Remove" title="Remove" height="16" src="'+_Utils$.escape_html(_C$.param_ImgCloneRemove)+'" style="cursor:pointer; vertical-align:middle;" onClick="jQuery(this).parent().remove();">&nbsp;&nbsp;</div>');switch(String(elType)){case"text-input":case"text-area":case"file-input":$clone.val("").appendTo("#"+"clone_container__"+elID+"_"+_Utils$.create_htmid(uuID));break;case"html-element":default:$clone.appendTo("#"+"clone_container__"+elID+"_"+_Utils$.create_htmid(uuID))}};_C$.CloneElement=CloneElement;const SubmitFormByAjax=function(the_form_id,url,growl="auto",evcode=null,everrcode=null,evfailcode=null,failalertable=false){const _m$="SubmitFormByAjax";growl=_Utils$.stringPureVal(growl,true);if(growl==""){growl="auto"}else if(growl!="no"){growl="yes"}let dlg="auto";if(failalertable===true){if($.alertable){dlg="alertable"}}let haveGrowl=false;switch(growl){case"no":break;case"yes":if(GrowlSelectType()!=""){haveGrowl=true}else{_p$.warn(_N$,_m$,"WARN: Growl is required but is N/A")}break;case"auto":default:if(GrowlSelectType()!=""){haveGrowl=true}}let ajax=null;if(!the_form_id){ajax=AjaxRequestFromURL(url,"get","json")}else{ajax=AjaxRequestByForm(the_form_id,url,"json")}if(ajax===null){_p$.error(_N$,_m$,"ERR: Null XHR Object on FormID:",the_form_id);AlertDialog("<h3>FAIL: The XHR Object is NULL !</h3>",null,"ERROR",null,null,dlg);return}OverlayShow();ajax.done(msg=>{OverlayClear();if(typeof msg=="object"&&msg.hasOwnProperty("completed")&&msg.completed=="DONE"&&msg.hasOwnProperty("status")&&(msg.status=="OK"||msg.status=="ERROR")&&msg.hasOwnProperty("action")&&msg.action!=null&&msg.hasOwnProperty("title")&&msg.title!=null&&msg.hasOwnProperty("message")&&msg.message!=null&&msg.hasOwnProperty("js_evcode")&&msg.hasOwnProperty("redirect")&&msg.hasOwnProperty("replace_div")&&msg.hasOwnProperty("replace_html")){if(msg.status=="OK"){_Utils$.evalJsFxCode(_N$+"."+_m$+" (1.1)",typeof evcode==="function"?()=>{"use strict";evcode(the_form_id,url,msg)}:()=>{"use strict";!!evcode?eval(evcode):null});_Utils$.evalJsFxCode(_N$+"."+_m$+" (1.2)",typeof msg.js_evcode==="function"?()=>{"use strict";msg.js_evcode(the_form_id,url,msg)}:()=>{"use strict";!!msg.js_evcode?eval(msg.js_evcode):null});if(msg.hasOwnProperty("hide_form_on_success")&&!!msg.hide_form_on_success){if(!!the_form_id){$("form#"+the_form_id).hide()}}if(msg.redirect!=null&&msg.redirect!=""&&msg.message==""){RedirectDelayedToURL(msg.redirect,250)}else{if(msg.replace_div!=null&&msg.replace_div!=""&&msg.replace_html!=null&&msg.replace_html!=""){$("#"+msg.replace_div).empty().html(String(msg.replace_html))}if(msg.message!=""){MessageNotification(_Utils$.escape_html(String(msg.title)),'<img alt="ok" title="'+_Utils$.escape_html(msg.action)+'" src="'+_Utils$.escape_html(_C$.param_ImgOK)+'" align="right">'+msg.message,msg.redirect,haveGrowl===true?"yes":"no",haveGrowl===true?"green":"",_C$.param_NotificationTimeOK)}setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeOK+100)}}else{_Utils$.evalJsFxCode(_N$+"."+_m$+" (2.1)",typeof everrcode==="function"?()=>{"use strict";everrcode(the_form_id,url,msg)}:()=>{"use strict";!!everrcode?eval(everrcode):null});_Utils$.evalJsFxCode(_N$+"."+_m$+" (2.2)",typeof msg.js_evcode==="function"?()=>{"use strict";msg.js_evcode(the_form_id,url,msg)}:()=>{"use strict";!!msg.js_evcode?eval(msg.js_evcode):null});MessageNotification("* "+_Utils$.escape_html(msg.title),'<img alt="fail" title="'+_Utils$.escape_html(msg.action)+'" src="'+_Utils$.escape_html(_C$.param_ImgNotOK)+'" align="right">'+msg.message,msg.redirect,haveGrowl===true?"yes":"no",haveGrowl===true?"red":"",_C$.param_NotificationTimeERR);setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeERR+100)}}else{_p$.warn(_N$,_m$,"WARN: Invalid Data Object Format");MessageNotification("* ERR",'<img alt="fail" src="'+_Utils$.escape_html(_C$.param_ImgNotOK)+'" align="right">'+"Invalid Form Submit Response: Unexpected Data Object Format",null,haveGrowl===true?"yes":"no",haveGrowl===true?"pink":"",_C$.param_NotificationTimeERR);setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeERR+500);_Utils$.evalJsFxCode(_N$+"."+_m$+" (3)",typeof evfailcode==="function"?()=>{"use strict";evfailcode(the_form_id,url,msg)}:()=>{"use strict";!!evfailcode?eval(evfailcode):null})}}).fail(msg=>{OverlayClear();AlertDialog("<h4>HTTP&nbsp;Status: "+_Utils$.escape_html(msg.status)+_Utils$.escape_html(HTTP_STATUS_CODES[String(msg.status)]?" "+HTTP_STATUS_CODES[String(msg.status)]:msg.statusText?msg.statusText:"Unknown")+"</h4><br>"+"\n"+"<h5>XHR Server Response NOT Validated ...</h5>"+(msg.status==401?"<h6>If the auth credentials are valid and still getting this message do a full page refresh in the browser and try again, it could be a re-auth issue !</h6>":""),typeof evfailcode==="function"?()=>{"use strict";evfailcode(the_form_id,url,msg)}:()=>{"use strict";!!evfailcode?eval(evfailcode):null},"FAIL",null,null,dlg);setTimeout(()=>{OverlayHide()},_C$.param_NotificationTimeERR+1e3)})};_C$.SubmitFormByAjax=SubmitFormByAjax;const AjaxRequestByForm=function(the_form_id,url,data_type){const _m$="AjaxRequestByForm";the_form_id=_Utils$.stringPureVal(the_form_id,true);url=_Utils$.stringPureVal(url,true);let $form=null;let ajax=null;let data="";if(the_form_id!=""){$form=$("form#"+the_form_id);if(typeof $form.get(0)=="undefined"){_p$.error(_N$,_m$,"ERR: Form ["+the_form_id+"] was not found");return null}if(url==""){url=_Utils$.stringPureVal($form.attr("action"),true)}}if(url==""||url=="#"){_p$.error(_N$,_m$,"ERR: Invalid or Empty URL");return null}if(the_form_id==""){ajax=AjaxRequestFromURL(url,"GET",data_type,"")}else{const fMethod=_Utils$.stringPureVal($form.attr("method"),true);const fEncType=_Utils$.stringPureVal($form.attr("enctype"),true);let isMultipart=false;if(fMethod.toLowerCase()=="post"&&fEncType.toLowerCase()=="multipart/form-data"){let haveFiles=$form.find("input:file");if(typeof haveFiles!="undefined"){if(typeof haveFiles.get(0)!="undefined"){isMultipart=true}}}if(isMultipart!==true){data=$form.serialize();ajax=AjaxRequestFromURL(url,"POST",data_type,data)}else{try{data=new FormData($form.get(0));ajax=AjaxPostMultiPartToURL(url,data_type,data)}catch(err){data=$form.serialize();ajax=AjaxRequestFromURL(url,"POST",data_type,data);const warnMsg="ERR: "+_m$+" FormData Object Failed. File Attachments were NOT sent ! Try to upgrade / change your browser. It may not support HTML5 File Uploads.";_p$.error(_N$,warnMsg," # Form:",the_form_id);AlertDialog(_Utils$.escape_html(warnMsg),null,"Form: "+the_form_id)}}}return ajax};_C$.AjaxRequestByForm=AjaxRequestByForm;const AjaxPostMultiPartToURL=function(y_url,y_data_type,y_data_formData,y_withCredentials=false){const _m$="AjaxPostMultiPartToURL";y_url=_Utils$.stringPureVal(y_url,true);if(y_url==""||y_url=="#"){_p$.error(_N$,_m$,"ERR: Empty URL");return null}y_data_type=getValidjQueryAjaxType(y_data_type);let ajxOpts={async:true,type:"POST",url:String(y_url),contentType:false,processData:false,data:y_data_formData,dataType:String(y_data_type)};if(y_withCredentials===true){ajxOpts.xhrFields={withCredentials:true}}return $.ajax(ajxOpts)};_C$.AjaxPostMultiPartToURL=AjaxPostMultiPartToURL;const AjaxRequestFromURL=function(y_url,y_method,y_data_type,y_data_arr_or_serialized,y_AuthUser=null,y_AuthPass=null,y_Headers=null,y_withCredentials=false){const _m$="AjaxRequestFromURL";y_url=_Utils$.stringPureVal(y_url,true);if(y_url==""){_p$.error(_N$,_m$,"ERR: Empty URL");return null}y_method=_Utils$.stringPureVal(y_method,true).toUpperCase();switch(y_method){case"OPTIONS":case"DELETE":case"PATCH":case"PUT":case"HEAD":case"POST":case"GET":break;default:y_method="GET"}y_data_type=getValidjQueryAjaxType(y_data_type);if(typeof y_data_arr_or_serialized!="object"){y_data_arr_or_serialized=_Utils$.stringPureVal(y_data_arr_or_serialized)}let the_headers={};if(typeof y_Headers=="object"){the_headers=y_Headers}let the_user="";let the_pass="";y_AuthUser=_Utils$.stringPureVal(y_AuthUser,true);y_AuthPass=_Utils$.stringPureVal(y_AuthPass);if(y_AuthUser&&y_AuthPass){the_user=String(y_AuthUser);the_pass=String(y_AuthPass)}let ajxOpts={async:true,type:String(y_method),url:String(y_url),headers:the_headers,username:String(the_user),password:String(the_pass),data:y_data_arr_or_serialized,dataType:String(y_data_type)};if(y_withCredentials===true){ajxOpts.xhrFields={withCredentials:true}}return $.ajax(ajxOpts)};_C$.AjaxRequestFromURL=AjaxRequestFromURL;const LoadElementContentByAjax=function(y_elemID,y_img_loader,y_url,y_method,y_data_type,y_data_arr_or_serialized,y_replace=false,y_notifyerr=null){const _m$="LoadElementContentByAjax";y_elemID=_Utils$.stringPureVal(y_elemID,true);y_elemID=_Utils$.create_htmid(y_elemID);if(y_elemID==""){_p$.error(_N$,_m$,"ERR: Empty Element ID");return}if(y_img_loader===true){y_img_loader=_C$.param_LoaderImg}y_img_loader=_Utils$.stringPureVal(y_img_loader,true);if(y_img_loader!=""){if($("#"+y_elemID+"__"+_Utils$.create_htmid(_m$)).length==0){$("#"+y_elemID).prepend('<span id="'+_Utils$.escape_html(y_elemID)+"__"+_Utils$.create_htmid(_m$)+'"><img src="'+_Utils$.escape_html(y_img_loader)+'" title="Loading ..." alt="Loading ..."></span><br>')}}let ajax=AjaxRequestFromURL(y_url,y_method,y_data_type,y_data_arr_or_serialized);ajax.done(msg=>{let divContent="";if(y_data_type==="json"){if(msg.hasOwnProperty("div_content_html")){divContent=String(msg.div_content_html)}}else{divContent=String(msg)}if(y_replace===true){$("#"+y_elemID).replaceWith(divContent)}else{$("#"+y_elemID).empty().html(divContent)}}).fail(msg=>{let notifyErr=!!_C$.param_NotifyLoadError;if(y_notifyerr===true||y_notifyerr===false){notifyErr=!!y_notifyerr}const errDetails="ElementID: "+y_elemID+" ; "+"URL: "+y_url+" ; "+"Method: "+y_method+" ; "+"DataType: "+y_data_type;if(notifyErr===true){GrowlNotificationAdd("HTTP&nbsp;Status: "+_Utils$.escape_html(msg.status)+_Utils$.escape_html(HTTP_STATUS_CODES[String(msg.status)]?" "+HTTP_STATUS_CODES[String(msg.status)]:msg.statusText?msg.statusText:"Unknown"),"FAIL: Invalid Server Response for: "+_Utils$.escape_html(_m$)+"<br>"+"<b><i>Details:</i></b><br>"+_Utils$.nl2br(_Utils$.escape_html(_Utils$.stringReplaceAll(" ; ","\n",errDetails))),_C$.param_ImgNotOK,0,true,"dark")}else{_p$.error(_N$,_m$,"ERR: Invalid Server Response","HTTP Status Code:",msg.status,";",errDetails)}$("#"+y_elemID).empty().html("")})};_C$.LoadElementContentByAjax=LoadElementContentByAjax;const windwScrollDown=function(wnd,offset){let scrollY=_Utils$.format_number_int(parseInt(offset));if(scrollY<0){scrollY=_Utils$.format_number_int(parseInt($(document).height()));if(scrollY<0){scrollY=0}}try{wnd.scrollBy(0,scrollY)}catch(err){}};_C$.windwScrollDown=windwScrollDown;const WayPoint=function(elSelector,evcode){const _m$="WayPoint";elSelector=_Utils$.stringPureVal(elSelector,true);if(elSelector==""||elSelector=="."||elSelector=="#"){_p$.error(_N$,_m$,"ERR: invalid selector:",elSelector);return}if(typeof evcode!=="function"){evcode=_Utils$.stringPureVal(evcode);if(_Utils$.stringTrim(evcode)==""){_p$.error(_N$,_m$,"ERR: empty evcode");return}}let scrollTrigger=true;const $w=$(window);$(window).scroll(()=>{if(!scrollTrigger){return}const $e=$(String(elSelector));if(!$e.length||$e.is(":hidden")){return false}const wt=$w.scrollTop(),wb=wt+$w.height(),et=$e.offset().top,eb=et+$e.height(),th=0;const shouldLoad=eb>=wt-th&&et<=wb+th;if(shouldLoad){scrollTrigger=false;_Utils$.evalJsFxCode(_N$+"."+_m$,typeof evcode==="function"?()=>{"use strict";evcode($e,elSelector)}:()=>{"use strict";!!evcode?eval(evcode):null})}})};_C$.WayPoint=WayPoint;const VirtualFileDownload=function(data,fileName,mimeType,charset=null,binary=false){const _m$="VirtualFileDownload";data=_Utils$.stringPureVal(data);fileName=_Utils$.stringPureVal(fileName,true);if(!fileName){fileName="file.none"}mimeType=_Utils$.stringPureVal(mimeType,true);if(!mimeType){mimeType="application/octet-stream"}if(charset===null){charset=String(_C$.param_Charset)}charset=_Utils$.stringPureVal(charset,true);if(binary===true){charset=""}else{binary=false;if(charset==""){charset="UTF-8"}}let link=null;try{link=document.createElement("a");if(link){link.href=String("data:"+String(mimeType)+(charset?";charset="+charset:"")+";base64,"+_Ba$e64.encode(data,binary));link.target="_blank";link.setAttribute("download",String(fileName));document.body.appendChild(link);link.style="display:none";link.click()}}catch(err){link=false;_p$.error(_N$,_m$,"ERR: Create Failed:",err)}if(link){setTimeout(()=>{try{document.body.removeChild(link)}catch(e){_p$.warn(_N$,_m$,"WARN: Remove Failed:",e)}},250)}};_C$.VirtualFileDownload=VirtualFileDownload;const VirtualImageUploadHandler=function(inputUpldFileId,previewPlaceholderId,imgQuality,imgMaxResizeMBSize,imgMaxResizeW,imgMaxResizeH,fxDone,clearPreview,widthPreview,heightPreview,preserveGifs){const _m$="VirtualImageUploadHandler";const txtWarn="Image Uploader WARNING: ";inputUpldFileId=_Utils$.stringPureVal(inputUpldFileId,true);inputUpldFileId=_Utils$.create_htmid(inputUpldFileId);if(inputUpldFileId==""){_p$.error(_N$,_m$,"ERR:","Invalid uploadInput ID");return}previewPlaceholderId=_Utils$.stringPureVal(previewPlaceholderId,true);previewPlaceholderId=_Utils$.create_htmid(previewPlaceholderId);if(previewPlaceholderId==""){_p$.error(_N$,_m$,"ERR:","Invalid uploadPreview ID");return}if(!imgQuality){imgQuality=.85}imgQuality=_Utils$.format_number_float(imgQuality);if(imgQuality<.1){imgQuality=.1}else if(imgQuality>1){imgQuality=1}if(!imgMaxResizeMBSize){imgMaxResizeMBSize=.1}imgMaxResizeMBSize=_Utils$.format_number_float(imgMaxResizeMBSize);if(imgMaxResizeMBSize<.01){imgMaxResizeMBSize=.01}else if(imgMaxResizeMBSize>2){imgMaxResizeMBSize=2}imgMaxResizeW=_Utils$.format_number_int(imgMaxResizeW);if(imgMaxResizeW<=0){imgMaxResizeW=800}imgMaxResizeH=_Utils$.format_number_int(imgMaxResizeH);if(imgMaxResizeH<=0){imgMaxResizeH=600}if(clearPreview!==false){clearPreview=true}widthPreview=_Utils$.format_number_int(widthPreview);if(widthPreview<=0){widthPreview=imgMaxResizeW}heightPreview=_Utils$.format_number_int(heightPreview);if(heightPreview<=0){heightPreview=heightPreview}if(preserveGifs!==true){preserveGifs=false}if(typeof fxDone!="function"){fxDone=null}const $upldr=$("#"+inputUpldFileId);const $imgpw=$("#"+previewPlaceholderId);$upldr.on("change",()=>{const the_file=$upldr[0].files[0];if(!the_file){$upldr.val("");_p$.error(_N$,_m$,"ERR:","Invalid File Uploader");return}let the_name_of_file=String(the_file.name||"");let the_type_of_file=String(the_file.type||"").toLowerCase();let the_size_of_file=_Utils$.format_number_int(the_file.size,false);const the_filter=/^(image\/svg\+xml|image\/webp|image\/jpeg|image\/png|image\/gif)$/i;if(!the_filter.test(the_type_of_file)){$upldr.val("");$imgpw.text(txtWarn+"Invalid File Type - Only SVG / JPEG / WEBP / PNG or GIF Images are allowed): "+the_type_of_file);return}if(the_size_of_file<43){$upldr.val("");$imgpw.text(txtWarn+"Invalid File Size - Image size is empty or too small");return}else if(the_size_of_file>1024*1024*32){$upldr.val("");$imgpw.text(txtWarn+"Invalid File Size - Image is larger than 32MB");return}const imgRemoveBtn='<div title="Remove the Image" style="width:20px; height:20px; line-height:20px; font-size:15px; font-weight:bold; color:#111111; cursor:pointer;" onClick="jQuery(\'#'+_Utils$.escape_js(inputUpldFileId)+"').val(''); jQuery('#"+_Utils$.escape_js(previewPlaceholderId)+"').html('');\">&times;</div>";$imgpw.html(imgRemoveBtn);try{const the_frd=new FileReader;the_frd.onloadend=()=>{$imgpw.append('<img id="uxm-img-uploader-result-img" src="'+_Utils$.escape_html(the_frd.result)+'" style="max-width:'+_Utils$.escape_html(imgMaxResizeW)+"px; max-height:"+_Utils$.escape_html(imgMaxResizeH)+'px; width:auto !important; height:auto !important;">');setTimeout(()=>{const isSVG=String(the_type_of_file).toLowerCase()==="image/svg+xml"?true:false;const img=$("#uxm-img-uploader-result-img");let isOK=false;let w=Math.round(img.width())||1;let h=Math.round(img.height())||1;let isPreservedGif=false;if(preserveGifs===true){if(the_type_of_file==="image/gif"){isPreservedGif=true}}if(isSVG||isPreservedGif){if(String(the_frd.result).length<=1024*1024*imgMaxResizeMBSize){isOK=true;if(typeof fxDone=="function"){try{fxDone(String(the_frd.result),w,h,isSVG,String(the_type_of_file),String(the_frd.result).length,String(the_name_of_file))}catch(e){$upldr.val("");_p$.error(_N$,_m$,"ERR:","SVG CallBack Failed:",e);return}}}else{$upldr.val("");$imgpw.text(txtWarn+"Size is higher than allowed size: "+String(the_frd.result).length+" Bytes")}if(isOK){$imgpw.empty().html("");if(!clearPreview){$imgpw.html(String(imgRemoveBtn)+"\n"+'<img id="uxm-img-uploader-result-img" src="'+_Utils$.escape_html(the_frd.result)+'" style="max-width:'+_Utils$.escape_html(widthPreview)+"px; max-height:"+_Utils$.escape_html(heightPreview)+'px; width:auto !important; height:auto !important;">')}}}else{$("#uxm-img-uploader-result-img").remove();$imgpw.append('<canvas id="uxm-img-uploader-result-cnvs" width="'+_Utils$.escape_html(w)+'" height="'+_Utils$.escape_html(h)+'" style="border: 1px dotted #ECECEC;"></canvas>');const im=new Image;im.width=w;im.height=h;im.onload=()=>{const cnv=$("#uxm-img-uploader-result-cnvs")[0];if(!cnv){$upldr.val("");_p$.error(_N$,_m$,"ERR:","Failed to Get Resizable Container");return}const ctx=cnv.getContext("2d");if(!ctx){$upldr.val("");_p$.error(_N$,_m$,"ERR:","Failed to Get Resizable Container Context");return}try{ctx.drawImage(im,0,0,w,h)}catch(imgerr){$upldr.val("");_p$.error(_N$,_m$,"ERR:","Failed to Draw Canvas Image:",imgerr);return}const imgResizedB64=cnv.toDataURL(String(the_type_of_file),imgQuality);if(String(imgResizedB64).length<=1024*1024*imgMaxResizeMBSize){isOK=true;if(typeof fxDone=="function"){try{fxDone(String(imgResizedB64),w,h,false,String(the_type_of_file),String(imgResizedB64).length,String(the_name_of_file))}catch(e){$upldr.val("");_p$.error(_N$,_m$,"ERR:","IMG CallBack Failed:",e);return}}if(isOK){$imgpw.empty().html("");if(!clearPreview){$imgpw.html(String(imgRemoveBtn)+"\n"+'<img id="uxm-img-uploader-result-img" src="'+_Utils$.escape_html(imgResizedB64)+'" style="max-width:'+_Utils$.escape_html(widthPreview)+"px; max-height:"+_Utils$.escape_html(heightPreview)+'px; width:auto !important; height:auto !important;">')}}}else{$upldr.val("");$imgpw.text(txtWarn+"Image Size after resize is higher than allowed size: "+String(imgResizedB64).length+" Bytes");return}};im.src=String(the_frd.result)}},500)};try{the_frd.readAsDataURL(the_file)}catch(fail){$upldr.val("");_p$.error(_N$,_m$,"ERR: Failed to Read Data URL:",fail);return}}catch(err){$upldr.val("");_p$.error(_N$,_m$,"ERR:",err);return}})};_C$.VirtualImageUploadHandler=VirtualImageUploadHandler;const allowModalBox=function(){let isActive=false;if(_C$.param_ModalBoxActive==1&&!_Te$tBrowser.checkIsMobileDevice()){isActive=!!_C$.param_ModalBoxActive}else if(_C$.param_ModalBoxActive>1){isActive=!!_C$.param_ModalBoxActive}return!!isActive};const allowModalCascading=function(){const _m$="allowModalCascading";let cascadeModal=true;if(!!_C$.param_ModalBoxNoCascade){cascadeModal=false}try{if(typeof smartJ$ModalBox!="undefined"){if(self.name){if(self.name==smartJ$ModalBox.getName()){return cascadeModal}}}}catch(err){_p$.error(_N$,_m$,"ERR: Failed for Self:",err)}try{if(typeof parent.smartJ$ModalBox!="undefined"){if(parent.name){if(parent.name==parent.smartJ$ModalBox.getName()){return cascadeModal}}}}catch(err){_p$.error(_N$,_m$,"ERR: Failed for Parent:",err)}return true};const OverlayValidID=overlay_id=>{overlay_id=_Utils$.stringPureVal(overlay_id,true);overlay_id=_Utils$.create_htmid(overlay_id);if(overlay_id==""){overlay_id=String(sfOverlayID)}return String(overlay_id)};const DialogSelectType=()=>{switch(_C$.param_NotificationDialogType){case"alertable":if(typeof $.alertable!="undefined"){return"alertable"}break;case"ui":case"auto":if(typeof smartJ$UI=="object"&&typeof smartJ$UI.DialogAlert=="function"&&typeof smartJ$UI.DialogConfirm=="function"){return"ui"}else if(_C$.param_NotificationDialogType==="auto"&&typeof $.alertable!="undefined"){return"alertable"}break}return"native"};const GrowlSelectType=()=>{if(_C$.param_Notifications!=="growl"){return""}switch(_C$.param_NotificationGrowlType){case"toastr":if(typeof $.toastr!="undefined"){return"toastr"}break;case"ui":case"auto":if(typeof smartJ$UI!="undefined"&&typeof smartJ$UI.GrowlAdd=="function"&&typeof smartJ$UI.GrowlRemove=="function"){return"ui"}else if(_C$.param_NotificationGrowlType==="auto"&&typeof $.toastr!="undefined"){return"toastr"}break}return""};const getValidjQueryAjaxType=y_data_type=>{y_data_type=_Utils$.stringPureVal(y_data_type,true);switch(y_data_type){case"json":case"jsonp":case"script":case"html":case"xml":case"text":break;default:y_data_type="text"}return String(y_data_type)};const initModalOrPopUp=function(strUrl,strTarget,windowWidth,windowHeight,forcePopUp,forceDims,handlerMode){const _m$="initModalOrPopUp";strUrl=_Utils$.stringPureVal(strUrl);strTarget=_Utils$.stringPureVal(strTarget);windowWidth=_Utils$.format_number_int(parseInt(windowWidth),false);windowHeight=_Utils$.format_number_int(parseInt(windowHeight),false);forcePopUp=_Utils$.format_number_int(parseInt(forcePopUp),true);forceDims=_Utils$.format_number_int(parseInt(forceDims),true);handlerMode=_Utils$.format_number_int(parseInt(handlerMode),true);if((typeof smartJ$ModalBox!="undefined"&&allowModalCascading()&&forcePopUp!=1||forcePopUp==-1)&&allowModalBox()){if(handlerMode<=0){smartJ$ModalBox.setRefreshParent(_C$.getFlag("RefreshState"),_C$.getFlag("RefreshURL"))}_C$.setFlag("RefreshState",0);_C$.setFlag("RefreshURL","");if(forceDims!=1){smartJ$ModalBox.LoadURL(strUrl,_C$.param_ModalBoxProtected)}else{smartJ$ModalBox.LoadURL(strUrl,_C$.param_ModalBoxProtected,windowWidth,windowHeight)}}else{if(strTarget==""||strTarget.toLowerCase()=="_blank"||strTarget.toLowerCase()=="_self"){strTarget=String(defSmartPopupTarget)}let the_screen_width=0;try{the_screen_width=_Utils$.format_number_int(parseInt(screen.width))}catch(e){}if(the_screen_width<=0){the_screen_width=920}let the_screen_height=0;try{the_screen_height=_Utils$.format_number_int(parseInt(screen.height))}catch(e){}if(the_screen_height<=0){the_screen_height=700}let maxW=_Utils$.format_number_int(Math.round(the_screen_width*.9));if(windowWidth>maxW){windowWidth=maxW}let maxH=_Utils$.format_number_int(Math.round(the_screen_height*.8));if(windowHeight>maxH){windowHeight=maxH}if(windowWidth<200||windowHeight<100){windowWidth=maxW;windowHeight=maxH}let windowTop=50;let windowLeft=_Utils$.format_number_int(Math.round(the_screen_width/2-windowWidth/2));if(windowLeft<10){windowLeft=10}if(objRefWinPopup){windowFocus(objRefWinPopup)}let useMonitor=true;let useRdr=true;if(handlerMode==-1){useRdr=false}else if(handlerMode==1){useMonitor=false}else if(handlerMode==2){useMonitor=false;useRdr=false}let pUrl=String(_C$.param_LoaderBlank);if(useRdr!==true){pUrl=strUrl}try{objRefWinPopup=window.open(pUrl,strTarget,"top="+windowTop+",left="+windowLeft+",width="+windowWidth+",height="+windowHeight+",toolbar=0,scrollbars=1,resizable=1")}catch(err){_p$.error(_N$,_m$,"ERROR raising a new PopUp Window:",err)}if(objRefWinPopup){windowFocus(objRefWinPopup);if(useRdr===true){try{setTimeout(()=>{objRefWinPopup.location=strUrl},_C$.param_TimeDelayCloseWnd)}catch(err){_p$.error(_N$,_m$,"ERROR redirecting the PopUp Window to ["+strUrl+"]:",err)}}if(useMonitor!==true){_C$.setFlag("RefreshState",0);_C$.setFlag("RefreshURL","")}else{try{const wnd_popup_timer=setInterval(()=>{if(getFlag("PageAway")!==true){let pop=_C$.getRefPopup();if(pop&&pop.closed){clearInterval(wnd_popup_timer);try{if(_C$.getFlag("RefreshState")){if(!_C$.getFlag("RefreshURL")){self.location=self.location}else{self.location=String(_C$.getFlag("RefreshURL"))}_C$.setFlag("RefreshState",0);_C$.setFlag("RefreshURL","")}}catch(err){_p$.warn(_N$,_m$,"WARN: Failed to Set Refresh on Self:",err)}return false}}},250)}catch(err){}}}}}}};smartJ$Browser.secureClass();window.smartJ$Browser=smartJ$Browser;(()=>{const _p$=console;const $=jQuery;const _Utils$=smartJ$Utils;const _BwUtils$=smartJ$Browser;const _ModalBox$=smartJ$ModalBox;$(()=>{const version=_ModalBox$.getVersion();$("body").on("click","a[data-smart]",el=>{const $el=$(el.currentTarget);const dataSmart=$el.attr("data-smart");if(!dataSmart){return true}const isModal=RegExp(/^open.modal/i).test(dataSmart);const isPopup=RegExp(/^open.popup/i).test(dataSmart);if(isModal!==true&&isPopup!==true){return true}const attrHref=_Utils$.stringPureVal($el.attr("href"),true);if(attrHref==""){_p$.error("iFrmBox Scanner ("+version+")","The Clicked Data-Smart ["+dataSmart+"] Link has no Href Attribute: `"+_Utils$.stringTrim($el.text())+"`");return false}let attrTarget=_Utils$.stringPureVal($el.attr("target"),true);if(attrTarget==""){attrTarget="_blank"}let winWidth=_Utils$.format_number_int(parseInt($(window).width()),false);if(winWidth<200){winWidth=200}let winHeight=parseInt($(window).height());if(winHeight<100){winHeight=100}const aDim=dataSmart.match(/[0-9]+(\.[0-9][0-9]?)?/g);let w=winWidth;let h=winHeight;let u=aDim&&aDim[2]>0?aDim[2]:0;if(aDim){if(aDim[0]>0){if(aDim[0]<1){w=aDim[0]*winWidth}else{w=aDim[0]}}if(aDim[1]>0){if(aDim[1]<1){h=aDim[1]*winHeight}else{h=aDim[1]}}}w=_Utils$.format_number_int(parseInt(w),false);h=_Utils$.format_number_int(parseInt(h),false);u=_Utils$.format_number_int(parseInt(u),false);if(w>winWidth){w=_Utils$.format_number_int(parseInt(winWidth*.9),false)}if(w<200){w=200}if(h>winHeight){h=_Utils$.format_number_int(parseInt(winHeight*.9),false)}if(h<100){h=100}let mode=0;switch(u){case 1:mode=-1;break;default:mode=0}if(isModal===true){_BwUtils$.PopUpLink(attrHref,attrTarget,w,h,mode,1)}else if(isPopup===true){_BwUtils$.PopUpLink(attrHref,attrTarget,w,h,1,1)}return false})})})();
// #END
