// JS-Script (UM): continuelist.js @ 2023-11-25 11:00:36 +0000
(function(e){if(typeof exports=="object"&&typeof module=="object"){e(require("../../lib/codemirror"))}else if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],e)}else{e(CodeMirror)}})(function(x){"use strict";var I=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,w=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,b=/[*+-]\s/;x.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput")){return x.Pass}var n=e.listSelections(),t=[];for(var r=0;r<n.length;r++){var i=n[r].head;var a=e.getStateAfter(i.line);var l=x.innerMode(e.getMode(),a);if(l.mode.name!=="markdown"){e.execCommand("newlineAndIndent");return}else{a=l.state}var s=a.list!==false;var o=a.quote!==0;var c=e.getLine(i.line),f=I.exec(c);var d=/^\s*$/.test(c.slice(0,i.ch));if(!n[r].empty()||!s&&!o||!f||d){e.execCommand("newlineAndIndent");return}if(w.test(c)){var v=o&&/>\s*$/.test(c);var u=!/>\s*$/.test(c);if(v||u){e.replaceRange("",{line:i.line,ch:0},{line:i.line,ch:i.ch+1})}t[r]="\n"}else{var p=f[1],g=f[5];var h=!(b.test(f[2])||f[2].indexOf(">")>=0);var m=h?parseInt(f[3],10)+1+f[4]:f[2].replace("x"," ");t[r]="\n"+p+m+g;if(h){y(e,i)}}}e.replaceSelections(t)};function y(e,n){var t=n.line,r=0,i=0;var a=I.exec(e.getLine(t)),l=a[1];do{r+=1;var s=t+r;var o=e.getLine(s),c=I.exec(o);if(c){var f=c[1];var d=parseInt(a[3],10)+r-i;var v=parseInt(c[3],10),u=v;if(l===f&&!isNaN(v)){if(d===v){u=v+1}if(d>v){u=d+1}e.replaceRange(o.replace(I,f+u+c[4]+c[5]),{line:s,ch:0},{line:s,ch:o.length})}else{if(l.length>f.length){return}if(l.length<f.length&&r===1){return}i+=1}}}while(c)}});
// #END
